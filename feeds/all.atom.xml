<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Programming warfare</title><link href="https://harunx9.github.io/" rel="alternate"></link><link href="https://harunx9.github.io/feeds/all.atom.xml" rel="self"></link><id>https://harunx9.github.io/</id><updated>2018-03-24T16:00:00+01:00</updated><entry><title>C# like events in C++ - second approach</title><link href="https://harunx9.github.io/c-like-events-in-c-second-approach.html" rel="alternate"></link><published>2018-03-24T16:00:00+01:00</published><updated>2018-03-24T16:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2018-03-24:/c-like-events-in-c-second-approach.html</id><summary type="html">&lt;p&gt;Hi Everyone ! About year ago I try to implement events for 2DXngine. Right now when I try to implement game I realize that this implementation is insufficient for my current needs. Previous events need to store binding in order to unsubscribe, use macro to create bindings and so on. This â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hi Everyone ! About year ago I try to implement events for 2DXngine. Right now when I try to implement game I realize that this implementation is insufficient for my current needs. Previous events need to store binding in order to unsubscribe, use macro to create bindings and so on. This lead me to try to implement new events. Let see how I want to use events:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestPublisherClass&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;

    &lt;span class="n"&gt;Event&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;evt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;fire&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;evt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestSubscriberClass&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;EventArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you see when publisher call &lt;code&gt;fire()&lt;/code&gt; counter will increase by one. To subscribe and unsubscribe to event I want to use &lt;code&gt;+=&lt;/code&gt; and &lt;code&gt;-=&lt;/code&gt; operator like in C#. To have some base requirements i wrote three tests:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;TEST&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;when_evt_is_assigned&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;then_event_should_be_fired_and_subscriber_counter_will_increase&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Arrnge&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;pub&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestPublisherClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;sub&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="c1"&gt;//Act&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;fire&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="c1"&gt;//Assert&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;TEST&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;when_evt_is_assigned_to_multiple_subs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;then_event_should_be_fired_and_subscribers_counter_will_increase&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Arrange&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;pub&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestPublisherClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;sub1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;sub2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="c1"&gt;//Act&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;fire&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="c1"&gt;//Assert&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sub1&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sub2&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;TEST&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;when_not_template_evt_is_assigned_to_multiple_subs_and_unsub_one_sub&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;then_event_should_be_fired&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Arrange &lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;pub&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestPublisherClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;sub1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;sub2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;evt&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sub1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;TestSubscriberClass&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;OnEventFired&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="c1"&gt;//Act&lt;/span&gt;
    &lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;fire&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="c1"&gt;//Assert&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sub1&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sub2&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Originally, implementation use raw pointers, but I try to use smart equivalent. I don't know much about them, but I think my usage not cause any memory leaks. If you see some possibilities of mem leaks write comment and i will try to fix that.
At first let's take a look on &lt;code&gt;Delegate&amp;lt;&amp;gt;&lt;/code&gt; implementation:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;EventArgs&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;DelegateBase&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="nl"&gt;Delegate&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;DelegateBase&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;::*&lt;/span&gt;&lt;span class="n"&gt;HandlerType&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bound_handler&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TSubscriber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;subscriber&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;HandlerType&lt;/span&gt; &lt;span class="n"&gt;callback&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_subscriber&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subscriber&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;_handler&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;callback&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subscriber&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;placeholders&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;placeholders&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;_2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscriber&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;del&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;addr1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;addressof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscriber&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;addr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;addressof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;del&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscriber&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;addr1&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;addr2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;TSubscriber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;_subscriber&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;bound_handler&lt;/span&gt; &lt;span class="n"&gt;_handler&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see my delegate wrap specific member function pointer and call it when invoke method will be called. To have possibility to find specific delegate by subscriber instance. Last element in implementation is &lt;code&gt;Event&amp;lt;&amp;gt;&lt;/code&gt; itself:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Event&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="n"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Event&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Event&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;()(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nl"&gt;subscriber&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;subscriber&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="n"&gt;Event&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="n"&gt;Event&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;-=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;iterToRemove&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;remove_if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;DelegateBase&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;del&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
            &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;dynamic_pointer_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Delegate&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TSubscriber&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;del&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;erase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;iterToRemove&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;DelegateBase&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;TArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I test this implementation a little and it seems to fit my current requirements. What do you think about this events implementation, maybe you have better solution. As always I invite you to comments section. See you !&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term="functional pregramming"></category><category term="pattern matching"></category></entry><entry><title>Functional flavor in C# 7 with pattern matching</title><link href="https://harunx9.github.io/functional-flavor-in-c-7-with-pattern-matching.html" rel="alternate"></link><published>2018-02-11T18:00:00+01:00</published><updated>2018-02-11T18:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2018-02-11:/functional-flavor-in-c-7-with-pattern-matching.html</id><summary type="html">&lt;p&gt;With many great features C# 7 comes with new and shiny pattern matching. I know that this feature is less usable then in other languages, but it add new possibilities to coding. In this article I want to share with you my experiments with monads.&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;Optional&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;I believe that â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;With many great features C# 7 comes with new and shiny pattern matching. I know that this feature is less usable then in other languages, but it add new possibilities to coding. In this article I want to share with you my experiments with monads.&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;Optional&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;I believe that some of you know that null exception is big pain in developer life. I hear that even null creator say that this was a "billion-dollar mistake" to invent null. In other hand some languages like F# or Rust try to decrees of null using provide Optional monad. This monad have two possibilities happen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some - indicate that we have some value, &lt;/li&gt;
&lt;li&gt;None - we do not have any value in this optional.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So I try to implement this using OOP in C# like that:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IOptional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Value&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Optional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IOptional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Value&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IOptional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="k"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="k"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IOptional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;None&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;None&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Optional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Value&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="k"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Value&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Optional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Value&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;NotSupportedException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And also I implement some simple test:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Person&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;surname&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;surname&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IOptional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;GetPerson&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;isSome&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
    &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;isSome&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt;
        &lt;span class="n"&gt;Optional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Adam&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Kowalski&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;Optional&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;None&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;opt&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetPerson&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{p.Value.Name} {p.Value.Surname} is present&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;None&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;No one is present&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I believe this simple implementation can be used to get rid of many nulls in code. Also when it will be use with new pattern matching feature as you see in example above. Maybe in next step I try to make some extension to LINQ to have possibility to use this with collections.&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;Result&amp;lt;E&amp;gt;&lt;/code&gt; and &lt;code&gt;Result&amp;lt;T, E&amp;gt;&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Other monad I try to experiment with is Result. At first I meet this when I try to learn Rust programming language. What is Result then and how to use that in your code? So many functions take data and save it to database or filesystem. For most time this methods are void and if any problem occurs exception will be throw from it. On top of it we should catch that exception or leave it as it is and pray nothing will happen of have try and bunch of catch statements to have possibility to react of each individually or one catch statement to log and forget every exception. It's not like that I think that using exceptions in a bad thing. There are some places where exception are handy like validating in constructor in value objects but error handling could be done without of try catch hell. 
I implement two solutions one for void function and one for result with data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;NotSupportedException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Outcome&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Outcome&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Outcome&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;NotSupportedException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Outcome&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Outcome&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;NotSupportedException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Implementation Result&lt;E&gt; we can use in situation when we want to write void function to get that if all operations was executed correctly:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;GetResult&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;isOk&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;isOk&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; 
        &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Ooops we got error&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetResult&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Everything is fine&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;err&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In other hand Result&lt;T, E&gt; used when you want to implement function that actually return something, but in this case we also get error when something wrong happens:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IResult&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;GetResult&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;isOk&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;isOk&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; 
        &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;.&lt;/span&gt;&lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Ooops we got error&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetResult&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Lucky number is {ok.Outcome}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;Err&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;err&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;One thing I cannot resolve that I can't hide Error in Ok response and Outcome in Error. I workaround that witch NotSupportedException, but maybe you can help me with that. 
At the end I want to give you Github Gist where all code with test programs are available: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/Harunx9/94e0473fd41e749431cb1a3b266d0917"&gt;&lt;code&gt;Optional&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/Harunx9/e972f3662ec2ed7ed376c49fda941502"&gt;&lt;code&gt;Result&amp;lt;E&amp;gt;&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/Harunx9/ddd029364ab42da15e1aa3208f0d6598"&gt;&lt;code&gt;Result&amp;lt;T, E&amp;gt;&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you also experiment with monads with C# 7 please share with me your experiences with that. 
As always I invite you to comments section to discuss article. See you next time!&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term="functional pregramming"></category><category term="pattern matching"></category></entry><entry><title>Jak staÄ‡ siÄ™ junior developerem - Tutorial cz. 2</title><link href="https://harunx9.github.io/jak-stac-sie-junior-developerem-tutorial-cz-2.html" rel="alternate"></link><published>2017-11-30T00:00:00+01:00</published><updated>2017-11-30T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-11-30:/jak-stac-sie-junior-developerem-tutorial-cz-2.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, pod poprzednim artykuÅ‚em pokazaÅ‚o siÄ™ kilka komentarzy, ktÃ³re uÅ›wiadomiÅ‚y mi, Å¼e to co napisaÅ‚em nie jest do koÅ„ca kompletne i usystematyzowane. DziÅ› postaram siÄ™ nieco uzupeÅ‚niÄ‡ poprzedni wpis dodajÄ…c elementy, ktÃ³re byÅ‚y treÅ›ciÄ… komentarzy. Zacznijmy standardowo od aspektÃ³w zwiÄ…zanych bezpoÅ›rednio z pracÄ… programisty, tak bez wchodzenia w konkretnÄ… technologiÄ™ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, pod poprzednim artykuÅ‚em pokazaÅ‚o siÄ™ kilka komentarzy, ktÃ³re uÅ›wiadomiÅ‚y mi, Å¼e to co napisaÅ‚em nie jest do koÅ„ca kompletne i usystematyzowane. DziÅ› postaram siÄ™ nieco uzupeÅ‚niÄ‡ poprzedni wpis dodajÄ…c elementy, ktÃ³re byÅ‚y treÅ›ciÄ… komentarzy. Zacznijmy standardowo od aspektÃ³w zwiÄ…zanych bezpoÅ›rednio z pracÄ… programisty, tak bez wchodzenia w konkretnÄ… technologiÄ™.&lt;/p&gt;
&lt;p&gt;Na pewno brakowaÅ‚o czegoÅ› na temat rozwiÄ…zywania problemÃ³w. Jest to umiejÄ™tnoÅ›Ä‡ niezbÄ™dna do pracy kaÅ¼dego programisty. Tylko jak te problemy rozwiÄ…zywaÄ‡ to zaleÅ¼y tak naprawdÄ™ od paradygmatu jÄ™zyka programowania. Poza walkÄ… .NET/Java czy Ruby/Python/PHP, mamy coÅ› takiego co nazywa siÄ™ paradygmatem programowania, gdzie wyrÃ³Å¼niamy np. jÄ™zyki obiektowe, funkcyjne, itp. Itd.. Ten kto chce znajdzie wszystkie paradygmaty w Internecie. Dodatkowo kaÅ¼dy jÄ™zyk moÅ¼e umoÅ¼liwiaÄ‡ programowanie wieloparadygamtowe np. C# jest obiektowy, imperatywny, strukturalny i czÄ™Å›ciowo funkcyjny. Co dla nas jako dla programisty oznacza paradygmat. WÅ‚aÅ›ciwie jest on wszystkim w momencie rozbijania naszego zadania na mniejsze skÅ‚adowe . W programowaniu obiektowym jest duÅ¼a szansa, Å¼e rozwiÄ…zujÄ…c jakiÅ› problem stworzymy kilka klas, ktÃ³re korzystajÄ…c ze swoich funkcjonalnoÅ›ci bÄ™dÄ… rozwiÄ…zywaÅ‚y nasz problem. W przypadku jÄ™zyka funkcyjnego to wÅ‚aÅ›nie funkcje bÄ™dÄ… rozwiÄ…zaniem naszego problemu i moÅ¼e jeszcze jakieÅ› struktury danych i tak dalej w przypadku innych paradygmatÃ³w. Tu z mojej strony taka dobra rada, Å¼eby jak juÅ¼ nauczysz siÄ™ jednego paradygmatu to zerknÄ…Ä‡ czasem gdzieÅ› poza swojÄ… strefÄ™ komfortu. Ja tak z mojej strony uczÄ™ siÄ™ jÄ™zyka Rust, ktÃ³ry nie jest obiektowy, a dodatkowo nie ma maszyny wirtualnej do zarzÄ…dzania pamiÄ™ciÄ…. Moje pierwsze starcia pokazaÅ‚y mi, Å¼e nie jest tak prosto wyzbyÄ‡ siÄ™ nawykÃ³w z jÄ™zyka obiektowego, ale moÅ¼na i to daje rÃ³wnieÅ¼ mi nowe moÅ¼liwoÅ›ci w C#.&lt;/p&gt;
&lt;p&gt;DrugÄ… rzeczÄ… sÄ… narzÄ™dzia i chodzi mi tu o ich znajomoÅ›Ä‡ praktycznÄ…, a nie tylko wpis na LinkedIn. Oznacza to, Å¼e nie klikamy po naszym IDE tylko chociaÅ¼ umiem uÅ¼ywaÄ‡ podstawowych skrÃ³tÃ³w klawiszowych. Dodatkowo dobrze jak umielibyÅ›my posÅ‚ugiwaÄ‡ siÄ™ wspomnianym w komentarzach debuggerem przynajmniej w formie podstawowej. Co do testÃ³w to raczej  na poczÄ…tku nie zawracaÅ‚bym sobie tym gÅ‚owy, ale jak coÅ› siÄ™ bÄ™dzie wiedziaÅ‚o to spoko. Jeszcze jedna rzecz, o ktÃ³rej wspomniaÅ‚em, ale powtÃ³rzÄ™ jeszcze raz to znajomoÅ›Ä‡ przynajmniej jednego systemu kontroli wersji. Tu polecam Git'a, poniewaÅ¼ jest on chyba najbardziej popularnym narzÄ™dziem tego typu.&lt;/p&gt;
&lt;p&gt;Teraz przejdÅºmy do rzeczy nie zwiÄ…zanych z Å›ciÅ›le z samym pisaniem kodu czy narzÄ™dziami. Zacznijmy od wyszukiwania rozwiÄ…zaÅ„. CzÄ™sto jest tak, Å¼e problem ktÃ³ry mamy rozwiÄ…zaÄ‡ jest juÅ¼ rozwiÄ…zany i wystarczy skorzystaÄ‡ z pracy kogoÅ› dostosowujÄ…c tylko kod do naszego problemu. Tu przyda siÄ™ umiejÄ™tnoÅ›Ä‡ jak dla mnie trywialna, czyli korzystanie z wyszukiwarki Google. Tak moÅ¼e tu zadziwiÄ™ niektÃ³re osoby, ale programiÅ›ci nawet Ci ktÃ³rzy w branÅ¼y sÄ… juÅ¼ dÅ‚ugo korzystajÄ… z Google do wyszukiwania rozwiÄ…zaÅ„, a nie piszÄ… wszystkiego od zera. Tu dodatkowo warto szukaÄ‡ w jÄ™zyku angielskim, poniewaÅ¼ w IT jest to taki jÄ™zyk domyÅ›lny. Jak nie umiemy formuÅ‚owaÄ‡ swoich wypowiedzi  w jÄ™zyku Shakespeare'a to polecam Google translator. Sam tak na poczÄ…tku robiÅ‚em. JeÅ¼eli chodzi o Internet nie moÅ¼na tu pominÄ…Ä‡ StackOverflow, czyli najwiÄ™kszego globalnego forum programistycznego. MoÅ¼na tam znaleÅºÄ‡ rozwiÄ…zania wÅ‚aÅ›ciwie na kaÅ¼dy nasz problem, wiÄ™c pewnie dÅ‚ugo nie bÄ™dziecie musieli pisaÄ‡ tam Å¼adnych postÃ³w, poza tym wiÄ™kszoÅ›Ä‡ zapytaÅ„ do Google bÄ™dzie wÅ‚aÅ›nie tam was kierowaÄ‡.   &lt;/p&gt;
&lt;p&gt;Co do jÄ™zyka angielskiego to polecam wÅ‚aÅ›nie w tym jÄ™zyku czytaÄ‡ wszelkie materiaÅ‚y dotyczÄ…ce programowania. Wiem sam tworzÄ™ treÅ›ci w jÄ™zyku polskim i sam takie treÅ›ci konsumujÄ™, ale mimo to wiÄ™kszoÅ›Ä‡ mojej obecnej wiedzy pochodzi ze ÅºrÃ³deÅ‚ anglojÄ™zycznych, bo np. o takim OpenGL to nie ma za duÅ¼o na polskiej blogosferze programistycznej.  &lt;/p&gt;
&lt;p&gt;Dodatkowo powtÃ³rzÄ™, Å¼e warto budowaÄ‡ swoje portfolio, piszcie aplikacje nawet maÅ‚e byle dziaÅ‚ajÄ…ce. Im wiÄ™cej ich napiszecie  tym lepiej poukÅ‚adane one bÄ™dÄ… i bÄ™dziecie mieli wiÄ™kszÄ… siÅ‚Ä™ przebicia na rynku.&lt;/p&gt;
&lt;p&gt;Jest jedna rzecz ktÃ³rÄ… polecÄ™ jeszcze na koniec. To coÅ› co pozwoliÅ‚o mi mocno pokonaÄ‡ krzywÄ… nauki, a sÄ… to wystÄ…pienia na Youtube. MoÅ¼na tam znaleÅºÄ‡ masÄ™ konferencji i rÃ³Å¼nych innych wystÄ…pieÅ„ w jÄ™zyku angielski jak i polskim. Warto wiÄ™c poszperaÄ‡, poniewaÅ¼ wÅ‚asne nagrania majÄ… nawet grupy programistyczne. Ja z takich nagraÅ„ dowiedziaÅ‚em siÄ™ o Akka.NET, ktÃ³rej pÃ³Åºniej uÅ¼ywaÅ‚em w projekcie. Warto wiÄ™c zamiast oglÄ…daÄ‡ Å›mieszne koty poÅ›wiÄ™ciÄ‡ tÄ… godzinÄ™ co jakiÅ› czas na ciekawÄ… prelekcjÄ™, ktÃ³ra pozwoli nam zyskaÄ‡ ciekawÄ… wiedzÄ™.&lt;/p&gt;
&lt;p&gt;W komentarzach przewinÄ…Å‚ siÄ™ jeszcze temat przygotowania do rozmowy kwalifikacyjnej. Tu bÄ™dzie doÅ›Ä‡ kontrowersyjnie, poniewaÅ¼ ja uwaÅ¼am, Å¼e to bez sensu. Naszym przygotowaniem sÄ… projekty, ktÃ³re nauczyÅ‚y nas programowaÄ‡. JeÅ¼eli w nich czujemy siÄ™ pewnie i znamy w miarÄ™ technologiÄ™, w ktÃ³rej zamierzamy pracowaÄ‡ to trzeba zmierzyÄ‡ siÄ™ z rozmowÄ…. JeÅ¼eli siÄ™ nie dostaniemy to zawsze moÅ¼na prÃ³bowaÄ‡ znowu, a mamy czarno na biaÅ‚ym czego nie umiemy i nad czym trzeba popracowaÄ‡, Å¼eby zdobyÄ‡ nowÄ… wiedzÄ™. Nikt was nie bÄ™dzie specjalnie przepytywaÅ‚ z nie wiadomo jakich wiadomoÅ›ci szczegÃ³lnie jak to bÄ™dzie wasza pierwsza praca. Ja sam tak robiÅ‚em i nadal tak robiÄ™ tzn. na rozmowiÄ™ idÄ™ z marszu, poniewaÅ¼ nie ma sensu studiowaÄ‡ miliona pytaÅ„ kwalifikacyjnych, bo i tak jak nas zatrudniÄ… to pracodawca dostanie walidacje naszych odpowiedzi w postaci naszej pracy. Jak na rozmowie odpowiedzieliÅ›my, bo wykuliÅ›my coÅ› na pamiÄ™Ä‡, a nie umiemy tego zastosowaÄ‡ to wyjdzie bardzo szybko, wiÄ™c nie ma sensu tego robiÄ‡.&lt;/p&gt;
&lt;p&gt;To chyba na tyle. Jak mi siÄ™ jeszcze coÅ› nasunie to pewnie powstanie kolejna czÄ™Å›Ä‡. Jak zawsze zapraszam do sekcji komentarzy, gdzie chÄ™tnie podyskutuje o tym co tu napisaÅ‚em, jak i o waszych pomysÅ‚ach.&lt;/p&gt;</content><category term="blog"></category><category term="inne"></category><category term="it"></category><category term="praca"></category></entry><entry><title>Jak staÄ‡ siÄ™ junior developerem - Tutorial</title><link href="https://harunx9.github.io/jak-stac-sie-junior-developerem-tutorial.html" rel="alternate"></link><published>2017-11-20T00:00:00+01:00</published><updated>2017-11-20T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-11-20:/jak-stac-sie-junior-developerem-tutorial.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatnio nie mam zbyt wiele czasu pisaÄ‡, ale jest jeden temat na ktÃ³ry powinienem siÄ™ wypowiedzieÄ‡. Kilku moich znajomych prÃ³buje siÄ™ przekwalifikowaÄ‡ z jakieÅ› innej dziedziny na programistÄ™ lub dostaÄ‡ prace w it, wiÄ™c zadajÄ… mi pytania jak to zrobiÄ‡. Jestem doÅ›Ä‡ specyficznÄ… osobÄ…, to znaczy odnalazÅ‚em pasjÄ™ w â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatnio nie mam zbyt wiele czasu pisaÄ‡, ale jest jeden temat na ktÃ³ry powinienem siÄ™ wypowiedzieÄ‡. Kilku moich znajomych prÃ³buje siÄ™ przekwalifikowaÄ‡ z jakieÅ› innej dziedziny na programistÄ™ lub dostaÄ‡ prace w it, wiÄ™c zadajÄ… mi pytania jak to zrobiÄ‡. Jestem doÅ›Ä‡ specyficznÄ… osobÄ…, to znaczy odnalazÅ‚em pasjÄ™ w programowaniu i poza pracÄ… prowadzÄ™ tego oto bloga, rozwijam swÃ³j autorski silnik do gier oraz narzÄ™dzia do niego, wiÄ™c poÅ›wiÄ™cam na swÃ³j rozwÃ³j sporo czasu i zdaje sobie sprawÄ™, Å¼e nie kaÅ¼dy tak chce/moÅ¼e/jest w stanie. ZastrzegÄ™ na poczÄ…tku, Å¼e to co tu pisze to moje prywatne opinie i mogÄ… siÄ™ one rÃ³Å¼niÄ‡ od tego co jest na rynku pracy w Twojej miejscowoÅ›ci. BÄ™dÄ™ sporo odwoÅ‚ywaÅ‚ siÄ™ do wymagaÅ„ na .NET developera, poniewaÅ¼ takÄ… technologiÄ… zajmuje siÄ™ w pracy, choÄ‡ postaram siÄ™ to zminimalizowaÄ‡ i jak najbardziej uogÃ³lniÄ‡.&lt;/p&gt;
&lt;h3&gt;Co trzeba umieÄ‡?&lt;/h3&gt;
&lt;p&gt;To jest punkt tak na prawdÄ™ najtrudniejszy, poniewaÅ¼ rozbija siÄ™ o technologiÄ™ i w tym momencie powiem nieco co trzeba umieÄ‡ jako taki poczÄ…tkujÄ…cy .NET developer. Po pierwsze niezaleÅ¼ne od technologii warto by znaÄ‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jÄ™zyk w ktÃ³rym bÄ™dziemy programowaÄ‡ - wiem banalne i gÅ‚upie, ale jak ktoÅ› by chciaÅ‚ programowaÄ‡ jako .NET/C# to miÅ‚o Å¼eby ogarniaÅ‚ elementy jÄ™zyka takie jak - Linq, delegaty, funkcje lambda, bo jest to jakiÅ› wyrÃ³Å¼nik C# wzglÄ™dem innych jÄ™zykÃ³w i te elementy na co dzieÅ„ siÄ™ stosuje w normalnej pracy.&lt;/li&gt;
&lt;li&gt;programowanie obiektowe - teraz widzÄ™ to Å›wiÄ™te oburzenie, ale nie znajomoÅ›Ä‡ jÄ™zyka to nie to samo co programowanie obiektowe, bo moÅ¼na znaÄ‡ C# i pisaÄ‡ klasy po 5k linijek nie korzystaÄ‡ z kompozycji, polimorfimzu i jakichkolwiek dobrych praktyk separacji kodu w klasy. Mimo, Å¼e nie mam bardzo dÅ‚ugiego staÅ¼u, to przeszedÅ‚em kilka projektÃ³w i czeÅ›Ä‡ z nich nie miaÅ‚a nic wspÃ³lnego z programowaniem obiektowych mimo, Å¼e byÅ‚y klasy.&lt;/li&gt;
&lt;li&gt;wzorce projektowe - to jest nieco dla mnie kontrowersyjne, bo sam ich na pamiÄ™Ä‡ nie znam. Bardziej jest to na takiej zasadzie, Å¼e mam jakieÅ› zadanie i nie mam na niego pomysÅ‚y to siÄ™gam do wzorcÃ³w i czÄ™sto tam znajdujÄ™ jakieÅ› pomysÅ‚y na implementacje&lt;/li&gt;
&lt;li&gt;SOLID - sÄ… to ogÃ³le zasady dobrego programowania sprowadzajÄ…ce siÄ™ do dobrych praktyk. JeÅ¼eli znasz SOLID to jesteÅ› w stanie za ich pomocÄ… zaimplementowaÄ‡ wzorce projektowe nie znajÄ…c ich.&lt;/li&gt;
&lt;li&gt;system kontroli wersji  GIT/SVN - jest to narzÄ™dzie niezwiÄ…zane z samym programowaniem. Pomaga ono we wspÃ³Å‚pracy wielu developerÃ³w. Generalnie dziaÅ‚a ono tak, Å¼e jest jakieÅ› jedno centralne repozytorium, gdzie przechowuje siÄ™ kod i moÅ¼na tam za ich pomocÄ… ten kod dodawaÄ‡. Git i SVN sÄ… najbardziej popularne generalnie polecam zaczÄ…Ä‡ od Git'a, ale SVN teÅ¼ moÅ¼na jeszcze gdzie nie gdzie spotkaÄ‡.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To jest moim zdaniem takie minimum, ktÃ³re naleÅ¼aÅ‚oby umieÄ‡. Co do wzorcÃ³w to tak jak napisaÅ‚em moÅ¼e nie tyle Å¼eby na pamiÄ™Ä‡ je znaÄ‡ tylko bardziej tak orientowaÄ‡ siÄ™, Å¼e sÄ… i Å¼e jak mamy problem z jakÄ…Å› implementacjÄ… to mogÄ… nam pomÃ³c.&lt;/p&gt;
&lt;p&gt;Poza tymi rzeczami teraz taki Junior .NET Developer powinien liznÄ…Ä‡ co nieco ekosystemu, czyli wiedzieÄ‡ coÅ› o NuGET, Visual Studio itp. KolejnÄ… sprawÄ… sÄ… frameworki. Ja miaÅ‚em akurat takie szczÄ™Å›cie, Å¼e na uczelni przeszliÅ›my wÅ‚aÅ›ciwie przez wszystko odnoÅ›cie .NET, czyli aplikacje konsolowe, okienkowe i webowe. KaÅ¼dy jÄ™zyk ma jakieÅ› swoje frameworki, ktÃ³re trzeba znaÄ‡. Tu oczywiÅ›cie teÅ¼ nie na pamiÄ™Ä‡, ale jak aplikujemy do aplikacji webowych to takie MVC i WebAPI trzeba znaÄ‡.&lt;/p&gt;
&lt;h3&gt;Czy studia pomogÄ…?&lt;/h3&gt;
&lt;p&gt;Tu bÄ™dzie mocno kontrowersyjnie, ale moim zdaniem studnia niczego sensownego was nie nauczÄ…. Sam nieco Å¼aÅ‚uje, Å¼e nie zrezygnowaÅ‚em po pierwszym roku studiÃ³w,poniewaÅ¼ programowania uczyÅ‚em siÄ™ gÅ‚Ã³wnie sam w domu po pracy. PÃ³Åºniej zwolniÅ‚em siÄ™ i siedziaÅ‚em przez okoÅ‚o 6 miesiÄ™cy uczÄ…c siÄ™ po 8 godzin dziennie. MyÅ›lÄ™, Å¼e regularna codzienna nauka a nie studia pozwoliÅ‚y mi wczeÅ›nie znaleÅºÄ‡ pracÄ™. Studia owszem sÄ… fajne, poniewaÅ¼ dajÄ… moÅ¼liwoÅ›Ä‡ znalezienia ludzi, dziÄ™ki ktÃ³rym uczymy siÄ™ szybciej, ale sam proces nauki to jednak i tak nasz wysiÅ‚ek, ktÃ³rego nikt za nas nie wykona. &lt;/p&gt;
&lt;h3&gt;To co w takim razie zrobiÄ‡ ?&lt;/h3&gt;
&lt;p&gt;Teraz odpowiem na to znienawidzonym "to zaleÅ¼y". JeÅ¼eli masz do 30 lub koÅ‚o 30 lat i nie masz zobowiÄ…zaÅ„ to idÅº na te studia. Tak jak napisaÅ‚em powyÅ¼ej nikt Ci tam wiedzy do gÅ‚owy nie wÅ‚oÅ¼y, ale jak sam bÄ™dziesz pracowaÅ‚ to masz szanse poznaÄ‡ ludzi dziÄ™ki ktÃ³rym szybciej siÄ™ rozwiniesz. JeÅ¼eli nie masz czasu na studia to polecam najpierw jakiÅ› kurs pokroju SoloLearn, TreeHouse, Code School. CzÄ™Å›Ä‡ jest darmowa czÄ™Å›Ä‡ jest pÅ‚atana. Takie kursy dobrze uczÄ… skÅ‚adni jÄ™zyka przez kolejne przykÅ‚ady. Potem moÅ¼na sobie znaleÅºÄ‡ jakieÅ› Ä‡wiczenia z danego jÄ™zyka i prÃ³bowaÄ‡ je robiÄ‡.&lt;/p&gt;
&lt;p&gt;AlternatywÄ… do dalszych Ä‡wiczeÅ„ jest wymyÅ›lenie sobie jakiegoÅ› projektu i prÃ³ba jego implementacji. Pewnie zanim coÅ› powstanie to wyrzucicie kod milion razy do kosza, ale dziÄ™ki temu nauczycie siÄ™ najlepiej. WaÅ¼nym jest teÅ¼ Å¼eby to co robicie byÅ‚o widoczne. I w tym miejscu polecam takie coÅ› jak GgitHub. Jest to portal gdzie za darmo moÅ¼ecie sobie hostowaÄ‡ wasze repozytoria gitowe. Generalnie naleÅ¼y wyrÃ³Å¼niÄ‡ siÄ™ wÅ›rÃ³d kandydatÃ³w na stanowisko pracy. JeÅ¼eli pokaÅ¼emy wÅ‚asny projekt, pasjÄ™ z jakÄ… go realizujemy, to Å¼e siÄ™ interesujemy tym programowaniem. Mamy dziÄ™ki temu wiÄ™ksze szanse na dostanie siÄ™ do pracy niÅ¼ statystyczny magister informatyki nawet jeÅ¼eli ma 5 i wyrÃ³Å¼nienie na dyplomie.&lt;/p&gt;
&lt;p&gt;I teraz tak na zakoÅ„czenie najwaÅ¼niejsza porada juÅ¼ na rozmowÄ™ kwalifikacyjnÄ…. Programista, ktÃ³ry bÄ™dzie CiÄ™ rekrutowaÅ‚ to teÅ¼ czÅ‚owiek i on teÅ¼ nie wie wszystkiego. Generalnie waÅ¼ne jest to Å¼eby nie wyidealizowaÄ‡ sobie ludzi pracujÄ…cych w tym zawodzie. Pozwoli to na wiÄ™kszy luz podczas rozmowy co przeÅ‚oÅ¼y siÄ™ na lepszy odbiÃ³r twojej osoby przez rekrutrÃ³w. Warto teÅ¼ pamiÄ™taÄ‡ o tym, Å¼e my teÅ¼ nie musimy wiedzieÄ‡ wszystkiego. KaÅ¼dy ma jakÄ…Å› specjalizacje, uÅ¼ywaÅ‚ takich czy innych bibliotek, wiÄ™c naleÅ¼y wyluzowaÄ‡, bo jak uÅ¼ywaÅ‚eÅ› Autofac to Structure Map czy Castle Windsor teÅ¼ bÄ™dzie uÅ¼ywaÅ‚ bez problemu.&lt;/p&gt;
&lt;p&gt;PodsumowujÄ…c co naleÅ¼y zrobiÄ‡ to pisaÄ‡ kod po trzykroÄ‡, poniewaÅ¼ programowanie to nauka przez powtarzanie. Im wiÄ™cej piszemy tym lepiej piszemy. Po drugie warto znaleÅºÄ‡ swoje zainteresowanie w programowaniu, poniewaÅ¼ jak siÄ™ czymÅ› interesujemy to Å‚atwiej przychodzi nam nauka. Ja odnalazÅ‚em swoje zainteresowanie w gamedevie i mimo, Å¼e na co dzieÅ„ nie pracuje przy grach, to wykorzystuje masÄ™ zdobytej wiedzy w codziennej pracy. To czy iÅ›Ä‡ na studia jest sprawÄ… indywidualnÄ…. Sam znam kilku programistÃ³w, ktÃ³rzy studiÃ³w nie ukoÅ„czyli i w niczym im to nie przeszkadza. &lt;/p&gt;
&lt;p&gt;To chyba na tyle. JeÅ¼eli macie jakieÅ› pytania czy uwagi to jak zawsze zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="blog"></category><category term="inne"></category><category term="it"></category><category term="praca"></category></entry><entry><title>2DXngine tutorial - Engine overview</title><link href="https://harunx9.github.io/2dxngine-tutorial-engine-overview.html" rel="alternate"></link><published>2017-10-28T16:00:00+02:00</published><updated>2017-10-28T16:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-10-28:/2dxngine-tutorial-engine-overview.html</id><summary type="html">&lt;p&gt;Hi everyone. This will be my first post in English, so I believe that it will be worst. I've made decision lately about that to make some simple 2DXngine tutorial. Writeing this in English language can reach bigger audience I believe. Let's start from the beginning. 2DXngine is my project â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hi everyone. This will be my first post in English, so I believe that it will be worst. I've made decision lately about that to make some simple 2DXngine tutorial. Writeing this in English language can reach bigger audience I believe. Let's start from the beginning. 2DXngine is my project which I started this year for Get Noticed 2017 competition. For now this project is actively developed from 8 months. During this time I implemented base 2D engine functionality and some additional features (and possibly some bugs). More or less complete feature list you find on &lt;a href="https://github.com/Harunx9/2DXngine"&gt;github&lt;/a&gt;. For now  engine should works on Windows with CPP 2017 redistribute package. I also have plan to port it to MacOS(OSX) and Linux, but for now this is distant future. Ok, so let's move to overall architecture:&lt;/p&gt;
&lt;p&gt;&lt;img alt="2dxngine" src="/images/Xngienarch.png"&gt;&lt;/p&gt;
&lt;p&gt;As you can see window and input backend is build on top SDL2 with OpenGL and GLEW for 2D rendering. I also use other 3'rd party libraries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pugi Xml,&lt;/li&gt;
&lt;li&gt;GLM,&lt;/li&gt;
&lt;li&gt;Soil,&lt;/li&gt;
&lt;li&gt;SLD2_mixer,&lt;/li&gt;
&lt;li&gt;Freetype font,&lt;/li&gt;
&lt;li&gt;Simpleini,&lt;/li&gt;
&lt;li&gt;Google Test.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Like you see I have testing library in my stack, so I try to cover as much as I can with Unit/Integration Tests. Not all code is covered but I try cover some all more complex features. &lt;/p&gt;
&lt;p&gt;I also try to make architecture flexible that you can use only thing that you need . For example you donâ€™t want to use scene system and component model no problem. You can take Spritebatch from graphics library and game handler as build your own scene/game state system with our own entity system. If you need some specific service you also can add one and register it in service locator. There are some couplings with some elements, but generally there are possibility to extend any functionality in desire way.&lt;/p&gt;
&lt;p&gt;2DXngine also provide scene system with component model. Scene API provide game object manager which can be populated by game object with components. For now you can create three type of components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plain component which can contain data and so on,&lt;/li&gt;
&lt;li&gt;Updateable Component  contain behavior for game objects, &lt;/li&gt;
&lt;li&gt;Drawable Component this can contain draw logic using scene renderer with spritebatch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any component you create should be register for type cache in order to have possibility to find them via type.  I also want to automate this process but I donâ€™t figure out any good solution for that. &lt;/p&gt;
&lt;p&gt;If you want to check out what features I currently focus on please go to &lt;a href="https://trello.com/b/wJGa7Jm5"&gt;this&lt;/a&gt; Trello board. I try to update this frequently, so this is the most fresh information about development. In next post I show some simple game implementation to show you some of engine possibilities. Like always I invite you to comment section to share your opinions with me.&lt;/p&gt;</content><category term="2DXngineTutorial"></category><category term="2DXngine"></category><category term="gamedev"></category></entry><entry><title>Hello World rok pÃ³Åºniej</title><link href="https://harunx9.github.io/hello-world-rok-pozniej.html" rel="alternate"></link><published>2017-10-18T00:00:00+02:00</published><updated>2017-10-18T00:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-10-18:/hello-world-rok-pozniej.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡.  16 paÅºdziernika 2016 czyli ponad rok temu temu wystartowaÅ‚em z blogiem, poniewaÅ¼ chciaÅ‚em robiÄ‡ coÅ› poza siedzeniem w piwnicy i klepaniem kolejnych linijek kodu. ZauwaÅ¼yÅ‚em, Å¼e dodatkowo taki blog moÅ¼e byÄ‡ Å›wietnym miejscem na wymianÄ™ idei, czy rozwijanie swojego kodowania.
 Co udaÅ‚o siÄ™ przez ten rok osiÄ…gnÄ…Ä‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;48 wpisÃ³w â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡.  16 paÅºdziernika 2016 czyli ponad rok temu temu wystartowaÅ‚em z blogiem, poniewaÅ¼ chciaÅ‚em robiÄ‡ coÅ› poza siedzeniem w piwnicy i klepaniem kolejnych linijek kodu. ZauwaÅ¼yÅ‚em, Å¼e dodatkowo taki blog moÅ¼e byÄ‡ Å›wietnym miejscem na wymianÄ™ idei, czy rozwijanie swojego kodowania.
 Co udaÅ‚o siÄ™ przez ten rok osiÄ…gnÄ…Ä‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;48 wpisÃ³w&lt;/li&gt;
&lt;li&gt;4 529 odsÅ‚on na dzieÅ„ 16.10.2017&lt;/li&gt;
&lt;li&gt;UdziaÅ‚ w DSP 2017&lt;/li&gt;
&lt;li&gt;OdÅ›wieÅ¼enie C++ i 2DXngine&lt;/li&gt;
&lt;li&gt;Itd. Itp. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To tak w skrÃ³cie, a teraz nieco dokÅ‚adniej.&lt;/p&gt;
&lt;h2&gt;DSP 2017&lt;/h2&gt;
&lt;p&gt;Powiem tak, DSP Å›wietnie zgraÅ‚o siÄ™ z moim rozmyÅ›laniem nad tym czy bloga nie zostawiÄ‡ w cholerÄ™, poniewaÅ¼ nie miaÅ‚em motywacji Å¼eby ciÄ…gnÄ…Ä‡ temat dalej, podobnie byÅ‚o z naukÄ… C++. ByÅ‚o to zwiÄ…zane z rÃ³Å¼nymi czynnikami, poniewaÅ¼ poczÄ…tek roku miaÅ‚em nieco bardziej intensywny. Nie miaÅ‚em pomysÅ‚u co robiÄ‡ dalej a, Å¼e znam C# to nie chciaÅ‚em za bardzo opuszczaÄ‡ swojej strefy komfortu i przypominaÄ‡ sobie jak dziaÅ‚ajÄ… wskaÅºniki. Jak juÅ¼ dowiedziaÅ‚em siÄ™, Å¼e DSP stratuje to walczyÅ‚em chwile z myÅ›lami czy w ogÃ³le dam radÄ™, ale ostatecznie siÄ™ zdecydowaÅ‚em i nie Å¼aÅ‚uje.
Obecnie C++ uÅ¼ywam doÅ›Ä‡ sprawnie, co prawda ze wzglÄ™du na wydajnoÅ›Ä‡ nie stosuje wszystkich rzeczy w C++11, ale czÄ™Å›ciowo udaÅ‚o mi siÄ™ parÄ™ elementÃ³w nowych standardÃ³w dodaÄ‡ do silnika. Cel zostaÅ‚ wiÄ™c osiÄ…gniÄ™ty a dodatkowo w DSP pisaÅ‚em blogi 2 razy w tygodniu co pozwoliÅ‚o mi zakwalifikowaÄ‡ siÄ™ do 184 blogÃ³w w finale, co traktuje jako sukces. Nie udaÅ‚o siÄ™ dojÅ›Ä‡ do Å›cisÅ‚ego finaÅ‚u, ale co tam i tak jak na poczÄ…tek blogowania jest ok. Teraz przejdÅºmy do wyniku Daj SiÄ™ PoznaÄ‡, czyli 2DXngine.&lt;/p&gt;
&lt;h2&gt;2DXngine&lt;/h2&gt;
&lt;p&gt;Silnik, ktÃ³ry jest wynikiem mojego startu w DSP 2017. Obecnie wychodzÄ™ z tego co sobie zaÅ‚oÅ¼yÅ‚em jako alfÄ™ do bety, czyli moÅ¼na prÃ³bowaÄ‡ pisaÄ‡ gry, ale nie gwarantuje, Å¼e wszystko bÄ™dzie dziaÅ‚aÅ‚o. Sam silnik jak i narzÄ™dzia do niego napisane w .NET CORE jest Open Source. Posiada integracje do edytora poziomÃ³w Tiled, co pozwala na tworzenie  rÃ³Å¼nych gier 2D.
Na razie sama budowa silnika jest nieco nieestetyczna, ale to zmieni siÄ™ w nadchodzÄ…cym czasie
o samym silniku byÅ‚ juÅ¼ artykuÅ‚, wiÄ™c nie chce siÄ™ powtarzaÄ‡ i zapraszam &lt;a href="https://harunx9.github.io/2dxngine-update-wersja-02x-alpha.html#2dxngine-update-wersja-02x-alpha"&gt;TUTAJ&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Co dajej&lt;/h2&gt;
&lt;p&gt;Generalnie zadowolony jestem z kierunku w jakim rozwija siÄ™ blog, a co waÅ¼niejsze, Å¼e po roku chce mi siÄ™ jeszcze go prowadziÄ‡. W najbliÅ¼szym czasie nie zamierzam zmieniaÄ‡ zawartoÅ›ci, czyli dalej bÄ™dzie o tworzeniu gier za pomocÄ… C++/C# oraz o tym co robiÄ™ w 2DXngine. Jedyne nad czym siÄ™ zastanawiam to pisanie czÄ™Å›ci postÃ³w po angielsku i po polsku, ale to jak juÅ¼ to od przyszÅ‚ego roku. W zanadrzu mam jeszcze pomysÅ‚ na seriÄ™ o Akka .NET, poniewaÅ¼ wymyÅ›liÅ‚em zastosowanie dal niej okoÅ‚o enginowe, ale to jeszcze zobaczymy. &lt;/p&gt;
&lt;p&gt;Na koniec chciaÅ‚em podziÄ™kowaÄ‡ wszystkim czytajÄ…cym, komentujÄ…cym. Mam nadziejÄ™, Å¼e w przyszÅ‚ym roku bÄ™dzie bardziej tematycznie, poniewaÅ¼ w tym nieco poskakaÅ‚em po tematach, ale lubiÄ™ pisaÄ‡ o tym co aktualnie robiÄ™. &lt;/p&gt;</content><category term="blog"></category><category term="inne"></category></entry><entry><title>PugiXML, czyli proste prasowanie XML w C/C++</title><link href="https://harunx9.github.io/pugixml-czyli-proste-prasowanie-xml-w-cc.html" rel="alternate"></link><published>2017-10-11T19:00:00+02:00</published><updated>2017-10-11T19:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-10-11:/pugixml-czyli-proste-prasowanie-xml-w-cc.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. JakiÅ› czas temu stanÄ…Å‚em przed potrzebÄ… wyboru jakiegoÅ› rozwiÄ…zania do pracy z plikami XML. W C/C++ jest kilka bibliotek do obsÅ‚ugi XML'i:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TinyXML,&lt;/li&gt;
&lt;li&gt;RapidXML,&lt;/li&gt;
&lt;li&gt;LibXML2,&lt;/li&gt;
&lt;li&gt;BoostXML,&lt;/li&gt;
&lt;li&gt;PugiXML.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jak pewnie moÅ¼na siÄ™ domyÅ›liÄ‡ po tytule, to mÃ³j wybÃ³r padÅ‚ na bibliotekÄ™ &lt;a href="https://pugixml.org/"&gt;pugixml&lt;/a&gt;. WybraÅ‚em tak dlatego, Å¼e jej Api najbardziej â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. JakiÅ› czas temu stanÄ…Å‚em przed potrzebÄ… wyboru jakiegoÅ› rozwiÄ…zania do pracy z plikami XML. W C/C++ jest kilka bibliotek do obsÅ‚ugi XML'i:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TinyXML,&lt;/li&gt;
&lt;li&gt;RapidXML,&lt;/li&gt;
&lt;li&gt;LibXML2,&lt;/li&gt;
&lt;li&gt;BoostXML,&lt;/li&gt;
&lt;li&gt;PugiXML.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jak pewnie moÅ¼na siÄ™ domyÅ›liÄ‡ po tytule, to mÃ³j wybÃ³r padÅ‚ na bibliotekÄ™ &lt;a href="https://pugixml.org/"&gt;pugixml&lt;/a&gt;. WybraÅ‚em tak dlatego, Å¼e jej Api najbardziej przypomina to co mamy w C# pod nazwÄ… XDocument i jest to skÅ‚adajÄ…ca siÄ™ z 3 plikÃ³w biblioteka, wiÄ™c moÅ¼emy jÄ… po prostu wrzuciÄ‡ w projekt i  nie trzeba siÄ™ bawiÄ‡ z dodawaniem lib i dll co w C++ jest momentami nieco trudne. Skoro juÅ¼ wiadomo co i jak to przyjrzyjmy siÄ™ jak moÅ¼na uÅ¼ywaÄ‡ biblioteki. PrzykÅ‚ady bÄ™dÄ… oparte na wczytywaniu spritesheet'a animacji w 2DXngine, poniewaÅ¼ tam teÅ¼ tej biblioteki uÅ¼yÅ‚em. ZaÅ‚Ã³Å¼my, Å¼e mamy oto taki XML:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;animations&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;animation&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;animationName1&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/animation&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;animation&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;animationName2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;frame&lt;/span&gt; &lt;span class="na"&gt;number=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;x=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;y=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsetx=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;offsety=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/animation&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/animations&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Aby zaczytaÄ‡ pliczek musimy napisaÄ‡ takie oto linijki kodu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pugi&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;xml_document&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;pugi&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;xml_parse_result&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/path/to/file.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;NastÄ™pnie wyciÄ…gamy gÅ‚Ã³wny element animation ktÃ³ry pozwoli nam potem iterowaÄ‡ po kolejnych animacjach:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;  &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;doc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;animations&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="nl"&gt;animation&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;children&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;animation&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//impl&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Do atrybutÃ³w moÅ¼emy siÄ™ odnieÅ›Ä‡ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;width&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;height&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;offsetx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;offsetx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;offsety&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;offsety&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;as_int&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;CaÅ‚kiem fajnÄ… funkcjonalnoÅ›ciÄ… jest moÅ¼liwoÅ›Ä‡ wymuszenia rzutowania na porzÄ…dany typ. Co do zapisywania XML, to nie testowaÅ‚em tego sam, poniewaÅ¼ nie mam takiej potrzeby, ale w &lt;a href="https://pugixml.org/docs/quickstart.html"&gt;dokumentacji&lt;/a&gt; jest napisane, Å¼e siÄ™ da i jakieÅ› mega skomplikowane nie jest. Biblioteka dziaÅ‚a szybko, co byÅ‚o jednym z wyznacznikÃ³w kiedy wybieraÅ‚em to rozwiÄ…zanie. 
To w sumie na tyle. A wy jakich bibliotek uÅ¼ywacie do obsÅ‚ugi XML?&lt;/p&gt;</content><category term="programming"></category><category term="Gamedev"></category></entry><entry><title>2DXngine update wersja 0.2.x-alpha</title><link href="https://harunx9.github.io/2dxngine-update-wersja-02x-alpha.html" rel="alternate"></link><published>2017-10-04T08:00:00+02:00</published><updated>2017-10-04T08:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-10-04:/2dxngine-update-wersja-02x-alpha.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Od Daj siÄ™ poznaÄ‡ 2017 minÄ™Å‚o kilka miesiÄ™cy, wiÄ™c czas na maÅ‚y update tego co w 2DXngine siÄ™ dzieje. Jak widzicie nie poddaÅ‚em siÄ™ i nadal rozwijam framework oraz dodaje nowe funkcjonalnoÅ›ci. Co zatem siÄ™ zmieniÅ‚o od ostatniego razu? Jest tego doÅ›Ä‡ sporo, wiÄ™c mogÄ™ coÅ› niechcÄ…cy pominÄ…Ä‡. Ostatni â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Od Daj siÄ™ poznaÄ‡ 2017 minÄ™Å‚o kilka miesiÄ™cy, wiÄ™c czas na maÅ‚y update tego co w 2DXngine siÄ™ dzieje. Jak widzicie nie poddaÅ‚em siÄ™ i nadal rozwijam framework oraz dodaje nowe funkcjonalnoÅ›ci. Co zatem siÄ™ zmieniÅ‚o od ostatniego razu? Jest tego doÅ›Ä‡ sporo, wiÄ™c mogÄ™ coÅ› niechcÄ…cy pominÄ…Ä‡. Ostatni update miaÅ‚ miejsce jakoÅ› w maju lub poczÄ…tkiem czerwca, w tym czasie silnik zyskaÅ‚ sporo elementÃ³w i udaÅ‚o mi siÄ™ pozbyÄ‡ masy bÅ‚Ä™dÃ³w oraz  bugÃ³w.
Na poczÄ…tek moÅ¼e lista co siÄ™ udaÅ‚o zrobiÄ‡ jako nowe elementy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bazowe komponenty 2D,&lt;/li&gt;
&lt;li&gt;podpiÄ™cie do CI,&lt;/li&gt;
&lt;li&gt;podstawowe MVP narzÄ™dzi do silnika, &lt;/li&gt;
&lt;li&gt;logger, Renderowanie multi render target, PostProcessing,&lt;/li&gt;
&lt;li&gt;integracja z Tiled,&lt;/li&gt;
&lt;li&gt;Itp. Itd.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Teraz przejdÅºmy do konkretÃ³w. JeÅ¼eli chodzi o komponenty bazowe to w ramach tego powstaÅ‚y elementy pozwalajÄ…ce na wyÅ›wietlanie spriteÃ³w, animacji poklatkowych, obÅ‚sugÄ™ transformacji 2d, kolizje itp. IloÅ›Ä‡ komponentÃ³w bÄ™dzie pewnie rosÅ‚a, ale na razie zaimplementowane zostaÅ‚o niezbÄ™dne minimum. Kolejnym fajnym krokiem jest podpiÄ™cie silnika do CI AppVeyor jest to usÅ‚uga, ktÃ³ra pozwala na kompilacje, testowanie, release naszych aplikacji. Na razie ogarnÄ…Å‚em tylko build i testy o czym pisaÅ‚em w &lt;a href="https://harunx9.github.io/appveynor-darmowe-ci-dla-projektow-open-source.html#appveynor-darmowe-ci-dla-projektow-open-source"&gt;TYM&lt;/a&gt; artykule. &lt;/p&gt;
&lt;p&gt;Kolejnym elementem jaki rozpoczÄ…Å‚em z rzeczy okoÅ‚o silnika sÄ… narzÄ™dzia, na razie jest to MVP texture packera, poniewaÅ¼ musiaÅ‚em to zrobiÄ‡ dla testÃ³w. Dalsza implementacja oczywiÅ›cie nastÄ…pi, ale silnik ma obecnie wiÄ™kszy priorytet. NaÅ¼edzia sÄ… pisane w .NET CORE tak, Å¼e sÄ… muliplatformowe. Ciekawym elementem jest integracja z &lt;a href="http://www.mapeditor.org/"&gt;Tiled&lt;/a&gt;. Daje ona moÅ¼liwoÅ›Ä‡ sparsowania mapy, ale i tworzenia caÅ‚ych scen. CaÅ‚y mechanizm omÃ³wiÄ™ osobno w innym artykule. 
Z innych rzeczy udaÅ‚o mi siÄ™ dodaÄ‡ logowanie do konsoli wraz z ustaleniem poziomu logowania, post processing oraz renderowanie sceny na wielu render targetach i sklejanie ich potem osobno.&lt;/p&gt;
&lt;p&gt;To byÅ‚y co waÅ¼niejsze rzeczy jak myÅ›lÄ™. Teraz co dalej i kiedy wyÅ›cie z alfy tak na prawdÄ™ myÅ›lÄ™, Å¼e wersja 0.3 powinna juÅ¼ byÄ‡ betÄ…. Do tego czasu musze zastÄ…piÄ‡ MS bulid multiplatformowym Cmake i wykonaÄ‡ jeszcze parÄ™ testÃ³w z renderowaniem tile map. JeÅ¼eli chodzi o przyszÅ‚oÅ›Ä‡ to chcÄ™ zrobiÄ‡ releasowanie silnika, jako statycznej biblioteki oraz generowanie projektu z silnikiem, exe i wszystkimi potrzebnymi zaleÅ¼noÅ›ciami. Takie podejÅ›cie mocno usprawni pracÄ™ z silnikiem, poniewaÅ¼ obecnie naleÅ¼y Å›ciÄ…gnÄ…Ä‡ silnik usunÄ…Ä‡ elementy z testowego projektu i dopiero wtedy moÅ¼na zaczynaÄ‡ prace. Nowe podejÅ›cie powinno wygenerowaÄ‡ projekt z kodzikiem silnika oraz drugim projektem, ktÃ³ry ma byÄ‡ implementacjÄ… gry.&lt;/p&gt;
&lt;p&gt;To tyle. Jak chcesz to zapraszam do sprÃ³bowania 2DXngine do jakiÅ› maÅ‚ych projektÃ³w. OczywiÅ›cie jak zawsze zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="2DXngine"></category></entry><entry><title>AppVeyor darmowe CI dla projektÃ³w Open Source</title><link href="https://harunx9.github.io/appveynor-darmowe-ci-dla-projektow-open-source.html" rel="alternate"></link><published>2017-09-25T07:00:00+02:00</published><updated>2017-09-25T07:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-09-25:/appveynor-darmowe-ci-dla-projektow-open-source.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. JakiÅ› czas temu natchnÄ™Å‚o mnie i postanowiÅ‚em ogarnÄ…Ä‡ coÅ›, Å¼eby 2DXnegine budowaÅ‚ siÄ™ na serwerze Continous Integration. Dla niezaznajomionych z tematem Continous Integration to taki twÃ³r, ktÃ³ry po kaÅ¼dym commicie bÄ™dzie pobieraÅ‚ do siebie nasze ÅºrÃ³dÅ‚a, kompilowaÅ‚ je i odpalaÅ‚ testy - po tym wszystkim moÅ¼emy gdzieÅ› naszÄ… zbudowanÄ… aplikacje â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. JakiÅ› czas temu natchnÄ™Å‚o mnie i postanowiÅ‚em ogarnÄ…Ä‡ coÅ›, Å¼eby 2DXnegine budowaÅ‚ siÄ™ na serwerze Continous Integration. Dla niezaznajomionych z tematem Continous Integration to taki twÃ³r, ktÃ³ry po kaÅ¼dym commicie bÄ™dzie pobieraÅ‚ do siebie nasze ÅºrÃ³dÅ‚a, kompilowaÅ‚ je i odpalaÅ‚ testy - po tym wszystkim moÅ¼emy gdzieÅ› naszÄ… zbudowanÄ… aplikacje wystawiÄ‡ i robiÄ‡ jeszcze inne cuda, o ktÃ³rych jeszcze nie pomyÅ›laÅ‚em. Na rynku istnieje parÄ™ usÅ‚ug CI dla projektÃ³w open source. Przy wyborze kierowaÅ‚em siÄ™ wsparciem dla MSBuild, poniewaÅ¼ przez moje lenistwo nie zmieniÅ‚em jeszcze MSBuild'a na coÅ› bardziej niezaleÅ¼nego od Visual Studio. To ograniczenie wykluczyÅ‚o sporo serwisÃ³w, ale okazaÅ‚o siÄ™, Å¼e istnieje  darmowa usÅ‚uga dla projektÃ³w open source wspierajÄ…ca MSBuild, a jest to &lt;a href="https://www.appveyor.com/"&gt;AppVeyor&lt;/a&gt;. Jest to system oparty na windowsach, wiÄ™c nadaje siÄ™ rÃ³nieÅ¼ Å›wietnie dla projetÃ³w .net'owych o czym teÅ¼ bÄ™dzie w tym artykule. Zacznijmy od konfiguracji AppVeyor dla projektu C++. Na poczÄ…tku dodajemy na Dashboardzie serwisu nowy projekt z naszych repozytoriÃ³w githubowych. Jak projekt siÄ™ utworzy to przechodzimy do zakÅ‚adki settings i rozpoczynamy konfiguracje.
W zakÅ‚adce General konfigurujemy format numeru build'a oraz branch z jakiego chcemy robiÄ‡ build:&lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/BasicConfig.png"&gt;&lt;/p&gt;
&lt;p&gt;NastÄ™pnie w zakÅ‚adce Environments konfigurujemy Visual Studio z ktÃ³rego chcemy buildowaÄ‡ solucje oraz ewentulanie skrypty, kÃ³re majÄ… siÄ™ odpaliÄ‡ porzed buildem. W moim przypadku musiaÅ‚em dodaÄ‡ klonowanie submoduÅ‚Ã³w git.&lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/BuildEnv.png"&gt;&lt;/p&gt;
&lt;p&gt;Aby uruchomiÄ‡ testy naleÅ¼y ze skryptu odpaliÄ‡ exe, ktÃ³re je zawiera. Ja uÅ¼ywam &lt;a href="https://github.com/google/googletest"&gt;googletest&lt;/a&gt;. Jedynie co musiaÅ‚em zrobiÄ‡ to usunÄ…Ä‡ testy uÅ¼ywajÄ…ce OpenGL, poniewaÅ¼ AppVeyor ma jakieÅ› problemy z tymi testami, ktÃ³rych nie udaÅ‚o mi siÄ™ rozwiÄ…zaÄ‡.&lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/TestsCI.png"&gt;&lt;/p&gt;
&lt;p&gt;Aby testy siÄ™ wyÅ›wietliÅ‚y w odpowiedniej zakÅ‚adce trzeba wyeksportowaÄ‡ je w odpowiednie miejsce. Skrypt eksportujÄ…cy dodajemy w zakÅ‚adce General. &lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/TestUpload.png"&gt;&lt;/p&gt;
&lt;p&gt;Teraz jeszcze krÃ³tko na temat projektÃ³w .Net Core. Jak juÅ¼ mÃ³wiÅ‚em pisze rÃ³wnieÅ¼ toole do swojego silnika. PostanowiÅ‚em je rÃ³wnieÅ¼ dodaÄ‡ do CI. W przypadku .Net Core jest duÅ¼o proÅ›ciej niÅ¼ w C/C++. Zmianami jakie naleÅ¼y poczyniÄ‡ to dodanie restorowania nugetÃ³w przed buildem.&lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/CorebeforeBuild.png"&gt;&lt;/p&gt;
&lt;p&gt;Dodatkowo, jeÅ¼eli chcemy odpaliÄ‡ testy to rÃ³wnieÅ¼ musimy je odpaliÄ‡ za pomocÄ… commandline'owego narzÄ™dzia dotnet:&lt;/p&gt;
&lt;p&gt;&lt;img alt src="/images/ci/CoreTesting.png"&gt;&lt;/p&gt;
&lt;p&gt;To w sumie tyle, kaÅ¼dy projekt builduje mi siÄ™ na commita. W przyszÅ‚oÅ›ci pobawiÄ™ siÄ™ jeszcze z tworzeniem jakiÅ› paczek, ktÃ³re bÄ™dzie moÅ¼na pobraÄ‡ zainstalowaÄ‡ i uÅ¼ywaÄ‡, ale to na razie jeszcze pieÅ›Å„ przyszÅ‚oÅ›ci. Generalnie AppVeyor jako usÅ‚uga bardzo mi siÄ™ podoba ze wzglÄ™du na Å‚atwoÅ›Ä‡ i szybkoÅ›Ä‡ konfiguracji. A jakie wy macie doÅ›wiadczenia z usÅ‚ugami CI?&lt;/p&gt;</content><category term="inne"></category><category term="tools"></category><category term="CI"></category><category term="appveyor"></category></entry><entry><title>.NET klasy internal a testy jednostkowe</title><link href="https://harunx9.github.io/net-klasy-internal-a-testy-jednostkowe.html" rel="alternate"></link><published>2017-09-18T19:00:00+02:00</published><updated>2017-09-18T19:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-09-18:/net-klasy-internal-a-testy-jednostkowe.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. DuÅ¼o siÄ™ ostatnio naoglÄ…daÅ‚em i naczytaÅ‚em o DDD i architekturze port-adapter i tak zaczÄ…Å‚em rozmyÅ›laÄ‡ jak to osiÄ…gnÄ…Ä‡, choÄ‡by w kontekÅ›cie tooli, ktÃ³re piszÄ™ do swojego silnika.&lt;/p&gt;
&lt;p&gt;Z tego co zauwaÅ¼yÅ‚em, to w projektach z ktÃ³rymi przyszÅ‚o mi pracowaÄ‡, wiÄ™kszoÅ›Ä‡ klas jest publiczna. Jest to zrozumiaÅ‚e, chcemy mieÄ‡ testy â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. DuÅ¼o siÄ™ ostatnio naoglÄ…daÅ‚em i naczytaÅ‚em o DDD i architekturze port-adapter i tak zaczÄ…Å‚em rozmyÅ›laÄ‡ jak to osiÄ…gnÄ…Ä‡, choÄ‡by w kontekÅ›cie tooli, ktÃ³re piszÄ™ do swojego silnika.&lt;/p&gt;
&lt;p&gt;Z tego co zauwaÅ¼yÅ‚em, to w projektach z ktÃ³rymi przyszÅ‚o mi pracowaÄ‡, wiÄ™kszoÅ›Ä‡ klas jest publiczna. Jest to zrozumiaÅ‚e, chcemy mieÄ‡ testy lub nie mamy testÃ³w, ale wszyscy piszÄ… public, wiÄ™c co to za problem. No niestety problem jest, wynika on z tego, Å¼e udostÄ™pniamy caÅ‚e API na Å›wiat zewnÄ™trzy, nawet jeÅ¼eli pewne komponenty nie powinny byÄ‡ dostÄ™pne na zewnÄ…trz. Generalnie na zewnÄ…trz powinniÅ›my udostÄ™pniÄ‡ interfejsy i te implementacje, ktÃ³re majÄ… byÄ‡ tam wykorzystane lub mogÄ… zostaÄ‡ odziedziczone. W ramach powtÃ³rzenia w .NET mamy 3 specyfikatory dostÄ™pu dla klas, czyli public, internal, private oraz keyword sealed, ktÃ³ry sÅ‚uÅ¼y do ograniczenia moÅ¼liwoÅ›ci dziedziczenia. Z tych wszystkich moÅ¼liwoÅ›ci najpopularniejsze jest public, natomiast momenty gdzie widziaÅ‚em zastosowanie sealed mÃ³gÅ‚bym policzyÄ‡ na palcach jednej rÄ™ki. Podobnie jest w bibliotekach, choÄ‡ zdarzajÄ… siÄ™ momenty lepsze. Co do sÅ‚owa kluczowego  internal to praktycznie w ogÃ³le nie widziaÅ‚em jego uÅ¼ycia i wszystkie klasy majÄ… w wiÄ™kszoÅ›ci public.&lt;/p&gt;
&lt;p&gt;Co zrobiÄ‡ w momencie, jeÅ¼eli chcemy pisaÄ‡ kod Å‚adnie, czytelnie i udostÄ™pniaÄ‡ implementacje tylko tam gdzie jest ona potrzebna. DÅ‚ugo szukaÅ‚em na to odpowiedzi jak pisaÄ‡ implementacje, tak abym testowaÅ‚ to co potrzebuje a udostÄ™pniaÅ‚ to co chce. Mamy tu tak naprawdÄ™ 2 opcje :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;testujemy tyko publiczne API. Ma to sens, bo jest to to co chcemy udostÄ™pniÄ‡ na zewnÄ…trz, wiÄ™c musi to dziaÅ‚aÄ‡ i tyle. Mimo to wydaje mi siÄ™, Å¼e pisanie dodatkowych testÃ³w by siÄ™ przydaÅ‚o.&lt;/li&gt;
&lt;li&gt;mÃ³wimy kompilatorowi do jakiego projektu udostÄ™pniamy nasze internale.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JuÅ¼ widzÄ™ te pochodnie purystÃ³w, Å¼e to hack i tak nie powinno siÄ™ robiÄ‡, ale nie powinno siÄ™ teÅ¼ pisaÄ‡ testÃ³w w dll implementujÄ…cych nasze funkcjonalnoÅ›ci. Co naleÅ¼y zrobiÄ‡, aby klasy internal udostÄ™pniÄ‡ na zewnÄ…trz wystarczy w AssemblyInfo dodaÄ‡ oto takie dwie linijki:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;System.Runtime.CompilerServices&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="na"&gt;[assembly: InternalsVisibleTo(&amp;quot;OUR.TEST.DLL.NAME&amp;quot;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;DziaÅ‚a na peÅ‚nym .Net i Core oraz pozwala o wiele lepiej strukturyzowaÄ‡ i testowaÄ‡ nasz kod. Co do sÅ‚owa kluczowego sealed, to polecam stosowaÄ‡ zawsze, gdy nie jesteÅ›my pewni, Å¼e bÄ™dzie potrzeba rozszerzania funkcjonalnoÅ›ci klasy. W razie potrzeby ktoÅ› Å›wiadomie bÄ™dzie musiaÅ‚ to sealed usunÄ…Ä‡ lub w przypadku jakieÅ› biblioteki opakowaÄ‡ jÄ… i na pewno spowoduje to dyskusje w zespole, czy na pewno naleÅ¼y tak zrobiÄ‡. To na tyle. A co wy myÅ›licie o zaprezentowanych tu praktykach. Zapraszam jak zawsze do sekcji komentarzy.&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category></entry><entry><title>.NET dev na detoksie, czyli Visual Studio 2017 bez Resharpera</title><link href="https://harunx9.github.io/net-dev-na-detoksie-czyli-visual-studio-2017-bez-resharpera.html" rel="alternate"></link><published>2017-09-09T00:00:00+02:00</published><updated>2017-09-09T00:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-09-09:/net-dev-na-detoksie-czyli-visual-studio-2017-bez-resharpera.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› bÄ™dzie trochÄ™ o narzÄ™dziach pracy. Jak wiadomo przynajmniej do niedawana, jako .NET developerzy mieliÅ›my jedno IDE, czyli &lt;a href="https://www.visualstudio.com/pl/vs/"&gt;Visual Studio&lt;/a&gt; ewentualnie jak ktoÅ› chciaÅ‚ mÃ³gÅ‚ uÅ¼ywaÄ‡ &lt;a href="http://www.monodevelop.com/"&gt;MonoDevelop&lt;/a&gt;. Obecnie po ostatnim otwarciu siÄ™ Microsoftu na Å›wiat Open Source  pojawiaÅ‚o siÄ™ masÄ™ edytorÃ³w wspierajÄ…cych C# i IntelliSense za pomocÄ… &lt;a href="http://www.omnisharp.net/"&gt;OmniSharp&lt;/a&gt;. Dodatkowo â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› bÄ™dzie trochÄ™ o narzÄ™dziach pracy. Jak wiadomo przynajmniej do niedawana, jako .NET developerzy mieliÅ›my jedno IDE, czyli &lt;a href="https://www.visualstudio.com/pl/vs/"&gt;Visual Studio&lt;/a&gt; ewentualnie jak ktoÅ› chciaÅ‚ mÃ³gÅ‚ uÅ¼ywaÄ‡ &lt;a href="http://www.monodevelop.com/"&gt;MonoDevelop&lt;/a&gt;. Obecnie po ostatnim otwarciu siÄ™ Microsoftu na Å›wiat Open Source  pojawiaÅ‚o siÄ™ masÄ™ edytorÃ³w wspierajÄ…cych C# i IntelliSense za pomocÄ… &lt;a href="http://www.omnisharp.net/"&gt;OmniSharp&lt;/a&gt;. Dodatkowo kawaÅ‚ek .NET'owego tortu chce uszczknÄ…Ä‡ JetBrains za pomocÄ… swojego IDE &lt;a href="https://www.jetbrains.com/rider/"&gt;Rider&lt;/a&gt;. Jak widaÄ‡ w przeciÄ…gu 2-3 lat iloÅ›Ä‡ narzÄ™dzi wzrosÅ‚a i nie jesteÅ›my juÅ¼ ograniczeni do samego Visual Studio. Jednak nie o tym ma byÄ‡ ten artykuÅ‚. Samo VS jest narzÄ™dziem doÅ›Ä‡ ciÄ™Å¼kim, posiada masÄ™  funkcji, jednak paru istotnych rzeczy zawsze w nim brakowaÅ‚o - tÄ… lukÄ™ zawsze uzupeÅ‚niaÅ‚ &lt;a href="https://www.jetbrains.com/resharper/"&gt;Resharper&lt;/a&gt; od wspomnianego juÅ¼ JetBrains. Co prawda Visual Studio zawsze gdzieÅ› tam prÃ³bowaÅ‚o zaimplementowaÄ‡ nowe funkcje, ale szÅ‚o to bardzo Å›lamazarnie, wiÄ™c pozycja R# wydawaÅ‚a siÄ™ niezagroÅ¼ona. Ostatnio jednak mocno siÄ™ w temacie ruszyÅ‚o oraz zmieniÅ‚o, szczegÃ³lnie po ostaniem update Visual Studio 2017 do wersji 15.3 i magicznie VS zyskaÅ‚o masÄ™ nowych funkcji. Zaznaczam, Å¼e nie wiem jak byÅ‚o w poprzednich wersjach VS 2017, bo niedawno siÄ™ przesiadÅ‚em. PrzejdÅºmy wiÄ™c przez zmiany, ktÃ³re zauwaÅ¼yÅ‚em:&lt;/p&gt;
&lt;h3&gt;IntelliSense&lt;/h3&gt;
&lt;p&gt;&lt;img alt="Intelisese" src="/images/vs2017/Intellisense.gif"&gt;&lt;/p&gt;
&lt;p&gt;Jak widaÄ‡ doszÅ‚y na dole nowe filtry dla okienka IntelliSense moÅ¼na wyszukiwaÄ‡ w namespace, klasach, snippetach itp. CaÅ‚kiem fajna zmiana co prawda w C# Å›rednio jÄ… wykorzystuje, ale w C++ jakoÅ› tak czÄ™Å›ciej. Z tego co zauwaÅ¼yÅ‚em caÅ‚y system lepiej przewidujÄ™ to co bÄ™dÄ™ wpisywaÅ‚. Z tego co brakuje to nie ma wyszukiwania w typach, ktÃ³rych nie mamy w usingach. R# takie coÅ› potrafi i szkoda, Å¼e nie ma tego samo Visual Studio.&lt;/p&gt;
&lt;h3&gt;Generate Constructor&lt;/h3&gt;
&lt;p&gt;&lt;img alt="ctorf" src="/images/vs2017/Ctorf.gif"&gt;&lt;/p&gt;
&lt;p&gt;Element, ktÃ³rego brakowaÅ‚o w Visual Studio. PamiÄ™tam, Å¼e jak pisaÅ‚em system w Akka.Net to musiaÅ‚em pisaÄ‡ masÄ™ klas readonly, ktÃ³re miaÅ‚y inicjalizacje przez konstruktor i bardzo tej funkcjonalnoÅ›ci brakowaÅ‚o (a R# nie miaÅ‚em). 
Brawo Microsoft !!!&lt;/p&gt;
&lt;h3&gt;Extract to file&lt;/h3&gt;
&lt;p&gt;&lt;img alt="extract" src="/images/vs2017/extractToFile.gif"&gt;&lt;/p&gt;
&lt;p&gt;Z tego co pamiÄ™tam to byÅ‚o to jakoÅ› dostÄ™pne w VS 2015, ale nie dziaÅ‚aÅ‚o tak dobrze jak teraz. Jest to mega uÅ¼yteczne narzÄ™dzie, poniewaÅ¼ czÄ™sto dla jakiegoÅ› POC piszemy klasy w jednym pliku i dziÄ™ki temu moÅ¼na to szybko podzieliÄ‡.&lt;/p&gt;
&lt;h3&gt;Wyszukiwanie w projekcie&lt;/h3&gt;
&lt;p&gt;&lt;img alt="ctrlT" src="/images/vs2017/ctrlT.gif"&gt;&lt;/p&gt;
&lt;p&gt;Wszyscy znajÄ…cy R# znajÄ… skrÃ³t 'Ctrl+T', ktÃ³ry pozwala na wyszukiwanie po wÅ‚aÅ›ciwie wszystkim w projekcie tzn. pliki, property, typy itp. Z tego co pamiÄ™tam VS miaÅ‚o takÄ… biedniejszÄ… wersje tego pod 'Ctrl+,'. Obecnie funkcjonalnoÅ›Ä‡ ta zostaÅ‚a bardzo rozwiniÄ™ta no i skrÃ³t pokrywa siÄ™ z tym z R#.&lt;/p&gt;
&lt;h3&gt;Refactoringi&lt;/h3&gt;
&lt;p&gt;Generalnie z tego co widziaÅ‚em pojawiÅ‚o siÄ™ duÅ¼o wiÄ™cej akcji kontekstowych powalajÄ…cych na rÃ³Å¼ne refactoringi kodu. Dodatkowo zmieniÅ‚ siÄ™ skrÃ³t na Quick Actions z 'Ctrl+.' na znany z R# 'Alt+Enter'. Polecam dodatkowo zainstalowaÄ‡ &lt;a href="http://vsrefactoringessentials.com/"&gt;RefactoringEssentials&lt;/a&gt;, poniewaÅ¼ dodajÄ… one nowe rzeczy, ktÃ³rych nie ma w goÅ‚ym VS.&lt;/p&gt;
&lt;p&gt;Mimo tych nowych rzeczy, ktÃ³re w duÅ¼ym stopniu usprawniajÄ… prace z Visual Studio bez R# to jednak paru rzeczy brakuje. Zobaczymy co przyniosÄ… kolejne aktualizacje Visual Studio, bo obecny kierunek bardzo mi siÄ™ podoba. A wy co zauwaÅ¼yliÅ›cie z nowoÅ›ci w VS 2017?&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term="visualstudio"></category><category term="refactoring"></category><category term="resharper"></category></entry><entry><title>Komponentowe CLI czÄ™Å›Ä‡ 2. Implementacja</title><link href="https://harunx9.github.io/komponentowe-cli-czesc-2-implementacja.html" rel="alternate"></link><published>2017-09-02T16:00:00+02:00</published><updated>2017-09-02T16:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-09-02:/komponentowe-cli-czesc-2-implementacja.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatnio przedstawiÅ‚em wam zamysÅ‚ mojego moduÅ‚owego systemu do tworzenia tooli CLI w .NET Core. To co bÄ™dÄ™ prezentowaÅ‚ w tym poÅ›cie jest to implementacja POC, wiÄ™c kod momentami jest robiony na szybko. BÄ™dÄ™ pisaÅ‚ o tym co myÅ›lÄ™, Å¼e moÅ¼na jeszcze poprawiÄ‡ w dalszej czÄ™Å›ci artykuÅ‚u. Na poczÄ…tku zanim â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatnio przedstawiÅ‚em wam zamysÅ‚ mojego moduÅ‚owego systemu do tworzenia tooli CLI w .NET Core. To co bÄ™dÄ™ prezentowaÅ‚ w tym poÅ›cie jest to implementacja POC, wiÄ™c kod momentami jest robiony na szybko. BÄ™dÄ™ pisaÅ‚ o tym co myÅ›lÄ™, Å¼e moÅ¼na jeszcze poprawiÄ‡ w dalszej czÄ™Å›ci artykuÅ‚u. Na poczÄ…tku zanim pojawi siÄ™ kodzik opiszÄ™ na czym opiera siÄ™ caÅ‚e rozwiÄ…zanie. Aplikacje CLI postanowiÅ‚em zamodelowaÄ‡ za pomocÄ… handlerÃ³w. To co wpisujemy do konsoli to komenda, kolejne parametry to wartoÅ›ci obiektu komendy. KaÅ¼da komenda ma odpowiadajÄ…cy jej handler, ktÃ³ry po sparsowaniu argumentÃ³w jest tworzony z kontenera DI. PrzykÅ‚adowo wyglÄ…dajÄ…ca komenda moÅ¼e mieÄ‡ nastÄ™pujÄ…cÄ… implementacje:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;[Command(&amp;quot;help&amp;quot;, Alias = &amp;quot;h&amp;quot;, HelpText = &amp;quot;Help for cli&amp;quot;)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelpCommand&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="na"&gt;    [CommandOptionsValue(&amp;quot;command&amp;quot;, Alias = &amp;quot;c&amp;quot;, HelpText = &amp;quot;Type command name to get detailed help&amp;quot;)]&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;ErrorMessage&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Handler moÅ¼na zaimplmentowaÄ‡ w nastÄ™pujÄ…cy sposÃ³b&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;[CommandHandler(&amp;quot;help&amp;quot;)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelpCommandHandler&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ConsoleCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;HelpCommand&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;IHelpGenerator&lt;/span&gt; &lt;span class="n"&gt;_helpGenerator&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;HelpCommandHandler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IHelpGenerator&lt;/span&gt; &lt;span class="n"&gt;helpGenerator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_helpGenerator&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;helpGenerator&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HelpCommand&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;StringBuilder&lt;/span&gt; &lt;span class="n"&gt;helpText&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IsNullOrWhiteSpace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;helpText&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_helpGenerator&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GenerateForCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;helpText&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_helpGenerator&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GenerateForProgram&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IsNullOrWhiteSpace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ErrorMessage&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;helpText&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AppendLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Error message&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;helpText&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AppendLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ErrorMessage&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;helpText&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;CaÅ‚a funkcja Main sprowadza siÄ™ jedynie do kilku linii i generalnie wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;containerBuilder&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ContainerBuilder&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;containerBuilder&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterDependencies&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterConsoleCommands&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;CommandLineApplication&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;AutofacCommandResolver&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Build&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt; &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dodatkowo dodajÄ…c kolejne komendy nic siÄ™ nie zmieni poza nowymi plikami w odpowiednich libkach, wiÄ™c tak na prawdÄ™ wystarczy mieÄ‡ jednÄ… aplikacje i dodaÄ‡ kilka dll, ktÃ³re bÄ™dÄ… zwieraÄ‡ nowe komendy i tak bÄ™dziemy komponowaÄ‡ swoje aplikacje. O tym pisaÅ‚em juÅ¼ we wczeÅ›niejszym artykule, wiÄ™c od teorii przejdÅºmy do implementacji. Podobnie jak w przypadku automatycznej rejestracji oparÅ‚em caÅ‚e rozwiÄ…zanie o atrybuty, choÄ‡ mam pewne wÄ…tpliwoÅ›ci, ale to pÃ³Åºniej. AtrybutÃ³w jest kilka:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;[System.AttributeUsage(AttributeTargets.Class, Inherited = false, AllowMultiple = true)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandAttribute&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Attribute&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Alias&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;HelpText&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="na"&gt;[System.AttributeUsage(AttributeTargets.Property, Inherited = false, AllowMultiple = true)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandOptionsValueAttribute&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Attribute&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Alias&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;Required&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;object&lt;/span&gt; &lt;span class="n"&gt;DefaultValue&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;HelpText&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandOptionsValueAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="na"&gt;[AttributeUsage(AttributeTargets.Class, Inherited = false, AllowMultiple = true)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandHandlerAttribute&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Attribute&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandHandlerAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pierwszy atrybut dajemy nad klasÄ™, ktÃ³ra ma byÄ‡ komendÄ…, a drugi nad wÅ‚aÅ›ciwoÅ›ci w klasie komendy, ktÃ³re bÄ™dÄ… wartoÅ›ciami opcji komendy. CommandHandlerAttribute naleÅ¼y daÄ‡ nad klasÄ™, ktÃ³ra ma byÄ‡ handlerem dla danej komendy. Co istotne nazwa komendy i handlera musi byÄ‡ taka sama, poniewaÅ¼ inaczej nie zostanÄ… one dobrze sparsowane. MuszÄ™ pomyÅ›leÄ‡ nad tym jak to inaczej zrobiÄ‡, Å¼eby ominÄ…Ä‡ ten problem, ale na razie nie wydaje mi siÄ™ to wielkÄ… niedogodnoÅ›ciÄ…. 
Bazowa klasa handlera wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IConsoleCommandHandler&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;ExecuteFromParsedArgs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConsoleCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IConsoleCommandHandler&lt;/span&gt;
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;ExecuteFromParsedArgs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CommandFactory&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Create&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;Execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dodatkowy interfejs jest nam potrzebny dla rozwiÄ…zywania zaleÅ¼noÅ›ci przez kontener DI, ale o tym pÃ³Åºniej. Jak widzimy metoda ExecuteFromParsedArgs przyjmuje sparsowane argumenty. Klasa argumentÃ³w wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandLineParsedArgs&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Dictionary&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;CommandOptionsValues&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandLineParsedArgs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
        &lt;span class="n"&gt;Dictionary&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;commandOptionsValues&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;CommandOptionsValues&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commandOptionsValues&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="nf"&gt;GetValueFor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;option&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;CommandOptionsValues&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;option&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sam parser natomiast dzieÅ‚em sztuki nie jest (bo powinienem to zrobiÄ‡ za pomocÄ… tokenÃ³w), ale dziaÅ‚a. Kodzik wyglÄ…da oto w taki sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandLineArgsParser&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_argDelimiter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;_valueDelimiters&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;_commandIndexPlacement&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandLineArgsParser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;argDelimiter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;valueDelimiters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;commandIndexPlacement&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_argDelimiter&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;argDelimiter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;_valueDelimiters&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;valueDelimiters&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;_commandIndexPlacement&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commandIndexPlacement&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="nf"&gt;Parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Any&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;EmptyArgsException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ParseCommandName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;Dictionary&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ParseCommandOptions&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;CommandLineParsedArgs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="n"&gt;Dictionary&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;ParseCommandOptions&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;args&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Skip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Dictionary&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
        &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;curretnOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;currentValue&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;removeOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;addToDict&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;delimiter&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_valueDelimiters&lt;/span&gt;
                &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirstOrDefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Contains&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;delimiter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;curretnOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delimiter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;First&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_argDelimiter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

                &lt;span class="n"&gt;currentValue&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delimiter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Last&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Contains&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_argDelimiter&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="n"&gt;curretnOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_argDelimiter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                    &lt;span class="n"&gt;removeOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                    &lt;span class="n"&gt;addToDict&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;

                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;curretnOption&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt; &lt;span class="p"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                    &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Contains&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_argDelimiter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="n"&gt;currentValue&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addToDict&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;curretnOption&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;currentValue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;removeOption&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;curretnOption&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="n"&gt;currentValue&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="nf"&gt;ParseCommandName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_commandIndexPlacement&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W przyszÅ‚oÅ›ci to pewnie zmiennie, ale na razie dziaÅ‚a, jest przetestowane, wiÄ™c niech na razie takie zostanie. W handlerze jest jeszcze jeden, ktÃ³ry zamienia argumenty na komendÄ™, a mianowicie CommandFactory:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandFactory&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Create&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;commands&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FindCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;TooManyCommandsWithSameNameException&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandType&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;First&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;instance&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Activator&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CreateInstance&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;

        &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetType&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetProperties&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandOptionsValueAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;SetPropertyValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SetPropertyValue&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PropertyInfo&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;CommandOptionsValueAttribute&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;arg&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;
                &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandOptionsValues&lt;/span&gt;
                &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirstOrDefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;
                    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Key&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;||&lt;/span&gt;
                    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Key&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Alias&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IsDefault&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Required&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;RequiredOptionNotFoundException&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IsDefault&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Convert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ChangeType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PropertyType&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nf"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DefaultValue&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Convert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ChangeType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;attribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DefaultValue&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PropertyType&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;
            &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Convert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ChangeType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PropertyType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetDefaultValue&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PropertyType&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="nf"&gt;FindCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;
               &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
               &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectMany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                   &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="p"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;||&lt;/span&gt;
                    &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;Alias&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;
                   &lt;span class="p"&gt;))).&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Wiem, Å¼e jest to refleksja w wersji hard, ale speÅ‚nia swoje zadanie i mapuje sparsowane argumenty na instancje klasy komendy. CaÅ‚e rozwiÄ…zanie skÅ‚ada w caÅ‚oÅ›Ä‡ CommandLineApplication:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandLineApplication&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;ICommandResolver&lt;/span&gt; &lt;span class="n"&gt;_resolver&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;_out&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;CommandLineApplication&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ICommandResolver&lt;/span&gt; &lt;span class="n"&gt;resolver&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextWriter&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_resolver&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resolver&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;_out&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;@out&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;parser&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;CommandLineArgsParser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;--&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;parsedArgs&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_resolver&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parsedArgs&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ExecuteFromParsedArgs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parsedArgs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;_resolver&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;HelpCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;help&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;HelpCommand&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;ErrorMessage&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;_out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I to w sumie na tyle z podstawowego frameworka. Przejdziemy teraz do resolvera. Jest to w podstawowym wydaniu interfejs, poniewaÅ¼ nie chciaÅ‚em wiÄ…zaÄ‡ siÄ™ silnie z Å¼adnÄ… bibliotekÄ™ do dependeny injection. WyglÄ…da on tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;ICommandResolver&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;IConsoleCommandHandler&lt;/span&gt; &lt;span class="nf"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pierwsza metoda rozwiÄ…zuje handler jako interfejs co pozwoli mi go potem wywoÅ‚aÄ‡ za pomocÄ… sparsowanych elementÃ³w. Druga funkcja powinna zwrÃ³ciÄ‡ konkretny handler. Na powyÅ¼szym przykÅ‚adzie uÅ¼ywam tego do wyÅ›wietlania helpa, wiÄ™c siÄ™ przydaje. W sowim rozwiÄ…zaniu zaimplementowaÅ‚em handler przy uÅ¼yciu Autofa,c ale moÅ¼na uÅ¼yÄ‡ dowolnego innego kontenera. Kod relovera jest prosty i wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AutofacCommandResolver&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ICommandResolver&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;IContainer&lt;/span&gt; &lt;span class="n"&gt;_container&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;AutofacCommandResolver&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IContainer&lt;/span&gt; &lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_container&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;IConsoleCommandHandler&lt;/span&gt; &lt;span class="nf"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommandLineParsedArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetQualifiedCommandName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandType&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetCommandType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_container&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ResolveNamed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;commandType&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;IConsoleCommandHandler&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;CommandNotFoundException&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;


    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;ResolveCommandHandler&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_container&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ResolveNamed&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="nf"&gt;GetQualifiedCommandName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandType&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectMany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirstOrDefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt;
                &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt; &lt;span class="p"&gt;||&lt;/span&gt;
                &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;Alias&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;commandName&lt;/span&gt;
            &lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;retName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Empty&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commandType&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;retName&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;commandType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;retName&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="n"&gt;Type&lt;/span&gt; &lt;span class="nf"&gt;GetCommandType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
             &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectMany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                 &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                    &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandHandlerAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
             &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FirstOrDefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                     &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandHandlerAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;().&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Na koniec najwaÅ¼niejszy element, czyli automatyczna rejestracja handlerÃ³w zaimplementowana jako rozszerzenie do ContainerBuildera:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandLineAutofacExtensions&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;RegisterConsoleCommands&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="n"&gt;ContainerBuilder&lt;/span&gt; &lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;commandsToRegister&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectMany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandHandlerAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;commandsToRegister&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;commandAttribute&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;CommandHandlerAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
            &lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;Named&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;commandAttribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CommandName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I to juÅ¼ tyle. DziÄ™ki tym elementom jestem w stanie za pomocÄ… dodania kolejnych dll sterowaÄ‡ tym jakie komendy ma aplikacja, poniewaÅ¼ dziÄ™ki assembly finder, ktÃ³ry omawiaÅ‚em w &lt;a href="https://harunx9.github.io/automatyczna-rejestracja-zaleznosci-w-autofac-na-netcore.html#automatyczna-rejestracja-zaleznosci-w-autofac-na-netcore"&gt;tym&lt;/a&gt; rejestruje to co znajdzie siÄ™ w folderze z aplikacjÄ…. Jak uda mi siÄ™ dokoÅ„czyÄ‡ texture packera to pokaÅ¼Ä™ jak dziaÅ‚a caÅ‚oÅ›Ä‡ w akcji a pewnie przy okazji dokonam poprawek, bÅ‚Ä™dÃ³w niezauwaÅ¼onych na etapie pisania/tworzenia podstawy. Zastanawiam siÄ™ rÃ³wnieÅ¼ nad przeniesieniem tego do biblioteki .NET Standard, ale to dopiero jak bÄ™dÄ™ miaÅ‚ napisane na tym ze dwie wyszczegÃ³lnione w poprzednim artykule aplikacje. A wy co o tym myÅ›lcie? Czy takie podejÅ›cie ma sens i moÅ¼e byÄ‡ wykorzystywane?  Czy macie moÅ¼e jakieÅ› inne rozwiÄ…zania?&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term=".netcore"></category><category term="cli"></category></entry><entry><title>Komponentowe CLI czÄ™Å›Ä‡ 1. Potrzeba oraz dostÄ™pne rozwiÄ…zania</title><link href="https://harunx9.github.io/komponentowe-cli-czesc-1-potrzeba-oraz-dostepne-rozwiazania.html" rel="alternate"></link><published>2017-08-27T12:00:00+02:00</published><updated>2017-08-27T12:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-08-27:/komponentowe-cli-czesc-1-potrzeba-oraz-dostepne-rozwiazania.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatni post o automatycznej rejestracji komponentÃ³w w Autofac byÅ‚ jedynie wstÄ™pem do tego co chcÄ™ osiÄ…gnÄ…Ä‡ w narzÄ™dziach, ktÃ³re obecnie pisze. Co do samych narzÄ™dzi to chciaÅ‚bym mieÄ‡ takie oto rozwiÄ…zania:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Texture packer - narzÄ™dzie do pakowanie spritesheetÃ³w i animacji, ktÃ³re bÄ™dzie rozumiaÅ‚ 2DXngine,&lt;/li&gt;
&lt;li&gt;Project generator - generuje podstawowy projekt 2DXngine â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Ostatni post o automatycznej rejestracji komponentÃ³w w Autofac byÅ‚ jedynie wstÄ™pem do tego co chcÄ™ osiÄ…gnÄ…Ä‡ w narzÄ™dziach, ktÃ³re obecnie pisze. Co do samych narzÄ™dzi to chciaÅ‚bym mieÄ‡ takie oto rozwiÄ…zania:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Texture packer - narzÄ™dzie do pakowanie spritesheetÃ³w i animacji, ktÃ³re bÄ™dzie rozumiaÅ‚ 2DXngine,&lt;/li&gt;
&lt;li&gt;Project generator - generuje podstawowy projekt 2DXngine z odpowiedniÄ… wersjÄ… silnika. Tworzy podstawowÄ… strukturÄ™ plikÃ³w, kompiluje projekt, itp.,&lt;/li&gt;
&lt;li&gt;Asset Packer - jak juÅ¼ uda mi siÄ™ jakoÅ› zaimplementowaÄ‡ to w C++, to chciaÅ‚bym mieÄ‡ moÅ¼liwoÅ›Ä‡ spakowania wszystkich assetÃ³w do jakiegoÅ› formatu binarnego, tak Å¼eby zajmowaÅ‚y mniej miejsca i gra siÄ™ do nich szybciej odwoÅ‚ywaÅ‚a.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jak widomo im dalej w las tym wiÄ™cej roÅ›nie drzew, wiÄ™c pewnie jeszcze mi jakieÅ› pomysÅ‚y dojdÄ…. Ale po kolei. MyÅ›lÄ…c nad tym jak takie toole z commandline zaprojektowaÄ‡ doszedÅ‚em do wniosku, Å¼e fajne by byÅ‚o jakby miaÅ‚y one architekturÄ™ bazujÄ…cÄ… na pluginach. Co to znaczy? ChciaÅ‚bym, aby sam program odpalaÅ‚ to co znajdzie sobie w swoim katalogu lub katalogu plugins w DLL i zarejestruje do kontenera zaleÅ¼noÅ›ci. Pozwoli mi to na bardzo wygodne dodawanie nowych komend czy zmienianie istniejÄ…cych np. poprzez dodanie nowych algorytmÃ³w pakujÄ…cych bez ingerencji w kod juÅ¼ istniejÄ…cy. &lt;/p&gt;
&lt;p&gt;PrzykÅ‚adem niech bÄ™dzie pakowanie tekstur. Najprostszym algorytmem pakowania jest pakowanie takich samych obrazÃ³w bez ich przycinania. Takie jakie znajdujemy w folderze pakujemy, generujemy XML i zwracamy, np. jakiÅ› user potrzebuje algorytm pakowania takich samych tekstur z wycinaniem pustych pikseli, Å¼eby zaoszczÄ™dziÄ‡ miejsce. Bierze on wtedy IDE, dociÄ…ga Nuget z bazowymi typami, implementuje algorytm i w komendzie dokÅ‚ada swojÄ… DLL do katalogu z texture packer'em. Przy starcie program powinien dodaÄ‡ do kontenera Di nowy algorytm i jeÅ¼eli w parametrach pojawi siÄ™ dodatkowo crop na true to zostanie on wykonany. Jak widzimy funkcjonalnoÅ›Ä‡ zostanie dodana bez dodatkowych ingerencji w podstawowy kod, przynajmniej w teorii. Dodatkowym ograniczeniem mojego pomysÅ‚u jest multiplatfromowoÅ›Ä‡, poniewaÅ¼ chciaÅ‚bym, aby narzÄ™dzia dziaÅ‚aÅ‚y na kaÅ¼dej platformie.&lt;/p&gt;
&lt;p&gt;Drugim problem doÅ›Ä‡ Å‚atwo rozwiÄ…zaÅ‚em wybierajÄ…c .NET Core, ktÃ³ry w teorii ma dziaÅ‚aÄ‡ nie tylko na rÃ³Å¼nych wersjach okienek, ale i na Linuksie i Apple. Tak jak napisaÅ‚em teoretycznie, bo na razie tego nie sprawdzaÅ‚em i opieram siÄ™ na tym co Microsoft pisze na swoich stronach. &lt;/p&gt;
&lt;p&gt;Co do frameworkÃ³w uÅ‚atwiajÄ…cych tworzenei aplikacji CLI to nie mam duÅ¼ego doÅ›wiadczenia, ale dokonaÅ‚em przeglÄ…du i na .NET Core znalazÅ‚em coÅ› takiego jak &lt;a href="https://github.com/gsscoder/commandline"&gt;commandline&lt;/a&gt; jest to bardzo dobra ,poniewaÅ¼ korzystaÅ‚em z niej kiedyÅ› implementujÄ…c migrator do mongo dla jednego z projektÃ³w. Pozwala ona tworzyÄ‡ komendy jako klasy i potem za pomocÄ… parsera je wytwarzaÄ‡, niestety dodanie nowej komendy powoduje dodanie nowej linijki na reakcje, co zrobiÄ‡ kiedy siÄ™ ona sparsuje. W kodzie wyglÄ…da to w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;[Verb(&amp;quot;add&amp;quot;, HelpText = &amp;quot;Add file contents to the index.&amp;quot;)]&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AddOptions&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="c1"&gt;//normal options here&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="na"&gt;[Verb(&amp;quot;commit&amp;quot;, HelpText = &amp;quot;Record changes to the repository.&amp;quot;)]&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommitOptions&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="c1"&gt;//normal options here&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="na"&gt;[Verb(&amp;quot;clone&amp;quot;, HelpText = &amp;quot;Clone a repository into a new directory.&amp;quot;)]&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CloneOptions&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="c1"&gt;//normal options here&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;CommandLine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Parser&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Default&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ParseArguments&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;AddOptions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;CommitOptions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;CloneOptions&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MapResult&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AddOptions&lt;/span&gt; &lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;RunAddAndReturnExitCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CommitOptions&lt;/span&gt; &lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;RunCommitAndReturnExitCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CloneOptions&lt;/span&gt; &lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;RunCloneAndReturnExitCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;opts&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
      &lt;span class="n"&gt;errs&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dodawanie kolejnych wywoÅ‚aÅ„ zdyskwalifikowaÅ‚o niestety tÄ… bibliotekÄ™. OprÃ³cz tego znalazÅ‚em kilka praserÃ³w, ale niczego co speÅ‚niÅ‚o by moje oczekiwania. W takim wypadku postanowiÅ‚em sam zaimplementowaÄ‡ rozwiÄ…zanie bazujÄ…ce na pluginach. &lt;/p&gt;
&lt;p&gt;W kolejnym artykule przejdziemy do implementacji mojego rozwiÄ…zania, Tak z ciekawoÅ›ci czy zna ktoÅ› ewentualnie jakieÅ› podobne rozwiÄ…zanie pozwalajÄ…ce na Å‚atwe tworzenie pluginÃ³w z DI. Jak coÅ› to piszcie w komentarzach, bo ja sam nie umiaÅ‚em nic sensownego znaleÅºÄ‡, a poÅ›wiÄ™ciÅ‚em temu trochÄ™ czasu.&lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term=".netcore"></category><category term="cli"></category></entry><entry><title>Automatyczna rejestracja zaleÅ¼noÅ›ci w Autofac na .NETCore</title><link href="https://harunx9.github.io/automatyczna-rejestracja-zaleznosci-w-autofac-na-netcore.html" rel="alternate"></link><published>2017-08-20T00:00:00+02:00</published><updated>2017-08-20T00:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-08-20:/automatyczna-rejestracja-zaleznosci-w-autofac-na-netcore.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Dawno mnie nie byÅ‚o, ale ostatnio w wiÄ™kszym stopniu skupiÅ‚em siÄ™ na 2DXngine, wiÄ™c czasu na pisanie postÃ³w automatycznie jest mniej. Ze wzglÄ™du na to, Å¼e obecnie implementujÄ™ narzÄ™dzia potrzebne do pracy z silnikiem (repo jest &lt;a href="https://github.com/Harunx9/Xngine.Tools"&gt;TU&lt;/a&gt;) chciaÅ‚em nieco napisaÄ‡ o mechanizmach, ktÃ³re tam tworzÄ™. Po pierwsze caÅ‚oÅ›Ä‡ bÄ™dzie â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Dawno mnie nie byÅ‚o, ale ostatnio w wiÄ™kszym stopniu skupiÅ‚em siÄ™ na 2DXngine, wiÄ™c czasu na pisanie postÃ³w automatycznie jest mniej. Ze wzglÄ™du na to, Å¼e obecnie implementujÄ™ narzÄ™dzia potrzebne do pracy z silnikiem (repo jest &lt;a href="https://github.com/Harunx9/Xngine.Tools"&gt;TU&lt;/a&gt;) chciaÅ‚em nieco napisaÄ‡ o mechanizmach, ktÃ³re tam tworzÄ™. Po pierwsze caÅ‚oÅ›Ä‡ bÄ™dzie napisana w .Net Core ze wzglÄ™du na to, Å¼e jest to framework multiplatformowy, a ja jeszcze Core nie prÃ³bowaÅ‚em, a uwaÅ¼am, Å¼e czas zaczÄ…Ä‡. Po drugie narzÄ™dzi bÄ™dzie parÄ™, ale obecnie ze wzglÄ™du na to, Å¼e chce przetestowaÄ‡ w silniku implementuje texture packera, czyli toola, ktÃ³ry z kilku tekstur wygeneruje mi jedna i konfiguracje xml dziÄ™ki, ktÃ³rej bÄ™dÄ™ mÃ³gÅ‚ rysowaÄ‡ to co chce z tej duÅ¼ej scalonej tekstury. .Net Core nieco siÄ™ rÃ³Å¼ni od tego co ma do zaoferowania peÅ‚na wersja .Net Framework, wiÄ™c kod pokazywany moÅ¼e byÄ‡ nieco inny od tego co uÅ¼ywacie na co dzieÅ„ jako programiÅ›ci C#.&lt;/p&gt;
&lt;p&gt;Wstrzykiwanie zaleÅ¼noÅ›ci jest waÅ¼nym elementem kaÅ¼dej aplikacji, pozwala ono w wygodny sposÃ³b tworzyÄ‡ i testowaÄ‡ obiekty jako niezaleÅ¼ne komponenty. W .Net mamy parÄ™ frameworkÃ³w kontenerÃ³w wspierajÄ…cych wstrzykiwanie zaleÅ¼noÅ›ci. Ja ze wzglÄ™du na moje prywatne preferencje wybraÅ‚em &lt;a href="https://autofac.org/"&gt;Autofac&lt;/a&gt;. SÅ‚abÄ… czÄ™Å›ciÄ… wszystkich frameworkÃ³w jest potrzeba rÄ™cznej konfiguracji tego co chcemy Å¼eby w danym kontenerze siÄ™ znalazÅ‚o. Autofac posiada moÅ¼liwoÅ›Ä‡ konfiguracji za pomocÄ… kodu C# jak i w Xml czy Json. PomyÅ›laÅ‚em sobie, Å¼e moÅ¼na by byÅ‚o jakoÅ› ten proces budowania kontenera i rejestracji komponentÃ³w zautomatyzowaÄ‡. W swoich dywagacjach znalazÅ‚em kilka moÅ¼liwoÅ›ci:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rejestracja wszystkiego z zaÅ‚adowanych dll, &lt;/li&gt;
&lt;li&gt;rejestracja po nazwie - moÅ¼na za pomocÄ… refleksji wyciÄ…gnÄ…Ä‡ typy, ktÃ³re posiadajÄ… jakÄ…Å› nazwÄ™ lub zawierajÄ… jakieÅ› sÅ‚owo w nazwie np. typy ktÃ³rych nazwa koÅ„czy siÄ™ na Servic, &lt;/li&gt;
&lt;li&gt;rejestracja po interfejsie agregujÄ…cym - tworzymy interfejs np. IComponent i porem refleksja wyciÄ…gamy wszystkie typy, ktÃ³re go implementujÄ…, &lt;/li&gt;
&lt;li&gt;rejestracja za pomocÄ… atrybutÃ³w.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PodejÅ›cie pierwsze z automatu odpadÅ‚o, poniewaÅ¼ prowadzi ono do tego, Å¼e bÄ™dziemy mieÄ‡ w kontenerze coÅ› czego nie chcemy. Drugie podeÅ›cie nie podoba mi siÄ™ poniewaÅ¼, kaÅ¼dy nowy pattern powoduje potrzebÄ™ dodania nowej metody rejestracyjnej lub wywoÅ‚anie jakieÅ› ogÃ³lnej metody z nowym parametrem. Dodatkowo metoda ta zakÅ‚ada to, Å¼e przestrzegane bÄ™dÄ… konwencje nazewnicze. Trzecie podejÅ›cie juÅ¼ kiedyÅ› wykorzystywaÅ‚em, ma ono sporo plusÃ³w, ale jeden powaÅ¼ny minus, a mianowicie bindujemy wszystkie typy pod jeden interfejs. Teoretycznie moÅ¼e nie mieÄ‡ to Å¼adnych konsekwencji, ale jakoÅ› tak chciaÅ‚em sprÃ³bowaÄ‡ czegoÅ› innego. Na zasadzie eliminacji pewnie juÅ¼ widzicie, Å¼e sprÃ³bowaÅ‚em podejÅ›cia z atrybutami.&lt;/p&gt;
&lt;p&gt;Na implementacjÄ™ tego rozwiÄ…zania skÅ‚adajÄ… siÄ™ 2 atrybuty:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;[AttributeUsage(AttributeTargets.Class, Inherited = true, AllowMultiple = true)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DependencyAttribute&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Attribute&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;

&lt;span class="na"&gt;[AttributeUsage(AttributeTargets.Class, Inherited = true, AllowMultiple = true)]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;NamedDependencyAttribute&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Attribute&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;NamedDependencyAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dodatkowo stworzyÅ‚em 2 extension method dla autofac'owego ContainerBuildera:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;RegisterDependencies&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="n"&gt;ContainerBuilder&lt;/span&gt; &lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;assembiles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;assembly&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;assembiles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;typesToRegiser&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;assembly&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;DependencyAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;typeToRegister&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;typesToRegiser&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;dependecyAttribute&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;typeToRegister&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;DependencyAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
                &lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;typeToRegister&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;AsImplementedInterfaces&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;RegisterNamedDependencies&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="n"&gt;ContainerBuilder&lt;/span&gt; &lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;assembiles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;assembly&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;assembiles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;typesToRegiser&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;assembly&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;NamedDependencyAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;()&lt;/span&gt; &lt;span class="p"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;typeToRegister&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;typesToRegiser&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;dependecyAttribute&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;typeToRegister&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetTypeInfo&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;GetCustomAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;NamedDependencyAttribute&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
            &lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;typeToRegister&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;Named&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dependecyAttribute&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;typeToRegister&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ze wzglÄ™du na to, Å¼e uÅ¼ywam .Net Core stworzyÅ‚em teÅ¼ finder dla Assembly, ktÃ³re nasza aplikacja potrzebuje do dziaÅ‚ania. W .Net Core nie ma AppDomain, wiÄ™c poradziÅ‚em sobie w taki sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="nf"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;currentDirectory&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Directory&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentDirectory&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;dllFiles&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Directory&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumerateFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;currentDirectory&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;*.dll&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SearchOption&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AllDirectories&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetFileNameWithoutExtension&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Distinct&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;dllFiles&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;AssemblyName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="nf"&gt;GetCurrentAssemblyWithDependenciesWithPattern&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;currentDirectory&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Directory&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentDirectory&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;dllFiles&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Directory&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnumerateFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;currentDirectory&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SearchOption&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AllDirectories&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetFileNameWithoutExtension&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Distinct&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;dllFiles&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Assembly&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;AssemblyName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
        &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ToArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A teraz usecase tego rozwiÄ…zania. ZaÅ‚Ã³Å¼my, Å¼e mamy takÄ… oto klasÄ™ XmlSerializer:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IXmlSerializer&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;SerializeToXmlString&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Deserialize&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;xmlString&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="n"&gt;Deserialize&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;FileStream&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="na"&gt;[Dependency]&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;XmlSerializer&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IXmlSerializer&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//impl&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I chcemy teraz Å¼eby zarejestrowaÄ‡ jÄ… w naszym kontenerze to w programie, dla ktÃ³rego chcemy rejestrowaÄ‡ w jego entry point robimy oto taki kodzik:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;assembiles&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;AssemblyFinder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetCurrentAssemblyWithDependencies&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;containerBuilder&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ContainerBuilder&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterDependencies&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;assembiles&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;container&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;containerBuilder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Build&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I jeÅ¼eli bÄ™dziemy chcieli rozwiÄ…zaÄ‡ takiego xml serializera, to robiy to w stranardowy dla autofac sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;serializer&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Resolve&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;IXmlSerializer&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To tyle ode mnie. Powiedzcie co sÄ…dzicie o tym sposobie automatycznej rejestracji komponentÃ³w w kontenerze DI. MoÅ¼e macie jakieÅ› inne ciekawe sposoby takiej automatyzacji?&lt;/p&gt;
&lt;p&gt;!!!Aktualizacja!!!
KontynuujÄ…c implementacje zauwaÅ¼yÅ‚em, Å¼e podczas debug'owania aplikacji konsolowej dla .NET Core Directory.GetCurrentDirectory() zwraca co innego niÅ¼ w testach. DodaÅ‚em wiÄ™c przeszukiwanie folderÃ³w w gÅ‚Ä…b tak Å¼eby odnaleÅºÄ‡ potrzebne dll. &lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category></entry><entry><title>Renderowanie 2D czeÅ›Ä‡ 6: Tekst True Type Font</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-6-tekst-true-type-font.html" rel="alternate"></link><published>2017-08-06T13:00:00+02:00</published><updated>2017-08-06T13:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-08-06:/renderowanie-2d-czesc-6-tekst-true-type-font.html</id><summary type="html">&lt;p&gt;Renderowanie tekstu jest nieco bardziej skomplikowane od wyÅ›wietlania prostych obrazkÃ³w. WyÅ›wietlanie tekstu moÅ¼emy zrealizowaÄ‡ na dwa sposoby:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;renderowanie SpriteFontÃ³w,&lt;/li&gt;
&lt;li&gt;renderowanie True Type Font. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pierwszy sposÃ³b polega na wygenerowaniu sobie z pliku czcionki tekstury oraz pliku opisujÄ…cego ukÅ‚ad znakÃ³w na teksturze. Potem podczas renderowania wycinamy za pomocÄ… tych danych odpowiednie obszary â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Renderowanie tekstu jest nieco bardziej skomplikowane od wyÅ›wietlania prostych obrazkÃ³w. WyÅ›wietlanie tekstu moÅ¼emy zrealizowaÄ‡ na dwa sposoby:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;renderowanie SpriteFontÃ³w,&lt;/li&gt;
&lt;li&gt;renderowanie True Type Font. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pierwszy sposÃ³b polega na wygenerowaniu sobie z pliku czcionki tekstury oraz pliku opisujÄ…cego ukÅ‚ad znakÃ³w na teksturze. Potem podczas renderowania wycinamy za pomocÄ… tych danych odpowiednie obszary z tekstury i w ten sposÃ³b konstruujemy napisy. Ten sposÃ³b jest oczywiÅ›cie jak najbardziej ok i wiele z silnikÃ³w z niego korzysta. Ja w 2DXngine postanowiÅ‚em pÃ³jÅ›Ä‡ drugÄ… drogÄ…, czyli zaimplementowaÄ‡ renderowanie bezpoÅ›rednio z plikÃ³w czcionek True Type Font. PodejÅ›cie to wymaga zainstalowanie dodatkowo biblioteki &lt;a href="https://www.freetype.org"&gt;freetype&lt;/a&gt;, poniewaÅ¼ bÄ™dzie ona nam potrzebna do wygenerowania glifÃ³w, ktÃ³re pÃ³Åºniej bÄ™dziemy wyÅ›wietlali. Dodatkowo potrzeba jest jeszcze biblioteka &lt;a href="https://www.zlib.net/"&gt;zlib1&lt;/a&gt;. Jako pierwsze przyjrzymy siÄ™ implementacji tworzenia elementÃ³w do wyÅ›wietlenia. Podstawowe metryki fonta reprezentuje poniÅ¼szy rysunek: &lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt metrics" src="/images/metrics.png"&gt;&lt;/p&gt;
&lt;p&gt;Dodatkowe informacje moÅ¼na znaleÅºÄ‡ na stronie &lt;a href="https://www.freetype.org/freetype2/docs/glyphs/index.html"&gt;free type project&lt;/a&gt;. Jak juÅ¼ siÄ™ zaznajomimy z metrykami to moÅ¼emy stworzyÄ‡ strukturÄ™ reprezentujÄ…ca glif:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Glyph&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt; &lt;span class="n"&gt;bearing&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt; &lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GlyphState&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Glyph&lt;/span&gt; &lt;span class="nf"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; 
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Glyph&lt;/span&gt; &lt;span class="n"&gt;glyph&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;EMPTY_GLYPH&lt;/span&gt;
        &lt;span class="p"&gt;};&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Samo generowanie czcionek dla podsawowych znakÃ³w ASCII wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="n"&gt;glPixelStorei&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_UNPACK_ALIGNMENT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;FT_Library&lt;/span&gt; &lt;span class="n"&gt;ft&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FT_Init_FreeType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;ft&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;strPath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_fullPath&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;charPath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;strPath&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_str&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;FT_Face&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FT_New_Face&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ft&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;charPath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ERROR::FREETYPE: Failed to load font&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;FT_Set_Pixel_Sizes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;48&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLubyte&lt;/span&gt; &lt;span class="n"&gt;letter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;letter&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;letter&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FT_Load_Char&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;letter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FT_LOAD_RENDER&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ERROR::FREETYTPE: Failed to load Glyph&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;bmp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bitmap&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bitmap&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bitmap&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rows&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;bmp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_RED&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;Glyph&lt;/span&gt; &lt;span class="n"&gt;character&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bitmap_left&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bitmap_top&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ivec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;glyph&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;GlyphState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;FILL_GLYPH&lt;/span&gt;
        &lt;span class="p"&gt;};&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_characterMap&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;pair&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;GLchar&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Glyph&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;letter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;character&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;FT_Done_Face&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;FT_Done_FreeType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ft&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;PowyÅ¼szy kod generuje kolekcje bitmap, ktÃ³re przechowujÄ… obrazek kaÅ¼dego glifu w grayscale - aby poprawnie wyÅ›wietliÄ‡ takÄ… czcionkÄ™ potrzebujemy podmieniÄ‡ standardowy fragment shader, na taki jak poniÅ¼ej:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#version 330 core&lt;/span&gt;
&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;vec4&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;fragmentTexCoord&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;vec4&lt;/span&gt; &lt;span class="n"&gt;fragmentColor&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;uniform&lt;/span&gt; &lt;span class="n"&gt;sampler2D&lt;/span&gt; &lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;uniform&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;global_alpha&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="n"&gt;color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vec4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fragmentTexCoord&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;fragmentColor&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Do samego rysowania uÅ¼yÅ‚em spritebatcha, ktÃ³ry juÅ¼ zaimplementowaÅ‚em w silniku:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fontShader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureWrap&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CLAMP_TO_EDGE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;LINEAR_FILTER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;camera&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="nl"&gt;c&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Glyph&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_characterMap&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;GlyphState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;EMPTY_GLYPH&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="c1"&gt;//compute base pos variables&lt;/span&gt;
            &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bearing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bearing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tex&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;advance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I to w sumie tyle jeÅ›li chodzi o renderowanie czcionek. CaÅ‚oÅ›Ä‡ implementacji znajduje siÄ™ juÅ¼ w repozytorium, wiÄ™c ciekawskich zapraszam na githuba. &lt;/p&gt;</content><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Konfiguracja aplikacji za pomocÄ… plikÃ³w ini</title><link href="https://harunx9.github.io/konfiguracja-aplikacji-za-pomoca-plikow-ini.html" rel="alternate"></link><published>2017-07-21T21:00:00+02:00</published><updated>2017-07-21T21:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-07-21:/konfiguracja-aplikacji-za-pomoca-plikow-ini.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› zajmiemy siÄ™ konfiguracjÄ… aplikacji w C++. Temat przedstawiÄ™ od strony mojego silnika 2DXngine. W przypadku C++ temat zewnÄ™trznej konfiguracji nie jest tak oczywisty jak w przypadku C# i .NET, gdzie mamy pliki App i Web config. TakÄ… konfiguracje w C++ moÅ¼emy zapisaÄ‡ w plikach XML, ale jest to â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› zajmiemy siÄ™ konfiguracjÄ… aplikacji w C++. Temat przedstawiÄ™ od strony mojego silnika 2DXngine. W przypadku C++ temat zewnÄ™trznej konfiguracji nie jest tak oczywisty jak w przypadku C# i .NET, gdzie mamy pliki App i Web config. TakÄ… konfiguracje w C++ moÅ¼emy zapisaÄ‡ w plikach XML, ale jest to moim zdaniem format nie do koÅ„ca czytelny dla czÅ‚owieka. W swoich aplikacjach w C++ preferujÄ™ format ini, ktÃ³ry wyglÄ…da nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[NazwaSekcji1]&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡1&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡2&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡3&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡4&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡4&lt;/span&gt;
&lt;span class="k"&gt;[NazwaSekcji2]&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡1&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡2&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡3&lt;/span&gt;
&lt;span class="na"&gt;WÅ‚aÅ›ciwoÅ›Ä‡4&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;WartoÅ›Ä‡4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak dla mnie ten format jest duÅ¼o bardziej czytelny niÅ¼ XML i dlatego go stosuje. W przypadku C++ w bibliotece standardowej nie ma klas i funkcji parsujÄ…cych ini, musimy posiliÄ‡ siÄ™ jakÄ…Å› gotowÄ… bibliotekÄ… lub samemu napisaÄ‡ parsowanie takich plikÃ³w. Jako, Å¼e programista powinien byÄ‡ leniwy w swojej pracy, to i ja zdecydowaÅ‚em siÄ™ skorzystaÄ‡ z czegoÅ› gotowego. W C++ mamy sporo takich bibliotek ze wzglÄ™du na to, Å¼e potrzebowaÅ‚am oprÃ³cz parsowania jeszcze dodatkowo zapis plikÃ³w ini zdecydowaÅ‚em siÄ™ na &lt;a href="https://github.com/brofield/simpleini"&gt;SimpleIni&lt;/a&gt;. Sama nazwa juÅ¼ mÃ³wi ze biblioteka jest doÅ›Ä‡ maÅ‚a. CaÅ‚oÅ›Ä‡ to wÅ‚aÅ›ciwie jeden plik nagÅ‚Ã³wkowy, nop jeszcze 2 pliki pomocne przy encodingu UTF8 i to tyle. Z tego powodu nie budowaÅ‚em biblioteki jaklo .lib tylko dodaÅ‚em jej pliki do projektu. Teraz jak to wykorzystaÄ‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CSimpleIniA&lt;/span&gt; &lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; 
&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;cfg.ini&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// wczytanie pliku&lt;/span&gt;
&lt;span class="c1"&gt;//wczytanie wartoÅ›ci z pliku&lt;/span&gt;
&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;isFullScreen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetBoolValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;FullScreen&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;windowWidth&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;WindowWidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;640&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;windowHeight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;WindowHeight&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;360&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;openGLMinorVerion&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;GLMinor&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;openGLMajorVerion&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;GLMajor&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;doubleBufferToggle&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;DoubleBuffer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak widaÄ‡ odczyt danych jest doÅ›Ä‡ prosty podajemy nazwÄ™ sekcji i nazwÄ™ wÅ‚aÅ›ciwoÅ›ci oraz wartoÅ›Ä‡ ktÃ³ra ma siÄ™ pojawiÄ‡ defaultowo jak nie bÄ™dzie jej w pliku. JeÅ¼eli chcemy coÅ› zapisaÄ‡ to musimy postÄ…piÄ‡ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CSimpleIniA&lt;/span&gt; &lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetBoolValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;FullScreen&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;WindowWidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;640&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetLongValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Graphics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;WindowHeight&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;360&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;inifile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SaveFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;newcfg.ini&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Zapisywanie wartoÅ›ci jest rÃ³wnieÅ¼ doÅ›Ä‡ proste, podobnie jak w odczycie podajemy nazwÄ™ sekcji, nazwÄ™ pola i wartoÅ›Ä‡ jaka ma byÄ‡ do niego zapisana. Na koniec wywoÅ‚ujemy funkcjÄ™ save file ze Å›cieÅ¼kÄ… do  pliku w ktÃ³rym ma byÄ‡ to zapisane. W tym miejscu naleÅ¼y wspomnieÄ‡ jak to dziaÅ‚a w systemie Windows. Mianowicie jak mamy aplikacje zainstalowana w program files, to nie moÅ¼emy tam zapisaÄ‡ plikÃ³w bez uprawnieÅ„ administratora, dlatego naleÅ¼y zapisywaÄ‡ dane w katalogu lokalnego uÅ¼ytkownika. W wiÄ™kszoÅ›ci przypadkÃ³w bÄ™dzie to Å›cieÅ¼ka:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;C:/Users/NazwaUsera/Documents/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;SDL pozwala na pobranie Å›cieÅ¼ki to tego katalogu za pomocÄ… funkcji SDL_GetPrefPath("companyname", "appname"); wiÄ™c jeÅ¼eli chcemy instalowaÄ‡ u kogoÅ› innego naszÄ… aplikacjÄ™ naleÅ¼y o tym pamiÄ™taÄ‡, Å¼eby konfiguracja uÅ¼ytkownika mogÅ‚a zostaÄ‡ zapisana. To na razie na tyle jeÅ¼eli chodzi o konfiguracjÄ™. OczywiÅ›cie samo SimpleIni powinno siÄ™ opakowaÄ‡ w jakieÅ› wÅ‚asne klasy konfiguracyjne, tak Å¼eby moÅ¼na byÅ‚o mieÄ‡ to tego jakiÅ› wygodny dostÄ™p wszÄ™dzie w programie.&lt;/p&gt;</content><category term="programming"></category><category term="Gamedev"></category></entry><entry><title>SDL_mixer, czyli szybka implementacja audio</title><link href="https://harunx9.github.io/sdl_mixer-czyli-szybka-implementacja-audio.html" rel="alternate"></link><published>2017-07-09T21:20:00+02:00</published><updated>2017-07-09T21:20:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-07-09:/sdl_mixer-czyli-szybka-implementacja-audio.html</id><summary type="html">&lt;p&gt;Prawdopodobnie kaÅ¼dy twÃ³rca gier chce, by jego gra powodowaÅ‚a wiÄ™kszÄ… immersjÄ™, dlatego teÅ¼ naleÅ¼aÅ‚oby do niej dodaÄ‡ oprÃ³cz grafiki takÅ¼Ä™ dÅºwiÄ™k oraz muzykÄ™. 
Ze wzglÄ™du na to, Å¼e 2DXngine uÅ¼ywa SDL2 postanowiÅ‚em iÅ›Ä‡ dalej tÄ… drogÄ… i do odczytywania wykorzystaÄ‡ plugin SDL_mixer. Jest to maÅ‚a wtyczka do SDL2, ktÃ³ra pozwala â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Prawdopodobnie kaÅ¼dy twÃ³rca gier chce, by jego gra powodowaÅ‚a wiÄ™kszÄ… immersjÄ™, dlatego teÅ¼ naleÅ¼aÅ‚oby do niej dodaÄ‡ oprÃ³cz grafiki takÅ¼Ä™ dÅºwiÄ™k oraz muzykÄ™. 
Ze wzglÄ™du na to, Å¼e 2DXngine uÅ¼ywa SDL2 postanowiÅ‚em iÅ›Ä‡ dalej tÄ… drogÄ… i do odczytywania wykorzystaÄ‡ plugin SDL_mixer. Jest to maÅ‚a wtyczka do SDL2, ktÃ³ra pozwala odczytywaÄ‡ muzykÄ™ i dÅºwiÄ™ki w rÃ³Å¼nych formatach. Moje rozwiÄ…zanie jest oparte o klasy i przyjrzymy siÄ™ mu w perspektywie plikÃ³w MP3 i WAV. 
Muzyka i dÅºwiÄ™ki posiadajÄ… swoje klasy bazowe Sound i Music, ktÃ³re wyglÄ…dajÄ… w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;SoundState&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;STOPPED&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;PLAYING&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;PAUSED&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Sound&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;protected&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;SoundState&lt;/span&gt; &lt;span class="n"&gt;_currentState&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Sound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;AssetType&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Sound&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;play&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;pause&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;resume&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;SoundState&lt;/span&gt; &lt;span class="nf"&gt;get_soundState&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Music&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;protected&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;SoundState&lt;/span&gt; &lt;span class="n"&gt;_currentState&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Music&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;AssetType&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Music&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;play&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;pause&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;resume&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;SoundState&lt;/span&gt; &lt;span class="nf"&gt;get_musicState&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W przypadku pliku MP3 Å‚adowanie pliku odbywa siÄ™ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Mp3Sound&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Mp3Sound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Music&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DefaultAssetType&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MP3_TYPE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;fPathStr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_fullPath&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;soundPath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fPathStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_str&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_musicData&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Mix_LoadMUS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;soundPath&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SoundState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;STOPPED&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W przypadku Wav wyglÄ…da to podobnie tylko funkcja Mix_LoadMUS(const char&lt;em&gt; path) zamienia siÄ™ na Mix_LoadWAV(const char&lt;/em&gt; path). RÃ³Å¼nice wystÄ™pujÄ… natomiast w odtwarzaniu, aby odegraÄ‡ muzykÄ™ uÅ¼ywam serwisu MusicService, ktÃ³ry trzyma referencje na odgrywany kawaÅ‚ek. Za jego pomocÄ… mogÄ™ rÃ³wnieÅ¼ zatrzymywaÄ‡, wznawiaÄ‡ lub zakoÅ„czyÄ‡ odrywanie danej muzyki.
W przypadku dÅºwiÄ™ku sprawa ma siÄ™ nieco inaczej, o ile muzyka odpalonÄ… jednÄ… Å›cieÅ¼kÄ™ na raz to dÅºwiÄ™ki moÅ¼na ze sobÄ… mixowaÄ‡ i odpalaÄ‡ je kilka w jednym czasie. W tym przypadku w SoundService inicjalizujÄ™ kanaÅ‚y dla dÅºwiÄ™ku zanim zacznÄ™ serwisu uÅ¼ywaÄ‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Mix_AllocateChannels&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jest to o tyle waÅ¼ne, poniewaÅ¼ podczas odtwarzania dÅºwiÄ™ku pobieramy pierwszy wolny kanaÅ‚ i na nim odtwarzamy dÅºwiÄ™k, jeÅ¼eli chcemy potem zatrzymaÄ‡ dÅºwiÄ™k to musimy podaÄ‡ kanaÅ‚ na ktÃ³rym odgrywany jest dÅºwiÄ™k. W mojej implementacji wyglÄ…da to nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;WavSound&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;play&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;loop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;loop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_channel&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Mix_PlayChannel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_soundData&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_channel&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SoundState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;PLAYING&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;WavSound&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;pause&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Mix_Pause&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_channel&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SoundState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;PAUSED&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;WavSound&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Mix_HaltChannel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_channel&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_channel&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentState&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SoundState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;STOPPED&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;OprÃ³cz MP3 zaimplementowaÅ‚em jeszcze format OGG. Zobaczymy czy go bÄ™dÄ™ uÅ¼ywaÅ‚, ale jakby ktoÅ› potrzebowaÅ‚ to jest. Zobaczymy jak muzyka bÄ™dzie siÄ™ sprawowaÅ‚a podczas implementacji gry, ale na razie z testÃ³w wynika, Å¼e powinno byÄ‡ ok. To chyba wszystko w temacie SDL_mixer w razie gdybym czegoÅ› siÄ™ jeszcze w tym temacie dowiedziaÅ‚, to opiszÄ™ na blogu.&lt;/p&gt;</content><category term="Gamedev"></category></entry><entry><title>Renderowanie 2D czeÅ›Ä‡ 5: Kamera</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-5-kamera.html" rel="alternate"></link><published>2017-07-02T14:00:00+02:00</published><updated>2017-07-02T14:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-07-02:/renderowanie-2d-czesc-5-kamera.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. W poprzednich artykuÅ‚ach opisaÅ‚em jak zaimplementowaÅ‚em renderowanie 2D, dziÅ› jeszcze jeden element dotyczÄ…cy grafiki, czyli kamera 2D. Kamera jest elementem za pomocÄ…, ktÃ³rego moÅ¼emy manipulowaÄ‡ viewport'em.
Sam interfejs klasy kamery jest doÅ›Ä‡ prosty:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Camera&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Camera&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;viewportWidth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;viewportHeight&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Camera&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="nf"&gt;get_rotation&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_rotation â€¦&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. W poprzednich artykuÅ‚ach opisaÅ‚em jak zaimplementowaÅ‚em renderowanie 2D, dziÅ› jeszcze jeden element dotyczÄ…cy grafiki, czyli kamera 2D. Kamera jest elementem za pomocÄ…, ktÃ³rego moÅ¼emy manipulowaÄ‡ viewport'em.
Sam interfejs klasy kamery jest doÅ›Ä‡ prosty:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Camera&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Camera&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;viewportWidth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;viewportHeight&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Camera&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="nf"&gt;get_rotation&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_rotation&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;set_rotation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MIN_ROT&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;MAX_ROT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_rotation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="nf"&gt;get_zoom&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_zoom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;set_zoom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MIN_ZOOM&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;zoom&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;zoom&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;MAX_ZOOM&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_zoom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;


    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;get_viewMatrix&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;viewportWidth&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;viewportHeight&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;_zoom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;_rotation&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;MAX_ROT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;numeric_limits&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;MIN_ROT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;numeric_limits&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;lowest&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;MAX_ZOOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;numeric_limits&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;MIN_ZOOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;numeric_limits&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;lowest&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Z implementacyjnej czÄ™Å›ci to najciekawsza jest funkcja  get_viewMatrix()  ma ona doÅ›Ä‡ prostÄ… implementacje.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;Camera&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;get_viewMatrix&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;translate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;rotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_rotation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_zoom&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_zoom&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;translate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="n"&gt;vm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;translate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;vm&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Po obliczeniu nowej macierzy moÅ¼na jÄ… podaÄ‡ w metodzie begin spritebatcha i za jej pomocÄ… transformowaÄ‡ standardowy viewport. Z rzeczy brakujÄ…cych to moÅ¼na by byÅ‚o napisaÄ‡ funkcjÄ™ project i unproject, aby moÅ¼na byÅ‚o przeliczaÄ‡ koordynaty muszy z okienka do Å›wiata gry i ze Å›wiata gry do koordynatÃ³w okienka. Na razie nie potrzebuje takiej funkcjonalnoÅ›ci, ale pewnie w przyszÅ‚oÅ›ci dodam takÄ… funkcje. &lt;/p&gt;</content><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Renderowanie 2D czÄ™Å›Ä‡ 4.2: Spritebatch</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-42-spritebatch.html" rel="alternate"></link><published>2017-06-21T19:30:00+02:00</published><updated>2017-06-21T19:30:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-06-21:/renderowanie-2d-czesc-42-spritebatch.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. W poprzedniej czÄ™Å›ci napisaÅ‚em nieco o tym jak przebiega rysowanie a wÅ‚aÅ›ciwie dokÅ‚adanie elementÃ³w do narysowania. W tym artykule zajmiemy siÄ™ dokÅ‚adnie tym jak dziaÅ‚a pipeline rysowania SpriteBatchem. Aby narysowaÄ‡ jakÄ… teksturÄ™ naleÅ¼y napisaÄ‡ taki oto kodzik:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Colors&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;black&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;REPEAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;POINT_FILTER&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;batch â€¦&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. W poprzedniej czÄ™Å›ci napisaÅ‚em nieco o tym jak przebiega rysowanie a wÅ‚aÅ›ciwie dokÅ‚adanie elementÃ³w do narysowania. W tym artykule zajmiemy siÄ™ dokÅ‚adnie tym jak dziaÅ‚a pipeline rysowania SpriteBatchem. Aby narysowaÄ‡ jakÄ… teksturÄ™ naleÅ¼y napisaÄ‡ taki oto kodzik:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Colors&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;black&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;REPEAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;POINT_FILTER&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;texture1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;200.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;200.f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Colors&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;white&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;NONE_FLIP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;texture2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;300.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;200.f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Colors&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;white&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;NONE_FLIP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;batch&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;swapBuffers&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Zacznijmy od samej gÃ³ry. Aby wyczyÅ›ciÄ‡ backbuffer trzeba najpierw wywoÅ‚aÄ‡ funkcje clear() z graphic device. Potem wywoÅ‚ujemy jedno z przeciÄ…Å¼eÅ„ funkcji begin, ktÃ³ra przygotowuje wszystkie elementy SpriteBatcha do rysowania. PrzykÅ‚adowa implementacja wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;shader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;viewportTransform&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_isInitialized&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_isStarted&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_customShader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;shader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewport&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ortho&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="k"&gt;static_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;GLfloat&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_viewport&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="k"&gt;static_cast&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;GLfloat&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_viewport&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewportTransform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;viewportTransform&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_isStarted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_sampler&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;changeFilter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_sampler&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;changeWrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak moÅ¼emy zauwaÅ¼yÄ‡ najwaÅ¼niejsze jest ustalenie Viewportu i samplera. Druga macierz sÅ‚uÅ¼y do naÅ‚oÅ¼enia  transformacji kamery  ale to w innym artykule napiszÄ™ na ten temat. Po wywoÅ‚aniu kolejnych funkcji draw() wywoÅ‚ujemy funkcje end ()ktÃ³ra wykonuje wÅ‚aÅ›ciwe rysowanie. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//draw to frame buffer&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentTarget&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentTarget&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawBatch&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_currentTarget&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="c1"&gt;//draw to backbuffer&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawBatch&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JeÅ¼eli mamy naÅ‚oÅ¼ony render target to caÅ‚y batch jest rysowany to niego jeÅ¼eli nie to rysujemy na backbuffer. Funkcja drawBatch() ktÃ³ra rysuje caÅ‚y bufor ma nastÄ™pujÄ…cÄ… implementacjÄ™: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;drawBatch&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_sortMode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;SortMode&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;FRONT_TO_BACK&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;item1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;item2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;item1&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawOrder&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;item2&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;SortMode&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;BACK_TO_FRONT&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;item1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;item2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;item1&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawOrder&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;item2&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewport&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;GLint&lt;/span&gt; &lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;glGetIntegerv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_VIEWPORT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewport&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ortho&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;currentProgram&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_customShader&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_customShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;use&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;currentProgram&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_customShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_programId&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_defaultShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;use&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;currentProgram&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_defaultShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_programId&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt;  &lt;span class="n"&gt;full_viewProj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewport&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_viewportTransform&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;viewport&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;value_ptr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;full_viewProj&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glUniformMatrix4fv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glGetUniformLocation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;currentProgram&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;projection&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;glBindVertexArray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vao&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;glBindBuffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_ARRAY_BUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vbo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glBindBuffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_ELEMENT_ARRAY_BUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_ebo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;spritesCount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;batchesToDraw&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spritesCount&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_sampler&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;batchesToDraw&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;batchNumber&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;spriteNumber&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spritesCount&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spriteNumber&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;spriteNumber&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;spriteNumber&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

            &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="c1"&gt;//top left&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="c1"&gt;//top right&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="c1"&gt;//top left&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="c1"&gt;//top right&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;newI&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;31&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;fullSize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spritesCount&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fullSize&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fullSize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="n"&gt;glBufferSubData&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_ARRAY_BUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fullSize&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLfloat&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
            &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;

        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;lastTex&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;spriteItem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;spriteNumber&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;spriteItem&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;batchNumber&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spriteItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_textureId&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;lastTex&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_textureId&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;lastTex&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
                &lt;span class="n"&gt;glDrawElements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TRIANGLES&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;GL_UNSIGNED_INT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLvoid&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;)));&lt;/span&gt;
                &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="n"&gt;lastTex&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spriteItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;lastTex&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;glDrawElements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TRIANGLES&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spriteNumber&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;GL_UNSIGNED_INT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLvoid&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;)));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;glBindTexture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TEXTURE_2D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glBindBuffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_ARRAY_BUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_sampler&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;glBindVertexArray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glUseProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_isStarted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;clearBatchItems&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Metoda drawBatch na poczÄ…tku sortuje tekstury, oblicza viewport wÅ‚Ä…cza customowy shader jeÅ¼eli  jest on ustawiony. NastÄ™pnie obliczana jest macierz projekcji i wszystkie dane pakowane sÄ… do bufora oraz wysyÅ‚ane sÄ… one do rysowania. Po wszystkim batch jest czyszczony i caÅ‚y proces zaczyna siÄ™ od nowa. To chyba na tyle jeÅ¼eli chodzi o samego batcha z grafiki zostaÅ‚a nam jeszcze kamera, ktÃ³rÄ… opiszÄ™ w nastÄ™pnym artykule.&lt;/p&gt;</content><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Renderowanie 2D czÄ™Å›Ä‡ 4.1: Spritebatch</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-41-spritebatch.html" rel="alternate"></link><published>2017-06-18T17:00:00+02:00</published><updated>2017-06-18T17:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-06-18:/renderowanie-2d-czesc-41-spritebatch.html</id><summary type="html">&lt;p&gt;W poprzednich postach opisaÅ‚em skÅ‚adowe potrzebne do napisania wÅ‚aÅ›ciwego renderowania, dziÅ› zajmiemy siÄ™ wÅ‚aÅ›nie Spritebatchem, ktÃ³ry bÄ™dzie sÅ‚uÅ¼yÅ‚ w silniku 2DXngine do renderowania 2D. Zacznijmy jak zawsze od  interfejsu klasy, ktÃ³rÄ… bÄ™dziemy omawiaÄ‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;NONE_FLIP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FLIP_HORIZONTAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FLIP_VERTICAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;SortMode&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;NONE_SORT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FRONT_TO_BACK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;BACK_TO_FRONT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SpriteBatch&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GraphicDevice&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;device&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;SpriteBatch â€¦&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;W poprzednich postach opisaÅ‚em skÅ‚adowe potrzebne do napisania wÅ‚aÅ›ciwego renderowania, dziÅ› zajmiemy siÄ™ wÅ‚aÅ›nie Spritebatchem, ktÃ³ry bÄ™dzie sÅ‚uÅ¼yÅ‚ w silniku 2DXngine do renderowania 2D. Zacznijmy jak zawsze od  interfejsu klasy, ktÃ³rÄ… bÄ™dziemy omawiaÄ‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;NONE_FLIP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FLIP_HORIZONTAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FLIP_VERTICAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;SortMode&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;NONE_SORT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FRONT_TO_BACK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;BACK_TO_FRONT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SpriteBatch&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GraphicDevice&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;device&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;initialize&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;set_renderTarget&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;RenderTarget&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;shader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;viewportTransform&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt; &lt;span class="n"&gt;destinationRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt; &lt;span class="n"&gt;destinationRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt; &lt;span class="n"&gt;destinationRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt; &lt;span class="n"&gt;flip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt; &lt;span class="n"&gt;flip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt; &lt;span class="n"&gt;flip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Texture&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec4&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;GLfloat&lt;/span&gt; &lt;span class="n"&gt;rot&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;};&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;drawBatch&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;clearBatchItems&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nf"&gt;createNewItem&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;_viewport&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="n"&gt;_viewportTransform&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;initializeDefaultShader&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;isRenderTargetSet&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;size_t&lt;/span&gt; &lt;span class="n"&gt;_currentSpriteCount&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;SpriteBatchItem&lt;/span&gt;&lt;span class="o"&gt;*&amp;gt;&lt;/span&gt;  &lt;span class="n"&gt;_items&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;RenderTarget&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_currentTarget&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_defaultShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_customShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;_isInitialized&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;_isStarted&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;SortMode&lt;/span&gt; &lt;span class="n"&gt;_sortMode&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_sampler&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;_vao&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;_vbo&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;_ebo&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GraphicDevice&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_device&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;GLfloat&lt;/span&gt; &lt;span class="n"&gt;_vertexBuffer&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MAX_BATCH_ITEMS&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Zacznijmy od GraphicDevice, ktÃ³ry przyjmuje konstruktor spritebatch. Na razie jest to proste opakowanie na OpenGL z SDL, moÅ¼e w przyszÅ‚oÅ›ci rozwinÄ™ ten koncept, ale na razie taka implementacja mi wystarczy, wiÄ™c tak zostanie. Dalej jest inicjalizacja, funkcje rozpoczynajÄ…ce i  koÅ„czÄ…ce rysowanie. JeÅ¼eli chodzi o samo rysowanie to jak widzimy funkcja draw ma sporo przeciÄ…Å¼eÅ„, wiÄ™c powinno wystarczyÄ‡ dla zastosowaÅ„ prostego rysowania 2D, ale po kolei jak odbywa siÄ™ rysowanie. Tak na prawdÄ™ prawdziwe rysowanie nastÄ™puje podczas dziaÅ‚ania funkcji end. Kolejne  wywoÅ‚ania draw majÄ… za zadanie dodanie nowego SpriteBatchItem do kolejki rysowania. Sam SpriteBatchItem  jest zbiorem pewnych danych, ktÃ³re potrzebne sÄ… do narysowania tekstury na ekranie. PrzykÅ‚adowa implementacja funkcji draw wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SpriteBatch&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RectangleI&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Color&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FlipEffect&lt;/span&gt; &lt;span class="n"&gt;flip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;  &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;createNewItem&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;batchItem&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texture&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rotation&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rotation&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;postions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sinRot&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;cosRot&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="c1"&gt;//set color&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;//origin&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="c1"&gt;//rotation&lt;/span&gt;
    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;rot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;drawOrder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;drawOrder&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;//texCoord&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sourceRectangle&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelWidth&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelHeight&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelWidth&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelHeight&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelWidth&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelHeight&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelWidth&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sourceRectangle&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_y&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;texture&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_bitmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_texelHeight&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.f&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flip&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;FLIP_HORIZONTAL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;tltmp1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;trtmp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tltmp1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;trtmp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;FLIP_VERTICAL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;tltmp2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;bltmp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tltmp2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;batchItem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;texcoords&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bltmp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Za przykÅ‚ad wziÄ…Å‚em najbardziej rozbudowanÄ… implementacje, Å¼eby dokÅ‚adnie przeÅ›ledziÄ‡, to w jaki sposÃ³b potrzebujemy zapisaÄ‡ dane, aby potem mogÅ‚y one zostaÄ‡ wyÅ›wietlone. Na poczÄ…tku tworzymy nowy SpritebatchItem, a nastepnie okreÅ›lamy wymiray tekstury przy zeskalowaniu. Kolejnym krokiem jest przypisanie wskaÅºnika na teksturÄ™, jest to potrzebne, by potem pobraÄ‡ z niego id tekstury.  NastÄ™pnie w zaleÅ¼noÅ›ci od tego czy nasza tekstura jest obrÃ³cona czy nie, musimy przypisaÄ‡ pozycje do 4 vertexÃ³w w taki sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[ tl ]---------[ tr ]&lt;/span&gt;
  &lt;span class="na"&gt;|             / |&lt;/span&gt;
  &lt;span class="na"&gt;|          /    |&lt;/span&gt;
  &lt;span class="na"&gt;|        /      |&lt;/span&gt;
  &lt;span class="na"&gt;|      /        |&lt;/span&gt;
  &lt;span class="na"&gt;|   /           |&lt;/span&gt;
&lt;span class="k"&gt;[ bl ]--------[ br ]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak widaÄ‡ na schemacie kaÅ¼da tekstura skÅ‚ada siÄ™ z poÅ‚Ä…czonych 2 trÃ³jkÄ…tÃ³w, wiÄ™c na logikÄ™ vertexÃ³w powinno byÄ‡ 6. KaÅ¼dy vertex to jednak alokacja pamiÄ™ci, wiÄ™c tworzymy 4 vertexy i 6 indexÃ³w, czyli wskaÅºnikÃ³w na vertex. DziÄ™ki temu unikamy dodatkowej alokacji pamiÄ™ci, a efekt jest ten sam. W kolejnych krokach przypisane zostajÄ… kolor, origin (Å›rodek obiektu) oraz rotacja. KolejnÄ… sprawÄ… jest przypisanie koordynatÃ³w tekstury. Ostatnim etapem jest ewentualne odwrÃ³cenie tekstury, jeÅ¼eli jest ona w jakiÅ› sposÃ³b odwrÃ³cona. Mniej wiÄ™cej inne przeciÄ…Å¼enia robiÄ… to samo. To w tej czÄ™Å›ci na tyle, w nastÄ™pnym artykule przeÅ›ledzimy jak wyglÄ…da samo rysowanie i jak uÅ¼ywaÄ‡ naszego SpriteBatcha.&lt;/p&gt;</content><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Renderowanie 2d czÄ™Å›Ä‡ 3: Sampler State</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-3-sampler-state.html" rel="alternate"></link><published>2017-06-11T08:00:00+02:00</published><updated>2017-06-11T08:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-06-11:/renderowanie-2d-czesc-3-sampler-state.html</id><summary type="html">&lt;p&gt;Sampler to doÅ›Ä‡ nowa rzecz w OpenGL, dostÄ™pna od wersji 3.3. Jest to taki kontener, ktÃ³ry pozwala na przechowywanie parametrÃ³w potrzeb renderowania tekstur. Jego ustawienia sÄ… wykorzystywane przez fragment shader. W poprzednich wersjach OpenGL ustawienia te trzeba byÅ‚o ustawiaÄ‡ w teksturze przez funkcje glTexParameteri(), ale w momencie kiedy mamy â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sampler to doÅ›Ä‡ nowa rzecz w OpenGL, dostÄ™pna od wersji 3.3. Jest to taki kontener, ktÃ³ry pozwala na przechowywanie parametrÃ³w potrzeb renderowania tekstur. Jego ustawienia sÄ… wykorzystywane przez fragment shader. W poprzednich wersjach OpenGL ustawienia te trzeba byÅ‚o ustawiaÄ‡ w teksturze przez funkcje glTexParameteri(), ale w momencie kiedy mamy do dyspozycji sampler, to uÅ¼ywaÄ‡ bÄ™dziemy wÅ‚aÅ›nie jego. 
Sam interfejs klasy wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;TextureWrap&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;REPEAT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_REPEAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;MIRRORED_REPEAT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_MIRRORED_REPEAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;CLAMP_TO_EDGE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_CLAMP_TO_EDGE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;CLAMP_TO_BORDER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_CLAMP_TO_BORDER&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;POINT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_NEAREST&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;LINEAR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_LINEAR&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SamplerState&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;unbind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;changeFilter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;changeWrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Funkcje Bind i unbind sÅ‚uÅ¼Ä… do aktywowania i dezaktywacji samplera, dla danej tekstury i ich implementacje wyglÄ…dajÄ… w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glBindSampler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unbind&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glBindSampler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Do zmiany parametrÃ³w renderowania tekstur uÅ¼ywamy natomiast poniÅ¼szych funkcji:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;changeFilter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureFilter&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glSamplerParameteri&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_TEXTURE_MAG_FILTER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glSamplerParameteri&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_TEXTURE_MIN_FILTER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SamplerState&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;changeWrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TextureWrap&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glSamplerParameteri&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_TEXTURE_WRAP_S&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glSamplerParameteri&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_samplerId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_TEXTURE_WRAP_T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To tyle z elementÃ³w potrzebnych do renderowania 2D. W nastÄ™pnym poÅ›cie zacznÄ™ od tego, Å¼e poskÅ‚adamy to wszystko razem i zaimplementujemy Spritebach, ktÃ³ry pozwoli na rysowanie 2D .&lt;/p&gt;</content><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>DSP 2017: Podsumowanie</title><link href="https://harunx9.github.io/dsp-2017-podsumowanie.html" rel="alternate"></link><published>2017-06-08T19:00:00+02:00</published><updated>2017-06-08T19:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-06-08:/dsp-2017-podsumowanie.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, wiem, Å¼e trochÄ™ juÅ¼ po nie w czasie zamieszczam podsumowanie konkursu Daj SiÄ™ PoznaÄ‡ 2017, ale waÅ¼ne, Å¼e jest. Po pierwsze chciaÅ‚bym podziÄ™kowaÄ‡ wszystkim odwiedzjÄ…cym i komentujÄ…cym. Mam nadziejÄ™, Å¼e rÃ³wnieÅ¼ po konkursie bÄ™dziecie odwiedzaÄ‡ mojego bloga. Ztego miejsca zapraszam do dyskusji, poniewaÅ¼ tylko tak moÅ¼na wymieniÄ‡ siÄ™ wiedzÄ… â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, wiem, Å¼e trochÄ™ juÅ¼ po nie w czasie zamieszczam podsumowanie konkursu Daj SiÄ™ PoznaÄ‡ 2017, ale waÅ¼ne, Å¼e jest. Po pierwsze chciaÅ‚bym podziÄ™kowaÄ‡ wszystkim odwiedzjÄ…cym i komentujÄ…cym. Mam nadziejÄ™, Å¼e rÃ³wnieÅ¼ po konkursie bÄ™dziecie odwiedzaÄ‡ mojego bloga. Ztego miejsca zapraszam do dyskusji, poniewaÅ¼ tylko tak moÅ¼na wymieniÄ‡ siÄ™ wiedzÄ… i poszerzyÄ‡ horyzonty. DrugÄ… sprawÄ… jest realizacja projektu. Jak to zawsze u mnie bywa okazaÅ‚o siÄ™, Å¼e projekt byÅ‚ trudniejszy, niÅ¼ na poczÄ…tku zakÅ‚adaÅ‚em.
Mimo to udaÅ‚o siÄ™ co nie co zrealizowaÄ‡. 
W czasie tych 3 miesiÄ™cy udaÅ‚o mi siÄ™ zrealizowaÄ‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;renderowanie 2D,  &lt;/li&gt;
&lt;li&gt;wczytywanie assetÃ³w, &lt;/li&gt;
&lt;li&gt;component model, &lt;/li&gt;
&lt;li&gt;informacje o typie instancji obiektu, &lt;/li&gt;
&lt;li&gt;system scen,&lt;/li&gt;
&lt;li&gt;input z klawiatury i myszy,&lt;/li&gt;
&lt;li&gt;service locator,&lt;/li&gt;
&lt;li&gt;eventy.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nie jest to wszystko, tylko jakieÅ› wiÄ™ksze rzeczy. Z nich wszystkich renderowanie 2D i implementacja informacji o typie, zajÄ™Å‚y mi najwiÄ™cej czasu. Teraz co dalej. Moja praca nad 2DXngine bÄ™dzie kontynuowana, ale w nieco innej formie. Silnik dalej bÄ™dzie dostÄ™pny na Githubie, ale chciaÅ‚bym Å¼eby byÅ‚ on tzw.  battle tested. W tym celu rozpocznÄ™ implementacjÄ™ gry na tym silniku. Nie chciaÅ‚bym mÃ³wiÄ‡ o tym projekcie za duÅ¼o, poniewaÅ¼ jest on na razie dopiero w fazie konkretyzowania moich pomysÅ‚Ã³w i tego jak to robiÄ‡. Przy moich obecnych zobowiÄ…zaniach najwczeÅ›niej bÄ™dÄ™ mÃ³gÅ‚ coÅ› pokazaÄ‡ za jakieÅ› 6 do 8 miesiÄ™cy. Podczas implementacji gry bÄ™dÄ™ rozwijaÅ‚ silnik o elementy, ktÃ³re moÅ¼na wykorzystaÄ‡ uniwersalnie. Do koÅ„ca tego miesiÄ…ca postaram nieco uporzÄ…dkowaÄ‡ kod w repozytorium i podokaÅ„czaÄ‡ to co juÅ¼ zaczÄ…Å‚em robiÄ‡.&lt;/p&gt;
&lt;p&gt;W lipcu planuje rozpoczÄ…Ä‡ implementacje, wiÄ™c jak coÅ› dodam do silnika, to bÄ™dÄ™ to teÅ¼ commitowaÅ‚ na repozytorium githubowe. Poza tym wszystkim planuje nieco zrefactorowaÄ‡ kod, tak aby korzystaÅ‚ z feature'Ã³w C++11, czyli smart pointerÃ³w, itp. Mam nadziejÄ™, Å¼e nie odbije siÄ™ to negatywnie na wydajnoÅ›ci. Kolejnym krokiem bÄ™dzie pomyÅ›lenie jak wykorzystaÄ‡ wielowÄ…tkowoÅ›Ä‡. 
I tu mam pytanie. Jak ktoÅ› ma jakieÅ› ciekawe materiaÅ‚y na temat wielowÄ…tkowoÅ›ci w C++ i jak to zutylizowaÄ‡ w silniku do gier komputerowych to proszÄ™ o rady. linki, tytuÅ‚y ksiÄ…Å¼ek. KaÅ¼dy materiaÅ‚ z chÄ™ciÄ… przyswojÄ™ i wykorzystam w mojej implementacji. &lt;/p&gt;
&lt;p&gt;Na zakoÅ„czenie chciaÅ‚em jeszcze raz wszystkim podziÄ™kowaÄ‡ za wsparcie i pomoc. Mam nadziejÄ™ Å¼e implementacja gry nie wpÅ‚ynie zbytnio na to w jakich odstÄ™pach bÄ™dÄ… pojawiaÄ‡ siÄ™ posty. &lt;/p&gt;</content><category term="blog"></category><category term="inne"></category></entry><entry><title>Renderowanie 2D czÄ™Å›Ä‡ 2: Shadery</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-2-shadery.html" rel="alternate"></link><published>2017-05-20T18:50:00+02:00</published><updated>2017-05-20T18:50:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-05-20:/renderowanie-2d-czesc-2-shadery.html</id><summary type="html">&lt;p&gt;Shadery to programy wykonywane podczas procesu renderowania OpenGL. Nie bÄ™dÄ™ tu opisywaÅ‚ caÅ‚ego pipeline, poniewaÅ¼ to byÅ‚by temat na caÅ‚y osobny artykuÅ‚, wiÄ™c wspomnÄ™ tylko, Å¼e dla renderowania 2D istotne jest wipiÄ™cie siÄ™ w fazÄ™ vertex shadera i fragment shadera. Ten pierwszy opowiada za umiejscowienie naszego spritea w przestrzeni, jego â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Shadery to programy wykonywane podczas procesu renderowania OpenGL. Nie bÄ™dÄ™ tu opisywaÅ‚ caÅ‚ego pipeline, poniewaÅ¼ to byÅ‚by temat na caÅ‚y osobny artykuÅ‚, wiÄ™c wspomnÄ™ tylko, Å¼e dla renderowania 2D istotne jest wipiÄ™cie siÄ™ w fazÄ™ vertex shadera i fragment shadera. Ten pierwszy opowiada za umiejscowienie naszego spritea w przestrzeni, jego transformacje itp. Drugi shader wÅ‚Ä…cza siÄ™ juÅ¼ po rasteryzacji obrazu i odpowiada za kolorowanie poszczegÃ³lnych pixeli. Pogramy shadera w przypadku OpenGL pisze siÄ™ w jÄ™zyku GLSL. Przypomina on bardzo skÅ‚adniÄ… C i jest jÄ™zykiem strukturalnym. MoÅ¼emy w programie pisanym np. w C++ przesyÅ‚aÄ‡ do niego dane itp. Dodatkowo skÅ‚adnie wzbogacajÄ… wszystkie potrzebne typy matematyczne takie jak wektory, macierze i quaterniony oraz niezbÄ™dne funkcje matematyczne. JeÅ¼eli nie chcecie babraÄ‡ siÄ™ z pisaniem w C++ lub chcecie tylko potestowaÄ‡ shadery to zapraszam na &lt;a href="https://www.shadertoy.com/"&gt;shadertoy&lt;/a&gt;. Jako, Å¼e GLSL jest osobnym jÄ™zykiem musi on zostaÄ‡ wczytany skompilowany i uruchomiony podczas dziaÅ‚ania programu. W tym celu zrobiÅ‚em parÄ™ rzeczy, aby to uÅ‚atwiÄ‡ i zamknÄ…Ä‡ w jednÄ… caÅ‚oÅ›Ä‡ za pomocÄ… klas. Jako pierwszÄ… zaimplementowaÅ‚em klasÄ™ dla pojedynczego programu shadera. Jej interfejs wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;ShaderType&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;VERTEX_SHADER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_VERTEX_SHADER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;FRAGMENT_SHADER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_FRAGMENT_SHADER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;GEOMERTY_SHADER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GL_GEOMETRY_SHADER&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Shader&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Shader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ShaderType&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;Shader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ShaderType&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Shader&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="nf"&gt;tryLoad&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt; &lt;span class="nf"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shaderId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ShaderType&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;_compiled&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_source&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_path&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak widaÄ‡ zmapowaÅ‚em staÅ‚e OpenGl na enum ShaderType, dodatkowo zrobiÅ‚em enum okreÅ›lajÄ…cy to czy kompilacja siÄ™ powiodÅ‚a. Wynika to z tego wzglÄ™du, Å¼e stosowanie wyjÄ…tkÃ³w jest bardzo kosztowne w C++, dlatego zamieniÅ‚em je na takie oto rezultaty operacji. BÄ™dÄ™ to musiaÅ‚ jakoÅ› spÅ‚aszczyÄ‡ tak, aby rezultaty byÅ‚y bardziej uniwersalne. PrzejdÅºmy do  implementacji. Funkcja try load prÃ³buje wczytaÄ‡ z podanego pliku kod shadera:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;Shader&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;tryLoad&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;File&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;exist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_path&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_source&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;File&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;readFileToEnd&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_path&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Funkcja compile wczytany kod kompiluje oraz zwraca czy proces ten siÄ™ powiÃ³dÅ‚ czy nie:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt; &lt;span class="n"&gt;Shader&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_shaderId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glCreateShader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_type&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;GLchar&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_str&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;glShaderSource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_shaderId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;nullptr&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glCompileShader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_shaderId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;_compiled&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;GLint&lt;/span&gt; &lt;span class="n"&gt;success&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;glGetShaderiv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_shaderId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_COMPILE_STATUS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;success&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;GL_FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ZdajÄ™ sobie sprawÄ™, Å¼e powinineim na poczÄ…tku kompilacji sprawdziÄ‡ czy mam wczytane pliki, ale tym zajmuje siÄ™ klasa Shader Program, ktÃ³ra posiada taki oto interfejs:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;COMPILE_ERROR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;COMPILE_SUCCESS&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPat&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;vertexProgram&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;fragmentProgram&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;geometryProgram&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;ShaderProgram&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;use&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt; &lt;span class="nf"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setFloatParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setIntParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec2fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec2fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec2&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec3fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec3fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec3&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec4fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setVec4fParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vec4&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setMatrix4Param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;paramName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;glm&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mat4&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;programId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;loadShadersFromFile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;loadShadersFromSource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;vertexProgram&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;fragmentProgram&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;geometryProgram&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_programName&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_vertexPath&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_fragmentPath&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="n"&gt;_geometryPath&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Shader&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_vertexShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Shader&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_fragmentShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;Shader&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;_geometryShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jest to klasa, ktÃ³ra wczytuje wÅ‚aÅ›ciwy program shadera z kilku podprogramÃ³w i linkuje je razem tak, aby dziaÅ‚aÅ‚y w jednym pipelinie. W tym momencie jest moÅ¼liwoÅ›Ä‡ wpiÄ™cia siÄ™ w fazÄ™ vertex, geometry i fragment, choÄ‡ jak na razie nie jest to silnik 3D. Funkcja compile wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt; &lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt; &lt;span class="n"&gt;vertexCompileResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fragmentCompileResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;geometryCompileResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tryLoad&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;vertexCompileResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vertexCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILE_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fragmentShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tryLoad&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;fragmentCompileResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fragmentShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fragmentCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILE_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_geometryShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tryLoad&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;geometryCompileResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_geometryShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;geometryCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_ERROR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILE_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glCreateProgram&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vertexCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;glAttachShader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_shaderId&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fragmentCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;glAttachShader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fragmentShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_shaderId&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;geometryCompileResult&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;glAttachShader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_geometryShader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_shaderId&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;glLinkProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;GLint&lt;/span&gt; &lt;span class="n"&gt;success&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;glGetProgramiv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_programId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_LINK_STATUS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;success&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_vertexShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fragmentShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_geometryShader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;GL_FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILE_ERROR&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ProgramCompilationResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILE_SUCCESS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Generalnie prÃ³buje ona skompilowaÄ‡ i zlinkowaÄ‡ shadery vertex, geometry i fragment. Jak to siÄ™ uda to zwracany jest sukces, jeÅ¼eli nie to zwracany jest bÅ‚Ä…d, ktÃ³ry trzeba obsÅ‚uÅ¼yÄ‡. Generalnie jak juÅ¼ pisaÅ‚em, nad obsÅ‚ugÄ… bÅ‚Ä™dÃ³w bÄ™dÄ™ musiaÅ‚ jeszcze popracowaÄ‡, ale to juÅ¼ coÅ› na przyszÅ‚oÅ›Ä‡. To na razie byÅ‚o by na tyle w nastÄ™pnym poÅ›cie przyjrzymy siÄ™ samplerom tekstur.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Renderowanie 2D czÄ™Å›Ä‡ 1: Tekstury</title><link href="https://harunx9.github.io/renderowanie-2d-czesc-1-tekstury.html" rel="alternate"></link><published>2017-05-17T17:30:00+02:00</published><updated>2017-05-17T17:30:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-05-17:/renderowanie-2d-czesc-1-tekstury.html</id><summary type="html">&lt;p&gt;Ostatnio udaÅ‚o mi siÄ™ skoÅ„czyÄ‡ renderowanie w 2DXngine, chciaÅ‚bym opisaÄ‡ jak dziaÅ‚a zaimplementowane przeze mnie rozwiÄ…zanie. Zaczniemy od struktur danych, ktÃ³re sÄ… nam potrzebne aby dziaÅ‚aÅ‚o renderowanie 2D. Jako pierwsze przyjrzymy siÄ™ jak zaimplementowaÄ‡ teksturÄ™ oraz jak jÄ… wczytaÄ‡ z dysku, co nie do koÅ„ca moÅ¼e byÄ‡ takie oczywiste w â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ostatnio udaÅ‚o mi siÄ™ skoÅ„czyÄ‡ renderowanie w 2DXngine, chciaÅ‚bym opisaÄ‡ jak dziaÅ‚a zaimplementowane przeze mnie rozwiÄ…zanie. Zaczniemy od struktur danych, ktÃ³re sÄ… nam potrzebne aby dziaÅ‚aÅ‚o renderowanie 2D. Jako pierwsze przyjrzymy siÄ™ jak zaimplementowaÄ‡ teksturÄ™ oraz jak jÄ… wczytaÄ‡ z dysku, co nie do koÅ„ca moÅ¼e byÄ‡ takie oczywiste w C++. W mojej implementacji separuje dane wczytane od tekstury za pomocÄ… klasy bitmapy, a jej interfejs prezentuje siÄ™ nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Bitmap&lt;/span&gt; 
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;

    &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nf"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt; &lt;span class="nf"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GLuint&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLfloat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;texelWidth&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLfloat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;texelHeight&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W implementacji zastosowaÅ‚em macro READONLY_PROPERTY, generuje ono publiczny getter i prywatne pole. Obiekty typu Bitmap sÅ‚uÅ¼Ä… tylko za kontenery danych, stÄ…d teÅ¼ ciekawa w nich tylko jest metoda load, i jej implementacja wyglÄ…da nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toCStr&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;imageData&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SOIL_load_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SOIL_LOAD_RGBA&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;Bitmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;imageData&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Do wczytywania obrazkÃ³w wykorzystujÄ™ bibliotekÄ™ SOIL, ktÃ³rÄ… moÅ¼na znaleÅºÄ‡ -&amp;gt; &lt;a href="http://www.lonesock.net/soil.html"&gt;TU&lt;/a&gt; pobieramy kompilujemy i dziaÅ‚amy. Generalnie mÃ³gÅ‚bym uÅ¼yÄ‡ samego stb_image, ale nie wiem czy nie bÄ™dÄ™ korzystaÅ‚ z jakiÅ› innych funkcji tej biblioteki, wiÄ™c na razie zostawiam jÄ… w caÅ‚oÅ›ci. JeÅ¼eli chodzi o teksturÄ™ to jej interfejs wyglÄ…da w taki sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Texture&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Asset&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Texture&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AssetPath&lt;/span&gt; &lt;span class="n"&gt;assetPath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;bitmap&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GLuint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;textureId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;READONLY_PROPERTY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Bitmap&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bitmap&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;protected&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ze wzglÄ™du na to, Å¼e wymaga tego konwencja kaÅ¼da klasa asset bÄ™dzie posiadaÄ‡ statycznÄ… metodÄ™ load. W przyszÅ‚oÅ›ci moÅ¼e zrobiÄ™ osobno loadery, Å¼eby siÄ™ tego pozbyÄ‡ i lepiej pilnowaÄ‡ konwencji, ale na razie tak to zostanie. Metoda generate powstaÅ‚a natomiast ze wzglÄ™du na klasy potomne, ale o tym pÃ³Åºniej. Sama metoda ma za zadanie tworzyÄ‡ teksturÄ™ w kontekÅ›cie OpenGl i jej implementacja wyglÄ…da nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glGenTextures&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_textureId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;glBindTexture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TEXTURE_2D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_textureId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;glTexImage2D&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TEXTURE_2D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_RGBA&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_bitmap&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_bitmap&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_RGBA&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_UNSIGNED_BYTE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_bitmap&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_data&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

    &lt;span class="n"&gt;glBindTexture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_TEXTURE_2D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;OstatniÄ… rzeczÄ… zwiÄ…zanÄ… z teksturami jest RenderTarget. Reprezentuje on pustÄ… teksturÄ™ na ktÃ³rej renderowane sÄ… inne obiekty. Jest to przydatne kiedy chcemy wprowadziÄ‡ postprocessing czy warstwowoÅ›Ä‡ renderowania. Dodatkowo w mojej implementacji zastÄ™pujÄ™ on FrameBufferObject, w tym momencie przydaje siÄ™ wydzielenie bindowania tekstury do metody generate, poniewaÅ¼ jej nadpisanie w RenderTarget wyglÄ…da nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;RenderTarget&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;glBindFramebuffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_FRAMEBUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_fbo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;Texture&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;glFramebufferTexture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_FRAMEBUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;GL_COLOR_ATTACHMENT0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_textureId&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;GLenum&lt;/span&gt; &lt;span class="n"&gt;drawBuffers&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;GL_COLOR_ATTACHMENT0&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
    &lt;span class="n"&gt;glDrawBuffers&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;drawBuffers&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glCheckFramebufferStatus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_FRAMEBUFFER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;GL_FRAMEBUFFER_COMPLETE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;terminate&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;glBindFramebuffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;GL_FRAMEBUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To chyba na tyle. CaÅ‚oÅ›Ä‡ kodu jest na GitHubie, wiÄ™c nie bÄ™dÄ™ omawiaÅ‚ dokÅ‚adnie wszystkiego, w razie potrzeby moÅ¼na tam zajrzeÄ‡. W razie pytaÅ„ czy uwag jak zawsze zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="OpenGL"></category></entry><entry><title>Gamedev przeglÄ…d technologii</title><link href="https://harunx9.github.io/gamedev-przeglad-technologii.html" rel="alternate"></link><published>2017-05-09T20:50:00+02:00</published><updated>2017-05-09T20:50:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-05-09:/gamedev-przeglad-technologii.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› taki post z kategorii teoretyczno-poradnikowej. Mowa tu bÄ™dzie o technologiach jakie polecam do tworzenia gier i dlaczego moim zdaniem ta a nie inna jest fajna. Traktujecie te przemyÅ›lenia nie jak prawdÄ™ objawionÄ…, ale jako moje przemyÅ›lenia z perspektywy czasu. Od razu na poczÄ…tku chcÄ™ powiedzieÄ‡, Å¼e nie bÄ™dzie â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› taki post z kategorii teoretyczno-poradnikowej. Mowa tu bÄ™dzie o technologiach jakie polecam do tworzenia gier i dlaczego moim zdaniem ta a nie inna jest fajna. Traktujecie te przemyÅ›lenia nie jak prawdÄ™ objawionÄ…, ale jako moje przemyÅ›lenia z perspektywy czasu. Od razu na poczÄ…tku chcÄ™ powiedzieÄ‡, Å¼e nie bÄ™dzie w tym przeglÄ…dzie o Unity3D lub Unreal Engine, poniewaÅ¼ Å¼adnÄ… z tych technologii nie bawiÅ‚em siÄ™ na tyle dÅ‚ugo, aby mÃ³j osÄ…d byÅ‚ konstruktywny. TworzÄ…c gry wychodzÄ™ z zaÅ‚oÅ¼enia, Å¼e sam chce stworzyÄ‡ technologiÄ™ dlatego, Å¼e wtedy lepiej rozwinÄ™ siÄ™ jako programista, a o to w tym wszystkim chodzi.  &lt;/p&gt;
&lt;p&gt;Generalnie moÅ¼na przyjÄ…Ä‡, Å¼e kaÅ¼dy jÄ™zyk programowania posiadajÄ…cy biblioteki do obsÅ‚ugi GPU moÅ¼e sÅ‚uÅ¼yÄ‡ do programowania gier, ale jedne majÄ… ciekawsze propozycje od innych. Rozpocznijmy od jÄ™zykÃ³w kompilowanych do kodu maszynowego, czyli takich bez Å›rodowiska uruchomieniowego. W tej kategorii najbardziej popularny jest C/C++. Jest to rÃ³wnieÅ¼ standard, jeÅ¼eli chodzi o branÅ¼Ä™ growÄ…. Takie tytuÅ‚y jak WiedÅºmin, Battlefield  czy Call of Duty sÄ… w wiÄ™kszoÅ›ci napisane w C++, z dodatkiem jÄ™zykÃ³w skryptowych (Lua, Python). JeÅ¼eli chodzi o biblioteki jakie upraszczajÄ… prace to jest ich rÃ³wnieÅ¼ masa - SDL, Allegro, GLFW, itd. OczywiÅ›cie moÅ¼na teÅ¼ zaimplementowaÄ‡ wszystko samemu, ale jest to proces dÅ‚ugi i skomplikowany, a prace trzeba sobie uÅ‚atwiaÄ‡. Z innych jÄ™zykÃ³w to sÅ‚yszaÅ‚em Å¼e, D jest rÃ³wnieÅ¼ ciekawym  wyborem. Ja osobiÅ›cie prÃ³bowaÅ‚em bawiÄ‡ siÄ™ jÄ™zykiem Rust - jest to doÅ›Ä‡ ciekawa technologia, poniewaÅ¼ nie jest to jÄ™zyk obiektowy a strukturalny. Dodatkowo zarzÄ…dzanie pamiÄ™ciÄ… odbywa siÄ™ poprzez smart pointery. Posiada on teÅ¼ ciekawy system moduÅ‚Ã³w oraz parÄ™ bibliotek graficznych.&lt;/p&gt;
&lt;p&gt;Kolejnymi technologami jakimi chciaÅ‚em siÄ™ przyjrzeÄ‡, sÄ… jÄ™zyki dziaÅ‚ajÄ…ce na maszynach wirtualnych z JIT. Tu prym od lat wiedzie Jvm i .NET. JeÅ¼eli chodzi o Jvm to w ostatnich latach pojawiÅ‚o siÄ™ na nim parÄ™ ciekawych jÄ™zykÃ³w, ale nie miaÅ‚em okazji uÅ¼ywaÄ‡ Å¼adnego z nich poza samÄ… JavÄ…. Z popularnych bibliotek do produkcji gier naleÅ¼aÅ‚oby wymieniÄ‡ LibGDX -ciÄ™Å¼ko to nazwaÄ‡ jeszcze bibliotekÄ…, poniewaÅ¼ dba ona o bardzo duÅ¼o spraw: zarzÄ…dzanie scenami, aktor system, kontrolki, assety. Pozwala on tworzyÄ‡ gry multiplatformowe, wiÄ™c moÅ¼e byÄ‡ caÅ‚kiem ciekawÄ… opcjÄ…. Mniej popularnymi bibliotekami dla Jvm to: AndEngine, jMonkey, LWJGL i inne. W .NET do pewnego momentu byÅ‚ lekki nieurodzaj, jeÅ¼eli chodzi o frameworki do tworzenia gier. Obecnie mocno siÄ™ to zmieniÅ‚o i w .NET mamy oprÃ³cz popularnego Unity 3D trochÄ™ mniejszych bibliotek. Z ciekawszych propozycji to moÅ¼na sprÃ³bowaÄ‡ Monogame, WaveEngine, Xenko. JeÅ¼eli ktoÅ› chciaÅ‚by zejÅ›Ä‡ niÅ¼ej to polecam OpenTK (Open GL) lub SharpDX (DirectX).&lt;/p&gt;
&lt;p&gt;OstatniÄ… kategoriÄ… sÄ… jÄ™zyki skryptowe, na tym polu mamy takie technologie jak: Python, Ruby, PHP, JavaScript, Lua i wiele innych. Z rzeczy ktÃ³rymi, sam osobiÅ›cie siÄ™ bawiÅ‚em to PyGame dla Pythona -  jest to doÅ›Ä‡ prosta biblioteczka, ktÃ³ra pozwala na stworzenie doÅ›Ä‡ szybko prototypu gry, z tego co wiem jest czÄ™Å›ciowo oparta o SDL. Z drugiej strony, jeÅ¼eli chcemy tworzyÄ‡ gry pod przeglÄ…darki internetowe to polecam pobawiÄ‡ siÄ™ opartym na JavaScript Phaserem. Ja osobiÅ›cie chwile pobawiÅ‚em siÄ™ Phaserem tyle, Å¼e nie w czystym JavaScript, a w TypeScript i tÄ… drogÄ™ rÃ³wnieÅ¼ wam polecam, poniewaÅ¼ TS mocno uÅ‚atwia pisanie i strukturyzacjÄ™ kodu, dziÄ™ki silnemu typowaniu. Moim zdaniem jÄ™zyki skryptowe nadajÄ… siÄ™ jednak tylko i wyÅ‚Ä…cznie do prototypowania. PozwalajÄ… one stworzyÄ‡ szybko coÅ› co moÅ¼emy pokazaÄ‡, natomiast dalszy rozwÃ³j powinien siÄ™ obyÄ‡ w szybszej technologii (C++, Jvm, .NET). &lt;/p&gt;
&lt;p&gt;To tyle, mam nadziejÄ™, Å¼e nie zraziÅ‚em nikogo, tak jak juÅ¼ pisaÅ‚em to sÄ… wyÅ‚Ä…cznie moje przemyÅ›lenia i kaÅ¼dy moÅ¼e prÃ³bowaÄ‡ w JS tworzyÄ‡ nowego WiedÅºmina czy innego COD moÅ¼liwe, Å¼e efekty pracy bÄ™dÄ… caÅ‚kiem ciekawe.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>2DXngine: Renderowanie 2D i inne informacje</title><link href="https://harunx9.github.io/2dxngine-renderowanie-2d-i-inne-informacje.html" rel="alternate"></link><published>2017-05-06T10:00:00+02:00</published><updated>2017-05-06T10:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-05-06:/2dxngine-renderowanie-2d-i-inne-informacje.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡ wszystkim. Wiem, Å¼e ostatnio byÅ‚o maÅ‚o postÃ³w na temat progresu silnika - no niestety stworzenie sensownego renderowania pochÅ‚onÄ™Å‚o masÄ™ czasu na research i implementacje. Mimo tego i tak bÄ™dÄ™ miaÅ‚ sporo refactoringu, ale o tym napiszÄ™ pÃ³Åºniej. Podczas implementacji chciaÅ‚em, aby mÃ³j system renderowania byÅ‚ wzorowany na tym co znamy â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡ wszystkim. Wiem, Å¼e ostatnio byÅ‚o maÅ‚o postÃ³w na temat progresu silnika - no niestety stworzenie sensownego renderowania pochÅ‚onÄ™Å‚o masÄ™ czasu na research i implementacje. Mimo tego i tak bÄ™dÄ™ miaÅ‚ sporo refactoringu, ale o tym napiszÄ™ pÃ³Åºniej. Podczas implementacji chciaÅ‚em, aby mÃ³j system renderowania byÅ‚ wzorowany na tym co znamy z Monogame, czyli spritebatchu. Technika ta pozwala na optymalizowane draw call', a dodatkowo opakowana pozwala uÅ¼ywaÄ‡ wspomnianego spritebatcha do rysowania 2D oraz dodatkowych metod z graphic device do renderowania 3D. Nie mam jeszcze implementacji graphic device, ale zakÅ‚adam jÄ… w przyszÅ‚oÅ›ci, poniewaÅ¼ chciaÅ‚bym, aby silnik potrafiÅ‚ rÃ³wnieÅ¼ obsÅ‚ugiwaÄ‡ renderowanie 3D. JeÅ›li chodzi o spriteach zaÅ‚oÅ¼yÅ‚em, Å¼e chciaÅ‚bym go uÅ¼ywaÄ‡ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;p&gt;Batch.begin() -&amp;gt; rozpoczynam wkÅ‚adanie tego co chce renderowaÄ‡ do batch
Batch.draw(params) -&amp;gt; odkÅ‚adanie kolejnych obrazkÃ³w do batcha
Batch.draw(params) -&amp;gt; odkÅ‚adanie kolejnych obrazkÃ³w do batcha
Batch.draw(params) -&amp;gt; odkÅ‚adanie kolejnych obrazkÃ³w do batcha
Batch.draw(params)-&amp;gt; odkÅ‚adanie kolejnych obrazkÃ³w do batcha
Batch.end() -&amp;gt; rysowanie batcha&lt;/p&gt;
&lt;p&gt;Kto kiedyÅ› uÅ¼ywaÅ‚ Monogame lub LibGDX, to na pewno zna powyÅ¼szy pattern. Ja swojego batcha dodatkowo wzbogaciÅ‚em o sampler object(dostÄ™pny od OpenGL 3.3) tak, Å¼eby nie trzeba podczas bindowania tekstury ustawiaÄ‡ filtrowania i zawijania tekstury, a moÅ¼na to zrobiÄ‡ przy kaÅ¼dym stracie batchowania. CaÅ‚oÅ›Ä‡ dziaÅ‚a caÅ‚kiem dobrze i dokÅ‚adnie opiszÄ™ wszystko w osobnych artykuÅ‚ach, poniewaÅ¼ tu nie ma na to miejsca. Dodatkowo zaimplementowaÅ‚em asset shadera i asset textury2D oraz render target. Ten ostatni bÄ™dzie sÅ‚uÅ¼yÅ‚ mi do wÅ‚aÅ›ciwego renderowania scen, poniewaÅ¼ standartowo OpenGL renderuje wszytko na back buffer, a mi chodzi Å¼eby rendnerowaÅ‚ do tekstury, poniewaÅ¼ otwiera to moÅ¼liwoÅ›ci postprocessingu i pozwala mi operowaÄ‡ tylko na elementach sceny, a nie na UI. O postporcessingu teÅ¼ pewnie kiedyÅ› napiszÄ™, bo to temat doÅ›Ä‡ ciekawy i mocno przydatny. Co do dalszego rozwoju to jak mam juÅ¼ renderowanie  2D, to mogÄ™ zajÄ…Ä‡ siÄ™ inputem i muzykÄ… a to myÅ›lÄ™, Å¼e nie bÄ™dÄ… juÅ¼ tak skomplikowane tematy jak samo ryzowanie. Zanim to jednak nastÄ…pi daje sobie jeszcze tydzieÅ„ na uporzÄ…dkowanie kodu i dokoÅ„czenie renderowania opartego o warstwy. Dodatkowo przydaÅ‚oby siÄ™ napisaÄ‡ trochÄ™ testÃ³w do tego co juÅ¼ zrobiÅ‚em, poniewaÅ¼ nie miaÅ‚em na to czasu. MyÅ›lÄ™, Å¼e testy pozwolÄ… mi spojrzeÄ‡ na caÅ‚oÅ›Ä‡ z nowej pespektywy i nieco zoptymalizowaÄ‡ kod, plus sprawdzaÄ‡ czy wszystko dziaÅ‚a na pewno tak jak to planowaÅ‚em. MyÅ›lÄ™, Å¼e to na razie tyle w przyszÅ‚ych postach opisze dokÅ‚adnie poszczegÃ³lne elementy potrzebne do stworzenie renderowania 2D w OpenGL.&lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>Moja Internetowa baza wiedzy</title><link href="https://harunx9.github.io/moja-internetowa-baza-wiedzy.html" rel="alternate"></link><published>2017-04-26T20:10:00+02:00</published><updated>2017-04-26T20:10:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-26:/moja-internetowa-baza-wiedzy.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Jak pisaÅ‚em w ktÃ³rymÅ› z poprzednich postÃ³w, moÅ¼na nauczyÄ‡ siÄ™ programowaÄ‡ samemu z Internetu. Podobnie jest, jeÅ›li chodzi o rozwÃ³j programisty. Ja przez te parÄ™ lat nauki i rozwoju znalazÅ‚em kilka fajnych miejsc w Internecie lub dostosowaÅ‚em odwiedzane strony tak, aby sÅ‚uÅ¼yÅ‚y mi jako baza wiedzy o programowaniu. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com"&gt;YouTube â€¦&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Jak pisaÅ‚em w ktÃ³rymÅ› z poprzednich postÃ³w, moÅ¼na nauczyÄ‡ siÄ™ programowaÄ‡ samemu z Internetu. Podobnie jest, jeÅ›li chodzi o rozwÃ³j programisty. Ja przez te parÄ™ lat nauki i rozwoju znalazÅ‚em kilka fajnych miejsc w Internecie lub dostosowaÅ‚em odwiedzane strony tak, aby sÅ‚uÅ¼yÅ‚y mi jako baza wiedzy o programowaniu. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com"&gt;YouTube&lt;/a&gt; - jestem sÅ‚uchowcem (nie lubiÄ™ czytaÄ‡, ale za to uwielbiam sÅ‚uchaÄ‡). Jak coÅ› usÅ‚yszÄ™ i dodatkowo zobaczÄ™ to zapamiÄ™tam wÅ‚aÅ›ciwie od razu. StÄ…d YouTube jest jednym z gÅ‚Ã³wnych ÅºrÃ³deÅ‚ informacji dla mnie. KiedyÅ› zrobiÄ™ moÅ¼e jakieÅ› top kanaÅ‚Ã³w o tematyce programistycznej lub top video, ktÃ³re zmieniÅ‚y moje podejÅ›cie do programowania. W kaÅ¼dym razie polecam ten serwis, poniewaÅ¼ znajdziecie tam masÄ™ przystÄ™pnych materiaÅ‚Ã³w z kaÅ¼dej technologii.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://dotnetomaniak.pl"&gt;Dotnetomaniak&lt;/a&gt; - jeÅ¼eli ktoÅ› jeszcze nie zna to powinien jak najszybciej poznaÄ‡ ten agregator blogÃ³w o technologii .NET. Wiadomo, Å¼e nie bÄ™dzie to miejsce obowiÄ…zkowe dla wszystkich, ale dla osÃ³b ktÃ³re tak jak ja zawodowo pracujÄ… z technologiami Microsoftu juÅ¼ jak najbardziej. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://stackoverflow.com"&gt;StackOverflow&lt;/a&gt; - masz problem z zadaniem w pracy. Nie wiesz jak coÅ› zrobiÄ‡ w swoim jÄ™zyku programowania StackOverflow jest dla Ciebie. JeÅ¼eli jakimÅ› cudem nie znaÅ‚eÅ› jeszcze tego serwisu to od razu zacznij go uÅ¼ywaÄ‡. StackOverflow jest najwiÄ™kszym Å›wiatowym forum o tematyce programowania. Generalnie jakiego byÅ› nie miaÅ‚ problemu to powinieneÅ› znaleÅºÄ‡ tam rozwiÄ…zanie.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/"&gt;GitHub&lt;/a&gt; - moÅ¼e ja naleÅ¼Ä™ do jakieÅ› dziwnej grupy programistÃ³w, ale bardzo czÄ™sto i bardzo duÅ¼o wiedzy wyciÄ…gam z czytania kodu na GitHubie. Jest tam masa bibliotek napisanych w rÃ³Å¼nych jÄ™zykach programowania, wiÄ™c kaÅ¼dy znajdzie coÅ› dla siebie.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://zeef.com"&gt;Zeef&lt;/a&gt; - jest to doÅ›Ä‡ ciekawy serwis bazujÄ…cy na kartach uÅ¼ytkownikÃ³w. Jest tam sporo informacji o rÃ³Å¼nych ciekawych rzeczach w tym te o programowaniu. Ja sam znalazÅ‚em sporo informacji o programowaniu gier komputerowych.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://zeef.com/"&gt;Facebook&lt;/a&gt; i &lt;a href="https://twitter.com"&gt;Twitter&lt;/a&gt; - na obu tych serwisach istnieje masa ludzi, fanpage'Ã³w, grup publikujÄ…cych treÅ›ci o tematyce programistycznej. Informacji jest ogrom, wiÄ™c jest z czego wybieraÄ‡.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To chyba na tyle jeÅ¼eli chodzi o informacje ogÃ³lne. W temacie gier komputerowych korzystam jeszcze z Gamasutry i GDCValut, ale sÄ… to serwisy dotyczÄ…ce game developmentu. Piszcie z czego wy korzystacie do poszerzania waszej wiedzy programistycznej i do nastÄ™pnego postu.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Nauka"></category></entry><entry><title>OgÃ³lna architektura silnika - sztuczna inteligencja</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-sztuczna-inteligencja.html" rel="alternate"></link><published>2017-04-22T18:30:00+02:00</published><updated>2017-04-22T18:30:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-22:/ogolna-architektura-silnika-sztuczna-inteligencja.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. W dzisiejszych czasach bardzo popularne sÄ… gry sieciowe, wiÄ™c opierajÄ…ce siÄ™ o interakcje z innymi graczami. Mimo to sztuczna inteligencja nawet w  nich jest potrzeba, aby tworzyÄ‡ bossÃ³w czy jakieÅ› ciekawe eventy wraz z NPC w Å›wiecie gry. W dzisiejszym artykule przyjrzymy siÄ™ jak stworzyÄ‡ sztucznÄ… inteligencje na miarÄ™ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. W dzisiejszych czasach bardzo popularne sÄ… gry sieciowe, wiÄ™c opierajÄ…ce siÄ™ o interakcje z innymi graczami. Mimo to sztuczna inteligencja nawet w  nich jest potrzeba, aby tworzyÄ‡ bossÃ³w czy jakieÅ› ciekawe eventy wraz z NPC w Å›wiecie gry. W dzisiejszym artykule przyjrzymy siÄ™ jak stworzyÄ‡ sztucznÄ… inteligencje na miarÄ™ naszej gry, tak aby byÅ‚a ona wyzwaniem i speÅ‚niaÅ‚a pokÅ‚adane w niej oczekiwania.&lt;/p&gt;
&lt;p&gt;ChciaÅ‚em tutaj przejÅ›Ä‡ przez parÄ™ podejÅ›Ä‡ do tematu i oprzeÄ‡ je na paru przykÅ‚adach. Temat niestety jest szeroki, a i ja nie mam pojÄ™cia o wszystkich moÅ¼liwych podejÅ›ciach, wiÄ™c ograniczÄ™ siÄ™ do tego co w miarÄ™ znam - a wy jeÅ¼eli znacie jeszcze coÅ› o czym tu nie piszÄ™, to zapraszam jak zawsze do sekcji komentarzy. Nie przedÅ‚uÅ¼ajÄ…c leÄ‡my, wiÄ™c z tematem.&lt;/p&gt;
&lt;p&gt;SI podejÅ›cie naiwne&lt;/p&gt;
&lt;p&gt;ZakÅ‚adajÄ…c, Å¼e piszemy swojÄ… pierwszÄ… grÄ™ obiektowo, bez komponent modelu, nasza sztuczna inteligencja dla danego GameObjectu bÄ™dzie znajdowaÅ‚a siÄ™ w jego funkcji update. MoÅ¼e to wyglÄ…daÄ‡ w nastÄ™pujÄ…cy sposÃ³b&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;deltaTime&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PlayerIsVisible&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;AttackPlayer&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CollideFromLeft&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;MoveRight&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;MoveLeft&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Widzimy mniej wiÄ™cej do czego takie podejÅ›cie prowadzi. W pewnym momencie dodajÄ…c kolejne interakcje metoda update stanie siÄ™ nieczytelna. Jak juÅ¼ powiedziaÅ‚em w artykule o GameObjectach na jakiÅ› PoC czy prosty projekt jest to to ok, ale wyobraÅºmy sobie w taki sposÃ³b programowaÄ‡ SI dla gry RTS.&lt;/p&gt;
&lt;p&gt;Zaawansowe SI: Planner&lt;/p&gt;
&lt;p&gt;Planner jest jednym z zaawansownych podejÅ›Ä‡ do tworzenia SI w grach. Jako przykÅ‚ad uÅ¼ycia wyobraÅºmy sobie grÄ™ typu city builder (np. Banished). KaÅ¼emy naszym osadnikom  wybudowaÄ‡ dom. Zadanie to moÅ¼e byÄ‡ wykonywanie przez 5 ludzi na raz i potrzeba do niego 20 jednostek drewna i 5 jednostek kamienia. Planner powinien zachowaÄ‡ siÄ™ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;przydzieliÄ‡ nam 5 osadnikÃ³w,&lt;/li&gt;
&lt;li&gt;sprawdziÄ‡, czy w magazynie mamy 20 jednostek drewna, jeÅ›li nie to wysÅ‚aÄ‡ osadnikÃ³w, aby je wytworzyli,&lt;/li&gt;
&lt;li&gt;sprawdziÄ‡ czy w magazynie mamy 5 jednostek drewna, jeÅ›li nie to wysÅ‚aÄ‡ osadnikÃ³w, aby je wytworzyli,&lt;/li&gt;
&lt;li&gt;kazaÄ‡ osadnikom przynieÅ›Ä‡ surowce na miejsce budowy,&lt;/li&gt;
&lt;li&gt;kazaÄ‡ osadnikom wybudowaÄ‡ dom,&lt;/li&gt;
&lt;li&gt;po zakoÅ„czeniu zadania przydzieliÄ‡ osadnikÃ³w do innych prac.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jak moÅ¼emy zauwaÅ¼yÄ‡ planer dziaÅ‚a w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Planner" src="/images/si/planner_graph.png"&gt;&lt;/p&gt;
&lt;p&gt;Jest to globalny system zarzÄ…dzajÄ…cy kaÅ¼dym elementem SI na planszy. Mimo to Å›wietnie sprawdza siÄ™ w grach strategicznych czy city builderach, pewnie znalazÅ‚bym jeszcze inne zastosowanie.&lt;/p&gt;
&lt;p&gt;Zaawansowane SI: Drzewo zachowaÅ„&lt;/p&gt;
&lt;p&gt;Jest to bardziej modularne podejÅ›cie do tematu sztucznej inteligencji. Sama nazwa mÃ³wi, Å¼e jest to podejÅ›cie oparte na grafach. Pozwala ono pisaÄ‡ poszczegÃ³lne zachowania, tworzyÄ‡ jako osobne klasy, dziÄ™ki czemu komponujemy je ze sobÄ…. W drzewie zachowaÅ„ wyrÃ³Å¼niamy nastÄ™pujÄ…ce elementy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;behavior - sÄ… to liÅ›cie drzewa, ktÃ³re zwierajÄ…c w sobie ewaluacje i sposÃ³b wykonaniu danego zachowania,&lt;/li&gt;
&lt;li&gt;selector - jest to kontener przechowujÄ…cy zachowania, ktÃ³ry podczas ewaluacji wybiera jedno ze swoich dzieci i rozpoczyna jego wykonanie,&lt;/li&gt;
&lt;li&gt;repeater - podobnie jak selektor peÅ‚ni on role kontenera na zachowania z tym, Å¼e wÅ‚Ä…cza on je cyklicznie jedno po drugim.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dla dopeÅ‚niania tego rozwiÄ…zania potrzebne sÄ… nam jeszcze 2 elementy evaluator, czyli komponent ktÃ³ry sprawdzi czy nasze drzewo jest poprawnie skonstruowane oraz egzekutor, ktÃ³ry zajmie siÄ™ wybraniem i odpaleniem zachowania z drzewa, ktÃ³re jest w danym momencie adekwatne do zaistniaÅ‚ej w Å›wiecie gry sytuacji. PrzykÅ‚adowe drzewo moÅ¼e wyglÄ…daÄ‡ w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;p&gt;&lt;img alt="BT" src="/images/si/bt_graph.png"&gt;&lt;/p&gt;
&lt;p&gt;Ewaluacja zachowania zaczyna siÄ™ zawsze od noda "Root" przechodzimy wszerz przez wszytkie kontenery i wybieramy  odpowiednie zachowanie. Istotne jest to, aby dobrze okreÅ›liÄ‡ warunek wykonania danego zachowania, bÄ…dÅº kontenera tak, aby nie miaÅ‚ on kolizji z innymi elementami drzewa. &lt;/p&gt;
&lt;p&gt;To byÅ‚o by na tyle w tym poÅ›cie. Piszcie w kometach jakie wy znacie inne podejÅ›cia do SI w grach komputerowych.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>OpenGL a Unit Testy</title><link href="https://harunx9.github.io/opengl-a-unit-testy.html" rel="alternate"></link><published>2017-04-17T18:00:00+02:00</published><updated>2017-04-17T18:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-17:/opengl-a-unit-testy.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Wiem, Å¼e powinienem w pierwszej kolejnoÅ›ci napisaÄ‡ o C++ i testowaniu, ale zeszÅ‚o mi na to jakieÅ› 3 godziny, wiÄ™c moÅ¼e ktoÅ› skorzysta z mojej wiedzy. ChciaÅ‚em napisaÄ‡ prosty test sprawdzajÄ…cy czy klasa programu Shadera dziaÅ‚a tak jak tego oczekujÄ™. NapisaÅ‚em wiÄ™c prosty test, odpaliÅ‚em go i od tego â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Wiem, Å¼e powinienem w pierwszej kolejnoÅ›ci napisaÄ‡ o C++ i testowaniu, ale zeszÅ‚o mi na to jakieÅ› 3 godziny, wiÄ™c moÅ¼e ktoÅ› skorzysta z mojej wiedzy. ChciaÅ‚em napisaÄ‡ prosty test sprawdzajÄ…cy czy klasa programu Shadera dziaÅ‚a tak jak tego oczekujÄ™. NapisaÅ‚em wiÄ™c prosty test, odpaliÅ‚em go i od tego  momentu nastÄ…piÅ‚a moja mocna konsternacja, ktÃ³ra pÃ³Åºniej przerodziÅ‚a siÄ™ w nieco wiÄ™ksze zdenerwowanie. W projekcie uÅ¼ywam GLEW, aby mieÄ‡ dostÄ™p do funkcji OpenGL i okazuje siÄ™, Å¼e aby dziaÅ‚aÅ‚o kompilowanie shaderÃ³w muszÄ™ pomyÅ›lenie inicjalizowaÄ‡ tÄ… bibliotekÄ™, bo inaczej dostane na twarz wyjÄ…tek. Po kilu prÃ³bach udaÅ‚o mi siÄ™ pomyÅ›lnie skompilowaÄ‡ shader w moim gÅ‚Ã³wnym projekcie, ale testy wymagaÅ‚y wiÄ™cej pracy. MusiaÅ‚em dodaÄ‡ do testÃ³w SDL i GLEW dodatkowo testowanie, ktÃ³re wymaga zainicjalizowania okienka i kontekstu OpenGL - robiÄ™ to za pomocÄ… takiego fixture:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ShaderTestFixture&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Test&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;protected&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;SetUp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;SDL_Init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SDL_INIT_VIDEO&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;SDL_GL_SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SDL_GL_CONTEXT_PROFILE_MASK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SDL_GL_CONTEXT_PROFILE_CORE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;SDL_GL_SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SDL_GL_CONTEXT_MAJOR_VERSION&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;SDL_GL_SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SDL_GL_CONTEXT_MINOR_VERSION&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;SDL_GL_SetAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SDL_GL_DOUBLEBUFFER&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;_window&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SDL_CreateWindow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Game Window&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;SDL_WINDOWPOS_UNDEFINED&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SDL_WINDOWPOS_UNDEFINED&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="mi"&gt;640&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="mi"&gt;360&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;SDL_WINDOW_OPENGL&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;ctx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SDL_GL_CreateContext&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_window&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;GLenum&lt;/span&gt; &lt;span class="n"&gt;glewError&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glewInit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;virtual&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;TearDown&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;SDL_Quit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sam przykÅ‚adowy test wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;TEST_F&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ShaderTestFixture&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shader_can_be_load_from_inline_source&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//Arrange&lt;/span&gt;
    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;vertexSource&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;#version 330 core&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;layout (location = 0) in vec4 position;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;layout (location = 1) in vec4 in_tint;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;out vec2 tex_pos;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;out vec4 tint;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;uniform mat4 projection;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;void main(void)&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;{&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;gl_Position = projection * vec4(position.x, position.y, 0.0f, 1.0f);&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;tex_pos = vec2(position.z, position.w);&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;tint = in_tint;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;fragmentSource&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;#version 330 core&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;in vec2 tex_pos;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;in vec4 tint;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;out vec4 color;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;uniform sampler2D tex;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;uniform float global_alpha;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;void main(void)&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;{&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;color = vec4(tint.x, tint.y, tint.z, global_alpha * tint.w) * texture(tex, tex_pos);&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;shader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ShaderProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vertexSource&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fragmentSource&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="c1"&gt;//Act    &lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;shader&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="c1"&gt;//Assert&lt;/span&gt;
    &lt;span class="n"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ShaderCompileResult&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;COMPILATION_SUCESS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dobrze, Å¼e ten problem wyszedÅ‚ teraz, poniewaÅ¼ mogÅ‚em w Å‚atwy sposÃ³b zmodyfikowaÄ‡ kod. CaÅ‚a sytuacja nauczyÅ‚a mnie, Å¼eby pisaÄ‡ testy mimo wszystko, poniewaÅ¼ jak bym miaÅ‚ zaimplementowane wiÄ™cej to musiaÅ‚bym naprawdÄ™ mocno siÄ™ napracowaÄ‡, aby znaleÅºÄ‡ ÅºrÃ³dÅ‚o problemu. Postaram siÄ™ napisaÄ‡ inne testy dla elementÃ³w uÅ¼ywajÄ…cych OpenGL i zobaczymy, czy nie mam wiÄ™kszej iloÅ›ci bÅ‚Ä™dÃ³w. Nauka z tej sytuacji jest doÅ›Ä‡ oczywista  - piszemy testy nawet w bardzo ograniczonym zakresie. To na razie tyle mam nadziejÄ™, Å¼e komuÅ› przyda siÄ™ to co w tym miejscu napisaÅ‚em. MoÅ¼na dodaÄ‡ moÅ¼liwoÅ›Ä‡ konfiguracji wersji OpenGL i inne rzeczy, ale to juÅ¼ pÃ³Åºniej. Mam nadziejÄ™, Å¼e w nastÄ™pnym wpisie opisze wiÄ™cej o testowaniu kodu w C++.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="Tools"></category></entry><entry><title>Tworzenie gier w pojedynkÄ™ lub maÅ‚ym zespole. Czy to w ogÃ³le moÅ¼liwe?</title><link href="https://harunx9.github.io/tworzenie-gier-w-pojedynke-lub-malym-zespole-czy-to-w-ogole-mozliwe.html" rel="alternate"></link><published>2017-04-16T14:15:00+02:00</published><updated>2017-04-16T14:15:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-16:/tworzenie-gier-w-pojedynke-lub-malym-zespole-czy-to-w-ogole-mozliwe.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. W poÅ›cie o alternatywnych Å›cieÅ¼kach rozwoju w programowaniu opowiedziaÅ‚em nieco jak ja siÄ™ rozwijam jako programista. Teraz chciaÅ‚em opowiedzieÄ‡ o implementacji takiego modelu rozwoju w prawdziwym Å¼yciu. Tworzenie gier to bardzo fajne ciekawe i mega rozwijajÄ…ce hobby. OprÃ³cz programowania trzeba poznaÄ‡ nieco matematyki, fizyki, architektury komputera, wzorcÃ³w projektowych, tworzenia â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. W poÅ›cie o alternatywnych Å›cieÅ¼kach rozwoju w programowaniu opowiedziaÅ‚em nieco jak ja siÄ™ rozwijam jako programista. Teraz chciaÅ‚em opowiedzieÄ‡ o implementacji takiego modelu rozwoju w prawdziwym Å¼yciu. Tworzenie gier to bardzo fajne ciekawe i mega rozwijajÄ…ce hobby. OprÃ³cz programowania trzeba poznaÄ‡ nieco matematyki, fizyki, architektury komputera, wzorcÃ³w projektowych, tworzenia grafiki, programowania grafiki, itp. JuÅ¼ chyba kaÅ¼dy widzi dokÄ…d to zmierza - na gry trzeba mieÄ‡ masÄ™ czasu szczegÃ³lnie, jeÅ›li robimy je w zakresie hobbystycznym, po godzinach w maÅ‚ym zespole lub samemu - jeÅ¼eli jeszcze po ostatnim zdaniu nie zrezygnowaÅ‚eÅ› i czytasz dalej to powiem Ci, Å¼e mimo tego moÅ¼na stworzyÄ‡ samemu grÄ™ i jest na to doÅ›Ä‡ sporo przykÅ‚adÃ³w. Dla mnie koronnym przykÅ‚adem jest Sos i jego McPixel, oczywiÅ›cie miaÅ‚ trochÄ™ szczÄ™Å›cia, ale i jego produkt jest na dobrym poziomie - jeÅ¼eli jesteÅ› na poczÄ…tku swej drogi i nie masz z grami doÅ›wiadczeniami powiem Ci tyle, Å¼e nie licz, iÅ¼ pierwszÄ… grÄ™ uda Ci siÄ™ w ogÃ³le skoÅ„czyÄ‡. Ja swÃ³j pierwszy prototyp wyrzuciÅ‚em do kosza po 3 miesiÄ…cach developmentu. Mimo to dalej mam go na repozytorium i korzystam z jego kilku rozwiÄ…zaÅ„. Dlatego polecam na poczÄ…tek stworzyÄ‡ cokolwiek, co moÅ¼na nazwaÄ‡ grÄ…. Lubisz platformÃ³wki zrÃ³b jÄ…, lubisz gry logiczne zrÃ³b grÄ™ logicznÄ… - to naprawdÄ™ nie ma znaczenia. Pierwsza gra pozwoli Ci na zapoznanie siÄ™ z wybranÄ… przez siebie bibliotekÄ… lub framwerokeim, stworzyÄ‡ pierwszy maÅ‚y engine w koÅ„cu pozwoli uczyÄ‡ Ci siÄ™ na bÅ‚Ä™dach no i oczywiÅ›ci co waÅ¼ne doÅ‚Ä…czyÄ‡ do ludzi piszÄ…cych na twitterze posty z #gamedev. Twitter to w ogÃ³le Å›wietne narzÄ™dzie dla ludzi kreatywnych, ale o tym to chyba inny post napiszÄ™. Kolejnym etapem, ktÃ³ry warto poczyniÄ‡ po pierwszym prototypie jest konceptualizacja. Ja swoje gry zaczynaÅ‚em tworzyÄ‡ w nastÄ™pujÄ…cy sposÃ³b: graÅ‚em w jakiÅ› typ gry, chciaÅ‚em zrobiÄ‡ coÅ› podobnego, bo w tym co ogrywaÅ‚em czegoÅ› brakowaÅ‚o, zaczynaÅ‚em pisaÄ‡, na pewnym etapie brakowaÅ‚o mi pomysÅ‚Ã³w, wiÄ™c doklejaÅ‚em wszystko co mogÅ‚em, porzucaÅ‚em projekt, bo trzeba by byÅ‚o go zaczÄ…Ä‡ robiÄ‡ od poczÄ…tku ze wzglÄ™du na bÅ‚Ä™dy w kodowaniu i designie.
Tak wyglÄ…da droga, ale naleÅ¼y pamiÄ™taÄ‡, Å¼e kaÅ¼dy z tych projektÃ³w mnie czegoÅ› uczyÅ‚ i pozwalaÅ‚ na wiÄ™cej. Obecnie pracuje znowu nad kolejnÄ… grÄ…, ale zaczÄ…Å‚em od nieco innej strony. W ramach DSP2017 mam nadzieje stworzyÄ‡ podwaliny wÅ‚asnego silnika 2d. JednoczeÅ›nie konceptualizacje grÄ™, co oznacza, Å¼e siedzÄ™ z kartka papieru i ogarniam o czym ta gra powinna byÄ‡, projektujÄ™ fabuÅ‚Ä™, postaci, poziomy tak, aby stworzyÄ‡ sobie zamkniÄ™ty obraz caÅ‚oÅ›ci. Wiadomo, Å¼e gra bÄ™dzie siÄ™ zmieniaÅ‚a z czasem, ale juÅ¼ teraz widzÄ™, Å¼e taki plan sporo mi uÅ‚atwi, poniewaÅ¼ nie bÄ™dÄ™ musiaÅ‚ wymyÅ›laÄ‡ na poczekaniu tego co chcÄ™ zrobiÄ‡, tylko bÄ™dÄ™ miaÅ‚ jakÄ…Å› mniej lub bardziej okreÅ›lonÄ… listÄ™ rzeczy do zrobienia. Jednym z najwiÄ™kszych problemÃ³w programisty robiÄ…cego gry jest grafika. Polecam w takim wypadku nauczyÄ‡ siÄ™ chociaÅ¼ jakiegoÅ› prostego pixelartu. JeÅ¼eli nasza gra bÄ™dzie popularna to na pewno grafika nie bÄ™dzie najwaÅ¼niejsza -&amp;gt; patrz McPixel. Tak jak napisaÅ‚em istotny jest tech i plan, jeÅ¼eli mamy to powinniÅ›my nasza grÄ™ napisaÄ‡ na tyle, aby posiadaÅ‚ ona bazowy gameplay. Jak juÅ¼ to bÄ™dziemy mieli, to naleÅ¼y zebraÄ‡ feedback od uÅ¼ytkownikÃ³w. Jest to bardzo waÅ¼ny proces w ktÃ³rym pomogÄ… nam takie serwisy jak IndieDb czy itch.io. W tak zwanym miÄ™dzyczasie powinniÅ›my grÄ™ reklamowaÄ‡ w social mediach. WeÅºmy pod uwagÄ™, Å¼e na poczÄ…tku caÅ‚a ta machina bÄ™dzie rozpÄ™dzaÄ‡ siÄ™ raczej wolno, mimo to uwaÅ¼am, Å¼e jeÅ¼eli bÄ™dziemy konsekwentni w swoich dziaÅ‚aniach, to powinno siÄ™ udaÄ‡. WaÅ¼ne jest to, aby nie myÅ›leÄ‡, Å¼e nasza pierwsza gra (ta ukoÅ„czona) bÄ™dzie kolejnym Minecraftem, bo ta gra byÅ‚a jedyna i na pewno my tyle nie zarobimy o ile w ogÃ³le coÅ› zarobimy. OgÃ³le takie myÅ›lenie, Å¼e zrobiÄ™ grÄ™ czy cokolwiek i od jutra bÄ™dÄ™ milionerem jest zÅ‚e. KaÅ¼dy biznes rozkrÄ™ca siÄ™ powoli, a w grach najwaÅ¼niejsze jest zbudowanie sobie community, ktÃ³re bÄ™dzie w naszÄ… grÄ™ graÅ‚o. InnÄ… sprawÄ… jest praca dla przyjemnoÅ›ci. Dla mnie wÅ‚aÅ›nie takie jest tworzenie gier. RobiÄ™ to, bo to lubiÄ™ i jak na razie nie zamierzam przestaÄ‡. To chyba na tyle w tym poÅ›cie, jeÅ¼eli macie jakieÅ› swoje pomysÅ‚y jak tworzyÄ‡ grÄ™ w maÅ‚ych zespoÅ‚ach lub samemu i nie zwariowaÄ‡ to zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>OgÃ³lna architektura silnika - component model</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-component-model.html" rel="alternate"></link><published>2017-04-11T18:20:00+02:00</published><updated>2017-04-11T18:20:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-11:/ogolna-architektura-silnika-component-model.html</id><summary type="html">&lt;p&gt;Poprzedni post z tego cyklu traktowaÅ‚ o tym jak tworzyÄ‡ GameObjecty za pomocÄ… hierarchii dziedziczenia. Jak juÅ¼ pisaÅ‚em sposÃ³b ten staje siÄ™ nieczytelny, w miarÄ™ rozwoju projektu, ale pozwala szybko wystartowaÄ‡. Dla wiÄ™kszych gier GameObjecty tworzymy w nieco inny sposÃ³b uÅ¼ywajÄ…c nie dziedziczenia, a kompozycji stÄ…d nazwa component model. W â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Poprzedni post z tego cyklu traktowaÅ‚ o tym jak tworzyÄ‡ GameObjecty za pomocÄ… hierarchii dziedziczenia. Jak juÅ¼ pisaÅ‚em sposÃ³b ten staje siÄ™ nieczytelny, w miarÄ™ rozwoju projektu, ale pozwala szybko wystartowaÄ‡. Dla wiÄ™kszych gier GameObjecty tworzymy w nieco inny sposÃ³b uÅ¼ywajÄ…c nie dziedziczenia, a kompozycji stÄ…d nazwa component model. W tej implementacji GameObject sam z siebie jest tylko agregatorem dla komponentÃ³w. To one nadajÄ… mu wÅ‚aÅ›ciwe funkcjonalnoÅ›ci. PrzykÅ‚adowo  jak do obiektu dodamy komponenty:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tekstura z animacjami nietoperza,&lt;/li&gt;
&lt;li&gt;odtwarzacz animacji poklatkowych,&lt;/li&gt;
&lt;li&gt;kontroler sztucznej inteligencji,&lt;/li&gt;
&lt;li&gt;drzewo zachowaÅ„ dla SI latajÄ…cych.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tak otrzymamy nietoperza, ktÃ³ry bÄ™dzie lataÅ‚ zgodnie z konfiguracjÄ… SI. JuÅ¼ na pierwszy rzut oka widaÄ‡, Å¼e component model daje moÅ¼liwoÅ›ci pewnej separacji i ponownego uÅ¼ycia raz napisanej logiki GameObjectÃ³w - jeÅ¼eli zrobimy logikÄ™ podÄ…Å¼ania za graczem, to moÅ¼e jej uÅ¼ywaÄ‡ kilka obiektÃ³w na scenie itp. Jak juÅ¼ wiemy jak to mniej wiÄ™cej ma wyglÄ…daÄ‡ teoretycznie to przyjrzymy siÄ™ jakie elementy sÄ… potrzebne, aby wygodnie siÄ™ tak skonstruowanym systemem GameObjectÃ³w posÅ‚ugiwaÄ‡. Ja zawsze implementujÄ™ takie elementy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GameObjectManager - Manager posiada wszystkie GameObjecty na scenie, moÅ¼na siÄ™ do niego odwoÅ‚aÄ‡ ze samej sceny, podsystemÃ³w sceny, i gameobjectÃ³w. Jest to obiekt zarzÄ…dzajÄ…cy caÅ‚Ä… hierarchiÄ…, moÅ¼na za jego pomocÄ… dodawaÄ‡, wyszukiwaÄ‡ i usuwaÄ‡ obiekty, &lt;/li&gt;
&lt;li&gt;GameObject - w tym podejÅ›ciu jest on jedynie kontenerem na komponenty i nie wykonuje sam Å¼adnej logiki. MoÅ¼na za jego pomocÄ… dodawaÄ‡, usuwaÄ‡ i wyszukiwaÄ‡ komponenty oraz dodawaÄ‡ nowe gameobjecty jako dzieci. Celowo napisaÅ‚em rÃ³wnieÅ¼, Å¼e nie wykonuje on Å¼adnej logiki. Ja w swoich implementacjach stosuje update serivce i draw service, ktÃ³ry ma listÄ™ komponentÃ³w do aktualizacji i rysowania. W razie jakiÅ› zmian komponenty sÄ… na nowo zbierane ze wszystkich gameobjectÃ³w. Jest to bardziej optymalne od strony wykonania i zgodne z zasadami Data-Oriented Design.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JeÅ›li chodzi o komponenty to je rÃ³wnieÅ¼ dziele na grupy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Behaviors - komponenty aktualizowane co klatkÄ™, moÅ¼e to by np. kontroler postaci czy kontroler sztucznej inteligencji,&lt;/li&gt;
&lt;li&gt;Drawables - komponenty graficzne, ktÃ³re bÄ™dÄ… rysowane co klatkÄ™, np. sprite'y, animacje, efekty,&lt;/li&gt;
&lt;li&gt;DataComponents - komponenty przechowujÄ…ce dane, do ktÃ³rych odwoÅ‚ujÄ… siÄ™ inne komponenty, np. komponent przechowujÄ…cy informacje o poÅ‚oÅ¼eniu gameobjetu na scenie.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jako, Å¼e komponenty mogÄ… korzystaÄ‡ z innych komponentÃ³w w ramach jednego gameobjectu lub hierarchii rodzic - dziecko, naleÅ¼y zaimplementowaÄ‡ jakiÅ› system rozwiÄ…zywania zaleÅ¼noÅ›ci przy inicjalizacji komponentu. MoÅ¼na to zaleÅ¼nie od jÄ™zyka programowania zaimplementowaÄ‡ na kilka sposobÃ³w. 
Component model jest, wiÄ™c doÅ›Ä‡ zÅ‚oÅ¼onÄ…, ale jednoczeÅ›nie skalowalnÄ… implementacjÄ… struktury sceny. PracowaÅ‚em z jego pomocÄ… nad paroma produkcjami. W razie jakichÅ› niejasnoÅ›ci lub pytaÅ„ zapraszam do komentowania.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>2DXngine podsumowanie pierwszego miesiÄ…ca pracy</title><link href="https://harunx9.github.io/2dxngine-podsumowanie-pierwszego-miesiaca-pracy.html" rel="alternate"></link><published>2017-04-08T20:40:00+02:00</published><updated>2017-04-08T20:40:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-08:/2dxngine-podsumowanie-pierwszego-miesiaca-pracy.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, dawno nic nie pisaÅ‚em na temat projektu, ale nie oznacza to, Å¼e nic w tym temacie siÄ™ nie dzieje. Mam parÄ™ problemÃ³w natury filozoficznej przy podejmowaniu kilku decyzji, ale o tym moÅ¼e pÃ³Åºniej. Zacznijmy od tego co udaÅ‚o siÄ™ zrobiÄ‡, co jest w trakcie realizacji. Z rzeczy zrealizowanych naleÅ¼aÅ‚o â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, dawno nic nie pisaÅ‚em na temat projektu, ale nie oznacza to, Å¼e nic w tym temacie siÄ™ nie dzieje. Mam parÄ™ problemÃ³w natury filozoficznej przy podejmowaniu kilku decyzji, ale o tym moÅ¼e pÃ³Åºniej. Zacznijmy od tego co udaÅ‚o siÄ™ zrobiÄ‡, co jest w trakcie realizacji. Z rzeczy zrealizowanych naleÅ¼aÅ‚o by wymieniÄ‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;system rozpoznawania typÃ³w,&lt;/li&gt;
&lt;li&gt;system GameObjectÃ³w,&lt;/li&gt;
&lt;li&gt;component model,&lt;/li&gt;
&lt;li&gt;eventy,&lt;/li&gt;
&lt;li&gt;system scen.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;WÅ‚aÅ›ciwie do wszystkiego mam teÅ¼ napisane testy. Jedynie pominÄ…Å‚em system scen ze wzglÄ™du na to, Å¼e nie wiem jeszcze czy po implementacji renderera i zarzÄ…dzania assetami nie bÄ™dÄ™ musiaÅ‚ wykonaÄ‡ w nim jakiÅ› wiÄ™kszych zmian. ZmieniÅ‚em teraz teÅ¼ podejÅ›cie do tego co chcÄ™ zrobiÄ‡. Po pierwsze chciaÅ‚bym mieÄ‡ do koÅ„ca tego miesiÄ…ca proof of concpet, ktÃ³ry jest dziaÅ‚ajÄ…cy, czyli mogÄ™ dodaÄ‡ do sceny game object i wyrenderowaÄ‡ go, poruszaÄ‡ nim i w ogÃ³le. Wiem, Å¼e to nie caÅ‚y silnik, ale pozwoli mi to zboczyÄ‡ czy idÄ™ w dobrym kierunku. Po zakoÅ„czeniu tego etapu dopisze testy dla sceny i elementÃ³w nie Open GL'owych. 
W obecnym momencie skupiam, siÄ™ wiÄ™c nad nastÄ™pujÄ…cymi rzeczami :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wczytywaniem tekstur,&lt;/li&gt;
&lt;li&gt;zarzÄ…dzaniem assetami,&lt;/li&gt;
&lt;li&gt;renderowaniem 2d&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;KaÅ¼dÄ… z tych rzeczy mam mocno rozgrzebanÄ…, dodatkowo jeÅ¼eli chodzi o renderowanie jak juÅ¼ pisaÅ‚em mam pewne problemy, co do wyboru technologii. Open GL jest juÅ¼ na rynku parÄ™ lat i jest co powoduje, Å¼e rÃ³Å¼nych materiaÅ‚Ã³w na jego temat jest sporo. Z drugiej strony mamy nowe api czyli Vulcan'a, ktÃ³re jak juÅ¼ napisaÅ‚em jest nowe co powoduje, Å¼e mniej na jego temat informacji. Bardzo duÅ¼o czasu zajÄ…Å‚ mi wiÄ™c wybÃ³r pomiÄ™dzy tymi bibliotekami, jednak ostatecznie uznaÅ‚em, Å¼e uÅ¼yje Open GL z tym, Å¼e postaram siÄ™ go na tyle opakowaÄ‡ w swoje klasy, Å¼eby w momencie kiedy bÄ™dÄ™ gotowy przejÅ›Ä‡ na Vulcana, to to zrobiÄ™ bez zmiany api w samym silniku lub niewielkimi zmianami. Zobaczymy oczywiÅ›cie jak to wyjdzie. 
KolejnÄ… sprawÄ… do ktÃ³rej siÄ™ przymierzam to wielowÄ…tkowoÅ›ci. W obecnym momencie silnik dziaÅ‚a w jednym wÄ…tku, ale czytam na ten temat, wiÄ™c myÅ›lÄ™, Å¼e za jakiÅ› czas sprÃ³buje coÅ› zadziaÅ‚aÄ‡, aby jakieÅ› elementy dziaÅ‚aÅ‚y w osobnych wÄ…tkach.&lt;br&gt;
To na razie na tyle zobaczymy co przeniesie ten miesiÄ…c i na ile uda mi siÄ™ zrobiÄ‡ to co chciaÅ‚bym, aby byÅ‚o skoÅ„czone.&lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>Alternatywne Å›cieÅ¼ki rozwoju programisty</title><link href="https://harunx9.github.io/alternatywne-sciezki-rozwoju-programisty.html" rel="alternate"></link><published>2017-04-03T17:40:00+02:00</published><updated>2017-04-03T17:40:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-04-03:/alternatywne-sciezki-rozwoju-programisty.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› opowiem nieco o mojej przygodzie z tworzeniem gier oraz o tym dlaczego takÄ… a nie innÄ… obraÅ‚em drogÄ™ swojego rozwoju programistycznego. &lt;/p&gt;
&lt;p&gt;Na poczÄ…tku chciaÅ‚em napisaÄ‡ o tym dlaczego mnie to zainteresowaÅ‚o. Po pierwsze sam chce siÄ™ rozwijaÄ‡, ale jako, Å¼e przez 8 godzin dziennie jestem web developerem  - programowanie â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. DziÅ› opowiem nieco o mojej przygodzie z tworzeniem gier oraz o tym dlaczego takÄ… a nie innÄ… obraÅ‚em drogÄ™ swojego rozwoju programistycznego. &lt;/p&gt;
&lt;p&gt;Na poczÄ…tku chciaÅ‚em napisaÄ‡ o tym dlaczego mnie to zainteresowaÅ‚o. Po pierwsze sam chce siÄ™ rozwijaÄ‡, ale jako, Å¼e przez 8 godzin dziennie jestem web developerem  - programowanie wÅ‚asnej web aplikacji po godzinach byÅ‚o by dla mnie bardziej meczÄ…ce niÅ¼ rozwijajÄ…ce. Na poczÄ…tku oczywiÅ›cie uczyÅ‚em siÄ™ nowych bibliotek, frameworkÃ³w, ale po pewnym czasie stwierdziÅ‚em, Å¼e mam to codziennie w pracy i tak wszystkie te rzeczy idÄ… doÅ›Ä‡ szybko do przodu, wiÄ™c tak na prawdÄ™ musiaÅ‚ bym co miesiÄ…c poznaÄ‡ nowÄ… bibliotekÄ™ front-endowÄ…, a co rok nowe MVC. Dodatkowo nie mam gwarancji, Å¼e jej kiedykolwiek uÅ¼yjÄ™, bo jeÅ¼eli projekt nad ktÃ³rym pracujÄ™ ma Angulara w wersji 1.+ to raczej nikt nie bÄ™dzie tego przepisywaÅ‚, Å¼eby tylko wersja byÅ‚a najnowsza. Podobnie sprawa wyglÄ…da, jeÅ¼eli chodzi o biblioteki .NET, poniewaÅ¼ aktualizacja moÅ¼e kosztowaÄ‡ wiele refactoringÃ³w, jeÅ¼eli z wersji na wersje jakiÅ› lib szybko siÄ™ rozwija.
Z wyÅ¼ej wymienionych powodÃ³w doszedÅ‚em do wniosku, Å¼e duÅ¼o lepiej bÄ™dzie postawiÄ‡ na wÅ‚asny pisany bez poÅ›piechu projekt gry komputerowej, gdzie bÄ™dÄ™ uczyÅ‚ siÄ™ architektury, wzorcÃ³w projektowych i prowadziÅ‚ to wszystko zgodnie ze sztukÄ…, testujÄ…c i refakturujÄ…c kod kiedy uznam, Å¼e dane rozwiÄ…zanie byÅ‚o nietrafione. Dodatkowo, jeÅ¼eli stwierdzÄ™, Å¼e ten projekt nie jest juÅ¼ do rozwoju ze wzglÄ™du na bÅ‚Ä™dnie podjÄ™te decyzje, mogÄ™ go porzuciÄ‡ w cholerÄ™ i zaczÄ…Ä‡ pisaÄ‡ wszystko od zera, poniewaÅ¼ nie ma nade mnÄ… klienta, ktÃ³ry pÅ‚aci za moje godziny. InnÄ… korzyÅ›ciÄ… byÅ‚o to, Å¼e jak uda mi siÄ™ coÅ› skoÅ„czyÄ‡, to zawsze mogÄ™ to sprÃ³bowaÄ‡ sprzedaÄ‡, co zasili mÃ³j domowy budÅ¼et.&lt;/p&gt;
&lt;p&gt;Od momentu podjÄ™cia tej decyzji minÄ™Å‚o okoÅ‚o 4 lata przez ktÃ³re napisaÅ‚em parÄ™ prototypÃ³w i poprÃ³bowaÅ‚em kilku jÄ™zykÃ³w programowania. Nie staÅ‚em siÄ™ jakÄ…Å› gwiazda Indie Game Devu, ale mimo to daÅ‚o mi to pewne wymierne korzyÅ›ci. &lt;/p&gt;
&lt;p&gt;Po pierwsze nauczyÅ‚em siÄ™ programowaÄ‡. JeÅ›li ktoÅ› gdzieÅ› tam mnie Å›ledzi na mediach spoÅ‚ecznoÅ›ciowych wie, Å¼e jestem absolwentem po socjologii i informatykÄ™ studiowaÄ‡ dopiero nieco pÃ³Åºniej. SpowodowaÅ‚o to, Å¼e w pierwszym roku musiaÅ‚em przypomnieÄ‡ sobie matematykÄ™, fizykÄ™, inne przedmioty Å›cisÅ‚e oraz nauczyÄ‡ siÄ™ w miarÄ™ programowaÄ‡, aby zdaÄ‡ i nie wylecieÄ‡ z uczelni zaraz po pierwszym semestrze. W tym momencie pisanie prostych gierek okazaÅ‚o siÄ™ zbawienne dlatego, Å¼e Å‚Ä…cza one w sobie wszystkie rzeczy, ktÃ³re musiaÅ‚em sobie przyswoiÄ‡, a przy okazji miaÅ‚em przy tym trochÄ™ zabawy. OczywiÅ›cie musiaÅ‚em teÅ¼ uczyÄ‡ siÄ™ normlanie, ale mimo wszystko takie eksperymenty pozwoliÅ‚y mi nieco szybciej opanowaÄ‡ pewne rzeczy. &lt;/p&gt;
&lt;p&gt;Po drugie gry daÅ‚y mi moÅ¼liwoÅ›Ä‡ znalezienia pracy. WiÄ™kszoÅ›Ä‡ studentÃ³w na 2 lub 3 roku biega za zaliczeniami i poprawkami. Ja dziÄ™ki temu, Å¼e mocno przysiadÅ‚em nie miaÅ‚em takich problemÃ³w. W wolnym czasie, ktÃ³rego miaÅ‚em sporo udaÅ‚o mi siÄ™ za to skoÅ„czyÄ‡ maÅ‚Ä… gierkÄ™ "Drop" na Androida. MiaÅ‚em pierwszy wÅ‚asny skoÅ„czony produkt. Nie byÅ‚ on piÄ™kny, ani za specjalnie grywalny, ale byÅ‚. DawaÅ‚o mi to moÅ¼liwoÅ›ci na pÃ³jÅ›cie na parÄ™ rozmÃ³w kwalifikacyjnych oraz to, Å¼e z koÅ„cem drugiego roku studiÃ³w dostaÅ‚em swojÄ… pierwszÄ… pracÄ™ w programowaniu.&lt;/p&gt;
&lt;p&gt;Po trzecie ciÄ…gle uczÄ™ siÄ™ nowych wzorcÃ³w, algorytmÃ³w czy podejÅ›cia do architektury oprogramowania. Programowanie webowe rzÄ…dzi siÄ™ oczywiÅ›cie nieco innymi prawami od gier komputerowych. W innych miejscach jest nacisk na optymalizacje, wystÄ™pujÄ… inne problemy. Mimo to na pewnym poziomie abstrakcji moÅ¼na wykorzystaÄ‡ pewne doÅ›wiadczenia w obu tych Å›wiatach mimo tego, Å¼e sÄ… one tak od siebie rÃ³Å¼ne. &lt;/p&gt;
&lt;p&gt;Dla jasnoÅ›ci, nie odrzucam w ogÃ³le rozwoju w programowaniu webowym, poniewaÅ¼ uczÄ™ siÄ™ Akka.NET czy Nancy, mimo to gry dajÄ… mi poczucie pewnej wolnoÅ›ci twÃ³rczej, dlatego z nich nie rezygnujÄ™. Polecam takÄ… drogÄ™ kaÅ¼demu kto ma choÄ‡ trochÄ™ pasji twÃ³rczej w sobie. Obecnie gry dotykajÄ… praktycznie kaÅ¼dego tematu, wiÄ™c kaÅ¼dy moÅ¼e sprÃ³bowaÄ‡ wraziÄ‡ w nich samego siebie.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Nauka"></category></entry><entry><title>Eventy jak w C# w C++</title><link href="https://harunx9.github.io/eventy-jak-w-c-w-c.html" rel="alternate"></link><published>2017-03-31T21:00:00+02:00</published><updated>2017-03-31T21:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-31:/eventy-jak-w-c-w-c.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡.
Niestety w tym tygodniu nie miaÅ‚em czasu za duÅ¼o popracowaÄ‡ nad silnikiem. Co prawda pisze system scen, ale mam to tak rozgrzebane, Å¼e nie jestem w stanie tego podsumowaÄ‡. Mimo tego udaÅ‚o mi siÄ™ zrobiÄ‡ jednÄ… fajnÄ… rzecz, ktÃ³rÄ… chciaÅ‚em siÄ™ z wami podzieliÄ‡. ImplementujÄ…c silnik pomyÅ›laÅ‚em, Å¼e bÄ™dÄ™ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡.
Niestety w tym tygodniu nie miaÅ‚em czasu za duÅ¼o popracowaÄ‡ nad silnikiem. Co prawda pisze system scen, ale mam to tak rozgrzebane, Å¼e nie jestem w stanie tego podsumowaÄ‡. Mimo tego udaÅ‚o mi siÄ™ zrobiÄ‡ jednÄ… fajnÄ… rzecz, ktÃ³rÄ… chciaÅ‚em siÄ™ z wami podzieliÄ‡. ImplementujÄ…c silnik pomyÅ›laÅ‚em, Å¼e bÄ™dÄ™ od czasu do czasu musiaÅ‚ powiadamiaÄ‡ pewne elementy sceny o tym, Å¼e np. GameObject zyskaÅ‚ nowy komponent czy childa lub coÅ› innego siÄ™ wydarzyÅ‚o siÄ™, co ma jakieÅ› znaczenie dla innych GameObjectÃ³w czy logiki gry. PoczÄ…tkowo chciaÅ‚em zaimplementwotaÄ‡ EventBus'a, wiecie taki statyczny z subscriberami i publisherami, ale pomyÅ›laÅ‚em tak skoro udaÅ‚o mi siÄ™ zaimplementowaÄ‡ system typÃ³w to moÅ¼e uda siÄ™ przenieÅ›Ä‡ do C++ eventy podobne do tych C#. MyÅ›lÄ…c niedÅ‚ugo zdecydowaÅ‚em siÄ™ sprÃ³bowaÄ‡ a oto efekty pracy.  Na potrzeby rozwiÄ…zania zaimplementowaÅ‚em Event handler nie parametryzowany i nie parametryzowany, binding funkcji handlujÄ…cej dany event, oraz makra pozwalajÄ…ce w Å‚atwy sposÃ³b tworzyÄ‡ binding. Jako, Å¼e kod jest na githubie a dokÅ‚adnie (TU)[https://github.com/Harunx9/2DXngine/tree/master/2DXngine.Core/src/Utils/Events] nie bÄ™dÄ™ osobno omawiaÅ‚ handlerÃ³w tylko pokaÅ¼e jak dziaÅ‚a caÅ‚oÅ›Ä‡ na podstawie jednego z nich. W caÅ‚ej implementacji chodziÅ‚o mi o coÅ› takiego jak mamy w C#, czyli :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;someObject&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SomeEvent&lt;/span&gt; &lt;span class="p"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;HandlerFunction&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;//przypinanie eventu&lt;/span&gt;
&lt;span class="n"&gt;someObject&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SomeEvent&lt;/span&gt; &lt;span class="p"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;HandlerFunction&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;//odpinanie eventu&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Co prawda mÃ³j system jest pewnie duÅ¼o prostszy, ale w sumie dziaÅ‚a podobnie mimo paru ograniczeÅ„. PrzykÅ‚adowy handler wyglÄ…da tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;EventHandler&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;EventHandler&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Binding&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;binding&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;binding&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_code&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;binding&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_func&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;EventHandler&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;-=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Binding&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;binding&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;erase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;binding&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_code&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;isUsed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;tmp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="nl"&gt;subscriber&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;subscriber&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;second&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;()(&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;invoke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kr"&gt;inline&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;get_nextID&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_curretnId&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;_curretnId&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EventArgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;_subscribers&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;CaÅ‚oÅ›Ä‡ jak widaÄ‡ udaÅ‚o mi siÄ™ zrobiÄ‡ nadpisujÄ…c operatory : +=. -= oraz (). Jest to wielka siÅ‚Ä… C++ ale jak wiemy "with great power comes great responsibility", wiÄ™c nie polecam stosowaÄ‡ nadpisania operatorÃ³w do kaÅ¼dego problemu. Dodatkowo ze wzglÄ™du na to, Å¼eby wygodniej usuwaÅ‚o siÄ™ subskrybentÃ³w zaimplementowaÅ‚em statyczne generowanie kolejnych id dla bindingÃ³w, tak aby byÅ‚y one w miarÄ™ unikalne, a jednoczeÅ›nie myÅ›lÄ™, Å¼e nikt wartoÅ›ci int nie przekroczy, jeÅ¼eli bÄ™dzie chciaÅ‚ korzystaÄ‡ z tego silnika. Aby taka sytuacja nastÄ…piÅ‚a musiaÅ‚ by ktoÅ› na prawdÄ™ naduÅ¼ywaÄ‡ eventÃ³w. Aby moÅ¼na byÅ‚o dodawaÄ‡ eventy stworzyÅ‚em oto takÄ… strukturÄ™: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;template&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="n"&gt;TEventArgs&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Binding&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Binding&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="n"&gt;Binding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TEventArgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_code&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_func&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;get_code&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_code&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TEventArgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;get_func&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;_func&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;_code&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TEventArgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;_func&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Enkapsuluje ona id bindingu oraz wskaÅºnik na funkcje. Z mojej wiedzy wynika, Å¼e std::function to nowy typ dostÄ™pny od C++11(na studiach uczyÅ‚em sie C++98, wiÄ™c dla mnie jest to nowoÅ›Ä‡), wiÄ™c zobaczymy jak siÄ™ sprawdzi jak na razie w testach wyglÄ…da dobrze, wiÄ™c mam nadzieje, Å¼e nie bÄ™dzie z niÄ… problemÃ³w wydajnoÅ›ciowych.
Do tego dodaÅ‚em jeszcze 2 makra automatyzujÄ…ce tworzenie bindingÃ³w. I to tyle implementacji, jeÅ¼eli ktoÅ› chce zobaczyÄ‡ przykÅ‚ady uÅ¼ycia to znajdujÄ… siÄ™ one w unit testach. Mam nadziejÄ™ Å¼e taka implementacja siÄ™ sprawdzi. Jak skoÅ„czÄ™ implementacje GameObject' u wraz ze zdarzeniami zmian jego struktury to dam wam znaÄ‡. JeÅ¼eli ktoÅ› ma jakieÅ› pomysÅ‚y, rady, opinie to jak zawsze zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="Tools"></category></entry><entry><title>WÅ‚asny TypeInfo w C++</title><link href="https://harunx9.github.io/wlasny-typeinfo-w-c.html" rel="alternate"></link><published>2017-03-27T19:10:00+02:00</published><updated>2017-03-27T19:10:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-27:/wlasny-typeinfo-w-c.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, dziÅ› chciaÅ‚em pokazaÄ‡ jak zrobiÅ‚em system informacji o typach obiektÃ³w w silniku 2DXngine, ktÃ³ry powstaje w ramach konkursu "Daj siÄ™ poznaÄ‡". Taki feature byÅ‚ mi porzebny do wysukiwania po typie komponentÃ³w z GameObjectu. Nie chciaÅ‚em uÅ¼ywaÄ‡ standardowego  TypeId, poniewaÅ¼ mÄ…drzejsi ode mnie mÃ³wiÄ…, Å¼e jest to powolne, i Å¼e â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, dziÅ› chciaÅ‚em pokazaÄ‡ jak zrobiÅ‚em system informacji o typach obiektÃ³w w silniku 2DXngine, ktÃ³ry powstaje w ramach konkursu "Daj siÄ™ poznaÄ‡". Taki feature byÅ‚ mi porzebny do wysukiwania po typie komponentÃ³w z GameObjectu. Nie chciaÅ‚em uÅ¼ywaÄ‡ standardowego  TypeId, poniewaÅ¼ mÄ…drzejsi ode mnie mÃ³wiÄ…, Å¼e jest to powolne, i Å¼e refleksja w  runtime jest ogÃ³lnie zÅ‚a. Dlatego naleÅ¼y pomyÅ›leÄ‡ tak, aby jak najwiÄ™cej zrobiÄ‡ w compile time. Tak jak juÅ¼ wiecie dopiero uczÄ™ siÄ™ C++, wiÄ™c przejrzaÅ‚em trochÄ™ Internet i w moim rozwiÄ…zaniu mocno inspirowaÅ‚em siÄ™ &lt;a href="http://www.axelmenzel.de/articles/rtti"&gt;TYM&lt;/a&gt; artykuÅ‚em. Podobnie jak w nim moje rozwiÄ…zanie opiera siÄ™ na makrach i TypeCache, ale po kolei. Aby zarejestrowaÄ‡ typ uÅ¼ywam takich oto makr:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#define DECLARE_TYPE_INFO(Type, BaseType)                                            \&lt;/span&gt;
&lt;span class="cp"&gt;                                                                                     \&lt;/span&gt;
&lt;span class="cp"&gt;template&amp;lt;&amp;gt;                                                                           \&lt;/span&gt;
&lt;span class="cp"&gt;struct TypeIdInfo&amp;lt;Type&amp;gt;                                                              \&lt;/span&gt;
&lt;span class="cp"&gt;{                                                                                    \&lt;/span&gt;
&lt;span class="cp"&gt;    static TypeInfo getType()                                                        \&lt;/span&gt;
&lt;span class="cp"&gt;    {                                                                                \&lt;/span&gt;
&lt;span class="cp"&gt;        static const TypeInfo typeInfo = getOrRegisterTypeInChache(#Type, #BaseType);\&lt;/span&gt;
&lt;span class="cp"&gt;        return typeInfo;                                                             \&lt;/span&gt;
&lt;span class="cp"&gt;    }                                                                                \&lt;/span&gt;
&lt;span class="cp"&gt;};                                                                                   \&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To makro dodajÄ™ w plikach .h., jeÅ¼eli nie ma bazowego typu zostawiam "" . BÄ™dÄ™ musiaÅ‚ to przemyÅ›leÄ‡ w przyszÅ‚oÅ›ci, na razie to rozwiÄ…zanie mi nie przeszkadza.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#define DEFINE_TYPE_INFO(Type)                                 \&lt;/span&gt;
&lt;span class="cp"&gt;                                                               \&lt;/span&gt;
&lt;span class="cp"&gt;template&amp;lt;&amp;gt;                                                     \&lt;/span&gt;
&lt;span class="cp"&gt;struct RegisterType&amp;lt;Type&amp;gt;                                      \&lt;/span&gt;
&lt;span class="cp"&gt;{                                                              \&lt;/span&gt;
&lt;span class="cp"&gt;    RegisterType()                                             \&lt;/span&gt;
&lt;span class="cp"&gt;    {                                                          \&lt;/span&gt;
&lt;span class="cp"&gt;        TypeIdInfo&amp;lt;Type&amp;gt;::getType();                           \&lt;/span&gt;
&lt;span class="cp"&gt;    }                                                          \&lt;/span&gt;
&lt;span class="cp"&gt;};                                                             \&lt;/span&gt;
&lt;span class="cp"&gt;static const RegisterType&amp;lt;Type&amp;gt; CAT(registerType, __COUNTER__);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;PowyÅ¼sze makro oddaje w plikach .cpp, Å¼eby rejestracja nastÄ…piÅ‚a automatycznie. Wykorzystany jest tu pewien trik, a mianowicie jeÅ›eli zdefiniujemy generyczna statyczny const, to zostanie on wywoÅ‚any przed funkcjÄ… main, co daje nam therad safe przy rejestracji naszych obiektÃ³w.
Funkcja rejestrujÄ…ca wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;TypeInfo&lt;/span&gt; &lt;span class="nf"&gt;getOrRegisterTypeInChache&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;parentTypeName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;TypeInfo&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;typeCache&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TypeCache&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;get_instance&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;typeCache&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_typeAlreadyExist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TypeCache&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;get_nextId&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;paretnId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;strcmp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parentTypeName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;TypeInfo&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;parentType&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;typeCache&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_typeByRef&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parentTypeName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parentType&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;paretnId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parentType&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_id&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TypeInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;paretnId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;typeCache&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;addType&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;typeCache&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_typeByValue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W skrÃ³cie zaglÄ…da ona do TypeCache, czy dany typ jest juÅ¼ tam zarejestrowany i jeÅ¼eli jest to go zwraca, a jeÅ¼eli nie to tworzy nowy. W 99 procentach przypadkÃ³w bÄ™dzie nam oddawaÅ‚a juÅ¼ wygenerowany TypeId, poniewaÅ¼ jak juÅ¼ napisaÅ‚em rejestracja odbywa siÄ™ automatycznie przed funkcjÄ… main. Ze wzglÄ™du na to, Å¼e caÅ‚oÅ›Ä‡ kodu jest na githubie nie bÄ™dÄ™ dokÅ‚adnie omawiaÅ‚ implementacji TypeCache i TypeInfo, jeÅ¼eli kotÅ› jest ciekawy to zapraszam &lt;a href="https://github.com/Harunx9/2DXngine/tree/master/2DXngine.Core/src/TypeInformation"&gt;TU&lt;/a&gt;. Zaimplementowany system informacji o typie pozwala mi na to, Å¼e mogÄ™ w Å‚atwy sposÃ³b wyszukiwaÄ‡ instancji obiektÃ³w ,ktÃ³re reprezentujÄ… danÄ… klasÄ™, ale i wyszukiwaÄ‡ prze klasy bazowe. PrzykÅ‚adowo moÅ¼e poszukaÄ‡ wszystkich komponentÃ³w dziedziczÄ…cych po UpdateableComponents. System ten ma niestety jedno ograniczenie a mianowicie, aby dawaÅ‚ on informacje deterministyczne obiekty mogÄ… dziedziczyÄ‡ tylko i wyÅ‚Ä…cznie po jednej klasie bazowej. OczywiÅ›cie moÅ¼na by go bardziej rozwinÄ…Ä‡ tak, aby wprowadziÄ‡ interfejsy czy wielodziedziczenie, ale na razie nie widzÄ™ takie potrzeby, poniewaÅ¼ z zaÅ‚oÅ¼enia hierarchia dziedziczenia komponentÃ³w jest raczej doÅ›Ä‡ liniowa, wiÄ™c myÅ›lÄ™, Å¼e na potrzeby silnika rozwiÄ…zanie jest wystarczajÄ…ce. Pozostaje jeszcze kwestia optymalizacji ale to, Å¼e tak powiem wyjdzie podczas implementacji gry na silniku, wiÄ™c na razie nie jestem w stanie sprawdziÄ‡ jak mocno takie otrzymywanie informacji o typie spowolni wykonywanie logiki gry. To chyba na tyle, jeÅ¼eli chodzi o moje podejÅ›cie to systemu informacji o typach. JeÅ¼eli macie jakieÅ› pytania czy uwagi to zapraszam do sekcji komentarzy.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="C++"></category></entry><entry><title>2DXngine: aktualizacja po trzecim tygodniu</title><link href="https://harunx9.github.io/2dxngine-aktualizacja-po-trzecim-tygodniu.html" rel="alternate"></link><published>2017-03-25T10:00:00+01:00</published><updated>2017-03-25T10:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-25:/2dxngine-aktualizacja-po-trzecim-tygodniu.html</id><summary type="html">&lt;p&gt;Witam W tym tygodniu udaÅ‚o mi siÄ™ po pierwsze popracowaÄ‡ trochÄ™ wiÄ™cej. Jak policzÄ™ tak to mniej wiÄ™cej to wyszÅ‚o okoÅ‚o 24 godziny. Nie byÅ‚o teÅ¼ juÅ¼ wiÄ™kszych problemÃ³w implementacyjnych.&lt;/p&gt;
&lt;p&gt;W ciÄ…gu tego tygodnia udaÅ‚o mi siÄ™ zrobiÄ‡ do koÅ„ca GameObject - wÅ‚aÅ›ciwie caÅ‚oÅ›Ä‡ jest  juÅ¼ dziaÅ‚ajÄ…ca. Testy rÃ³wnieÅ¼ w wiÄ™kszoÅ›ci â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Witam W tym tygodniu udaÅ‚o mi siÄ™ po pierwsze popracowaÄ‡ trochÄ™ wiÄ™cej. Jak policzÄ™ tak to mniej wiÄ™cej to wyszÅ‚o okoÅ‚o 24 godziny. Nie byÅ‚o teÅ¼ juÅ¼ wiÄ™kszych problemÃ³w implementacyjnych.&lt;/p&gt;
&lt;p&gt;W ciÄ…gu tego tygodnia udaÅ‚o mi siÄ™ zrobiÄ‡ do koÅ„ca GameObject - wÅ‚aÅ›ciwie caÅ‚oÅ›Ä‡ jest  juÅ¼ dziaÅ‚ajÄ…ca. Testy rÃ³wnieÅ¼ w wiÄ™kszoÅ›ci sÄ… napisane, oczywiÅ›cie ta klasa bÄ™dzie rozwijana w miarÄ™ potrzeb, ale na razie wydaje mi siÄ™, Å¼e speÅ‚nia ona swoje zaÅ‚oÅ¼enia funkcjonalne. DrugÄ… rzeczÄ…, ktÃ³rÄ… udaÅ‚o mi siÄ™ skoÅ„czyÄ‡ to GameObjectManager jeszcze musze do niej dopisaÄ‡ testy co pewnie uczyniÄ™ w najbliÅ¼szym czasie, wiÄ™c pewnie wyjdÄ… jakieÅ› bÅ‚Ä™dy implementacyjne. Dodatkowo stworzyÅ‚em poczÄ…tkowÄ… strukturÄ™ klas dla systemu scen, czyli scenÄ™ abstrakcyjnÄ… i manager scen. MyÅ›lÄ™, Å¼e teraz wÅ‚aÅ›nie te elementy systemu bÄ™dÄ™ rozwijaÅ‚. &lt;/p&gt;
&lt;p&gt;PrzydaÅ‚oby siÄ™ teÅ¼ rozpoczÄ…Ä‡ manager assetÃ³w i renderer, wiÄ™c nie wiem czy nie zrÃ³wnoleglÄ™ prac, bo chciaÅ‚bym Å¼eby wreszcie coÅ› zaczÄ™Å‚o siÄ™ wyÅ›wietlaÄ‡, poniewaÅ¼ na razie jedyne co siÄ™ wyÅ›wietla to zielone kropki przy testach jednostkowych. To Å¼eby jak najwiÄ™ksza czeÅ›Ä‡ silnika byÅ‚a przetestowana to jednak dla mnie priorytet jak juÅ¼ pisaÅ‚em zresztÄ…. Implementacja pÃ³jdzie przez to wolniej, ale potencjalnie bÄ™dzie mniej problemÃ³w pÃ³Åºniej. Staram, siÄ™ tez trzymaÄ‡ TDD, ale czÄ™sto mam prace, ktÃ³re wymagajÄ… ode mnie stworzenia api bez wiedzy jak ono ma wyglÄ…daÄ‡ co utrudnia TDD,  ale myÅ›lÄ™, Å¼e jeszcze trochÄ™ praktyki i moÅ¼e uda mi siÄ™ tak wytwarzaÄ‡ kodzik. &lt;/p&gt;
&lt;p&gt;Z rzeczy zwiÄ…zanych z silnikiem to powstaje juÅ¼ artykuÅ‚ o tym rozpoznawaniu i porÃ³wnywaniu typÃ³w w C++, ale jeszcze potrzebne sÄ… ostatnie szlify, aby wszedÅ‚ na bloga wiÄ™c myÅ›lÄ™, Å¼e po weekendzie siÄ™ pojawi na blogu. To chyba tyle, widzÄ™ Å¼e jest tego maÅ‚o, ale niestety ostanie implementacje nie sÄ… niczym ciekawym. W C++ nie mam LINQ i wiÄ™kszoÅ›Ä‡ mojego czasu pochÅ‚aniajÄ… implementacje wyszukiwania dodawania i usuwania w kolekcjach C++, no niestety taka specyfika jÄ™zyka i projektu.  MyÅ›lÄ™, Å¼e jak dojdziemy do renderowania i zarzÄ…dzania assetami to bÄ™dÄ™ miaÅ‚ wiÄ™cej ciekawych rzeczy do napisania. Tymczasem trzymajcie siÄ™ do nastÄ™pnego update'u.&lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>OgÃ³lna architektura silnika - system Encji/GameObject'Ã³w</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-system-encjigameobjectow.html" rel="alternate"></link><published>2017-03-21T18:20:00+01:00</published><updated>2017-03-21T18:20:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-21:/ogolna-architektura-silnika-system-encjigameobjectow.html</id><summary type="html">&lt;p&gt;Ostatni post tego cyklu byÅ‚ o zarzÄ…dzaniu scenami, dziÅ› postaram siÄ™ nieco napisaÄ‡ o tym co powinno byÄ‡ na scenie, aby gra posiadaÅ‚a jakiÅ› gameplay. Mowa tu bÄ™dzie o Aktorach, Encjach lub GameObjetach w zaleÅ¼noÅ›ci od biblioteki/engine'u nazwa moÅ¼e siÄ™ rÃ³Å¼niÄ‡, ale to ciÄ…gle to samo. Takim elementem moÅ¼e â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ostatni post tego cyklu byÅ‚ o zarzÄ…dzaniu scenami, dziÅ› postaram siÄ™ nieco napisaÄ‡ o tym co powinno byÄ‡ na scenie, aby gra posiadaÅ‚a jakiÅ› gameplay. Mowa tu bÄ™dzie o Aktorach, Encjach lub GameObjetach w zaleÅ¼noÅ›ci od biblioteki/engine'u nazwa moÅ¼e siÄ™ rÃ³Å¼niÄ‡, ale to ciÄ…gle to samo. Takim elementem moÅ¼e byÄ‡ na scenie wszystko, od postaci gracza do przeciwnikÃ³w, przedmiotÃ³w do zbierania itp.  IstniejÄ… dwie drogi do implementacji GameObject'Ã³w w tym artykule opiszÄ™ drogÄ™ z dziedziczeniem, natomiast component model bÄ™dzie opisany oddzielnie. &lt;/p&gt;
&lt;p&gt;Droga implementacji za pomocÄ… dziedziczenia wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tworzymy abstrakcjÄ™, ktÃ³ra powinna zawieraÄ‡: pozycjÄ™, nazwÄ™ , wysokoÅ›Ä‡, szerokoÅ›Ä‡ ; jeÅ¼eli nie korzystamy z biblioteki fizycznej to naleÅ¼y tu rÃ³wnieÅ¼ zdefiniowaÄ‡ zmienne potrzebne do jej obsÅ‚ugi. Dodatkowo obiekt powinien zawieraÄ‡ abstrakcje dla aktualizacji oraz rysowania obiektu,&lt;/li&gt;
&lt;li&gt;tworzymy kolejno obiekty dziedziczÄ…c z bazowego,&lt;/li&gt;
&lt;li&gt;w momencie kiedy zauwaÅ¼amy, Å¼e dane obiekty majÄ… ze sobÄ… jakieÅ› cechy wspÃ³lne tworzymy dla nich wspÃ³lnÄ… abstrakcje.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Na tak moÅ¼e wyglÄ…daÄ‡ przykÅ‚adowa hierarchia:&lt;/p&gt;
&lt;p&gt;&lt;img alt="GameObjects" src="/images/go_graph.png"&gt;&lt;/p&gt;
&lt;p&gt;Takie podejÅ›cie ma swoje plusy i minusy. Zacznijmy od tego co uwaÅ¼am za pozytywne strony takiej implementacji. Po pierwsze pozwala ona szybko wystartowaÄ‡, poniewaÅ¼ na poczÄ…tku nie mamy skonceptualizowanego caÅ‚ego gameplay'u, chcemy np. zrobiÄ‡ platformÃ³wkÄ™ to pomoÅ¼e nam to zrobiÄ‡ prototyp w parÄ™ dni. JeÅ¼eli projekt jest maÅ‚y to rÃ³wnieÅ¼ to podejÅ›cie siÄ™ sprawdzi, poniewaÅ¼ nie bÄ™dzie miaÅ‚ on duÅ¼ej iloÅ›ci elementÃ³w. Problem tego podejÅ›cia zaczyna siÄ™ kiedy gra zaczyna rosnÄ…Ä‡, poniewaÅ¼ kaÅ¼dy nowy GameObject wymaga nowej klasy a kaÅ¼da kategoria GameObject'Ã³w dodatkowej abstrakcji. Prowadzi to do bardzo duÅ¼ej iloÅ›ci plikÃ³w oraz skomplikowanej i nieraz wielopoziomowej hierarchii dziedziczenia. Taki kod staje siÄ™ trudny do utrzymania. Dodatkowo testowanie tak stworzonych encji jest prawie niemoÅ¼liwe. Poza tym problematyczne staje siÄ™ dodawanie nowych funkcji go istniejÄ…cych GameObject'Ã³w, gdy chcemy coÅ› dodaÄ‡ musimy modyfikowaÄ‡ istniejÄ…cy kod, co w efekcie moÅ¼e prowadziÄ‡ do zepsucia juÅ¼ dziaÅ‚ajÄ…cych funkcji. 
Mimo tego co napisaÅ‚em polecam to podejÅ›cie, jeÅ¼eli zaczynasz swojÄ… przygodÄ™ z grami. Pozwoli Ci to jak juÅ¼ pisaÅ‚em szybko wystartowaÄ‡ i szybko pokazaÄ‡ prototyp innym ludziom, co jest bardzo istotne pod wzglÄ™dem zbierania feedbacku na temat gry. JeÅ›li jednak wasza gra stanie siÄ™ wiÄ™ksza powinniÅ›cie iÅ›Ä‡ w stronÄ™ component modelu, ktÃ³ry opisze w nastÄ™pnym poÅ›cie.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>2DXngine: aktualizacja po drugim tygodniu</title><link href="https://harunx9.github.io/2dxngine-aktualizacja-po-drugim-tygodniu.html" rel="alternate"></link><published>2017-03-17T21:40:00+01:00</published><updated>2017-03-17T21:40:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-17:/2dxngine-aktualizacja-po-drugim-tygodniu.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Mija drugi tydzieÅ„ konkursu "Daj siÄ™ poznaÄ‡ " pora wiÄ™c na podsumowanie tygodnia prac nad projektem 2DXngine. Niestety z braku czasu w tym tygodniu prace nieco spowolniÅ‚y, ale mimo to udaÅ‚o siÄ™ skoÅ„czyÄ‡ mi prace nad systemem typÃ³w, ale po kolei. W tym tygodniu znowu Å›rednio szÅ‚o mi ze Å›ledzeniem â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Mija drugi tydzieÅ„ konkursu "Daj siÄ™ poznaÄ‡ " pora wiÄ™c na podsumowanie tygodnia prac nad projektem 2DXngine. Niestety z braku czasu w tym tygodniu prace nieco spowolniÅ‚y, ale mimo to udaÅ‚o siÄ™ skoÅ„czyÄ‡ mi prace nad systemem typÃ³w, ale po kolei. W tym tygodniu znowu Å›rednio szÅ‚o mi ze Å›ledzeniem swojego czasu pracy, ale mogÄ™ powiedzieÄ‡, Å¼e spÄ™dziÅ‚em nad projektem okoÅ‚o 14 godzin. Nie caÅ‚y ten czas poszedÅ‚ jednak na development, poniewaÅ¼ musiaÅ‚em mocno siÄ™ douczyÄ‡. Po pierwsze zderzyÅ‚em siÄ™ z makrami do tej pory nie musiaÅ‚em ich nigdy uÅ¼ywaÄ‡ a i teÅ¼ w ksiÄ…Å¼kach, ktÃ³re czytaÅ‚em opisy co moÅ¼na z nimi zrobiÄ‡ byÅ‚y doÅ›Ä‡ lakoniczne. Po drugie kiedy juÅ¼ myÅ›laÅ‚em, Å¼e wszystko elegancko dziaÅ‚a nagle okazaÅ‚o siÄ™, Å¼e jeszcze parÄ™ rzeczy muszÄ™ doimplementowaÄ‡. Dobra koniec narzekania przejdÅºmy do tego co udaÅ‚o mi siÄ™ zrobiÄ‡. Aby prawu cytatu staÅ‚o siÄ™ za doÅ›Ä‡ a i kudosy za uÅ‚atwienie mi pracy poszÅ‚y w odpowiednie miejsce to implementacjÄ™ swojego rozwiÄ…zanie oparÅ‚em o pewien artykuÅ‚ ktÃ³ry znajdziecie &lt;a href="http://www.axelmenzel.de/articles/rtti"&gt;TU&lt;/a&gt;. Na potrzeby component modelu zaimplementowaÅ‚em prosty system rozpoznawania typÃ³w - pozwala on wyciÄ…gnÄ…Ä‡ z zarejesrtowanych klas typ za pomocÄ… metody getType. Typ posiada swÃ³j identyfikator i nazwÄ™ oraz identyfikator typu bazowego (w przypadku kiedy go nie ma jest to wartoÅ›Ä‡ -1). Niestety postawiÅ‚em pewne ograniczenia, a mianowicie nie moÅ¼na dziedziczyÄ‡ po wiÄ™cej niÅ¼ jednej klasie, moÅ¼na natomiast dziedziczyÄ‡ dowolnie gÅ‚Ä™boko, poniewaÅ¼ typ posiada moÅ¼liwoÅ›Ä‡ sprawdzenia czy w jego bazowych typach nie znajdujÄ… siÄ™ typy wyÅ¼sze pozwala to np. wyszukaÄ‡ wszystkie komponenty dziedziczÄ…ce po jakieÅ› wspÃ³lnej abstrakcji. 
OprÃ³cz klasy reprezentujÄ…cej typ na rozwiÄ…zania skÅ‚adajÄ… siÄ™ nastÄ™pujÄ…ce elementy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TypeCache - elementy agregujÄ…cy wszystkie typu korzystajÄ… z niego inne elementy dodajÄ…c lub pobierajÄ…c informacje o typie ,&lt;/li&gt;
&lt;li&gt;makro definiujÄ…ce i deklarujÄ…ce typ - sÅ‚uÅ¼Ä… one do rejestracji, a dziÄ™ki zastosowaniu sztuczki ze statycznym wywoÅ‚aniem klasy rejestracyjnej wywoÅ‚ujÄ… siÄ™ przed funkcjÄ… main, co czyni to rozwiÄ…zanie bezpieczne dla wielowÄ…tkowoÅ›ci i w miarÄ™ zautomatyzowane,&lt;/li&gt;
&lt;li&gt;macro dodajÄ…ce do klasy funkcje getType, dziÄ™ki ktÃ³rej jesteÅ›my w stanie pobraÄ‡ typ z instancji klasy.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DokÅ‚adnie z przykÅ‚adami kodu postaram opisaÄ‡ siÄ™ to rozwiÄ…zanie w przyszÅ‚ych postach. CaÅ‚oÅ›Ä‡ jest juÅ¼ na GitHubie, wiÄ™c jeÅ¼eli ktoÅ› jest ciekawy to zapraszam do zapoznania siÄ™ z kodzikiem. JeÅ¼eli ktoÅ› z czytajÄ…cych mnie osÃ³b zajmuje siÄ™  C++ i ma do polecenia jakieÅ› ciekawe ksiÄ…Å¼ki to zapraszam do sekcji komentarzy. Tymczasem w tym tygodniu planuje dalej rozwijaÄ‡ GameObject i komponenty, moÅ¼e uda mi siÄ™ zaczÄ…Ä‡ coÅ› ze scenami. PierwszÄ… sprawÄ… jest jednak to abym dopisaÅ‚ wiÄ™cej testÃ³w do istniejÄ…cych funkcjonalnoÅ›ci, wiÄ™c tym zajmÄ™ siÄ™ w najbliÅ¼szych dniach.&lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>NarzÄ™dzia przydatne w tworzeniu gier</title><link href="https://harunx9.github.io/narzedzia-przydatne-w-tworzeniu-gier.html" rel="alternate"></link><published>2017-03-15T20:00:00+01:00</published><updated>2017-03-15T20:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-15:/narzedzia-przydatne-w-tworzeniu-gier.html</id><summary type="html">&lt;p&gt;Jako, Å¼e sÅ‚owo siÄ™ rzekÅ‚o, teraz wiÄ™cej postÃ³w o tematyce zwiÄ…zanej z szeroko pojÄ™tym gamedevem. DziÅ› chciaÅ‚bym przybliÅ¼yÄ‡ wam kilka fajnych narzÄ™dzi, ktÃ³re moÅ¼na wykorzystaÄ‡ tworzÄ…c wÅ‚asny silnik do gry.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.mapeditor.org/"&gt;Tiled&lt;/a&gt; - Darmowy&lt;/p&gt;
&lt;p&gt;Ze wszystkich programÃ³w z Tiled korzystam chyba najwiÄ™cej. Jest to prosty i intuicyjny edytor poziomÃ³w do gier.  Mimo â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Jako, Å¼e sÅ‚owo siÄ™ rzekÅ‚o, teraz wiÄ™cej postÃ³w o tematyce zwiÄ…zanej z szeroko pojÄ™tym gamedevem. DziÅ› chciaÅ‚bym przybliÅ¼yÄ‡ wam kilka fajnych narzÄ™dzi, ktÃ³re moÅ¼na wykorzystaÄ‡ tworzÄ…c wÅ‚asny silnik do gry.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.mapeditor.org/"&gt;Tiled&lt;/a&gt; - Darmowy&lt;/p&gt;
&lt;p&gt;Ze wszystkich programÃ³w z Tiled korzystam chyba najwiÄ™cej. Jest to prosty i intuicyjny edytor poziomÃ³w do gier.  Mimo swojej prostoty pozwala jednak na wiele. Po pierwsze moÅ¼emy to z Tilei poukÅ‚adaÄ‡ poziomy, dodaÄ‡ background.  Edytor posiada system warstw, dziÄ™ki czemu moÅ¼emy w Å‚atwy sposÃ³b dodaÄ‡ do mapy tÅ‚a, obrazy oraz obiekty, ktÃ³re po odpowiednim zparsowaniu w silniku moÅ¼emy uÅ¼ywaÄ‡ jako miejsca kolizji, punkty startowe czy Å›cieÅ¼ki dla sztucznej inteligencji. CiekawÄ… opcja jest implementacja w silniku autoreloadu plansz. Po spiÄ™ciu takiej funkcjonalnoÅ›ci z Tiled otrzymujemy moÅ¼liwoÅ›Ä‡ edycji live naszych plansz. CaÅ‚y projekt jest darmowy choÄ‡ moÅ¼emy wesprzeÄ‡ twÃ³rcÄ™ dotacjÄ… lub zapÅ‚aciÄ‡ za edytor na itch.io. &lt;/p&gt;
&lt;p&gt;&lt;img alt="Tiled" src="/images/gdtools/Tiled.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://dunin.itch.io/ptop"&gt;Paint of Persia&lt;/a&gt; - Darmowy&lt;/p&gt;
&lt;p&gt;Jest to bardzo ciekawe narzÄ™dzie pozwalajÄ…ce na tworzenie rotoskopowych animacji naszych gier. W skrÃ³cie polega to na tym, Å¼e nagrywamy kamerÄ… lub bierzemy gotowy film i na jego podstawie moÅ¼emy odrysowaÄ‡ ruchy postaci. Takie podejÅ›cie powoduje, Å¼e dostajemy bardzo realistycznÄ… i szczegÃ³Å‚owÄ… animacje postaci czy innych obiektÃ³w. Z ciekawostek taki sposÃ³b tworzenia animacji zostaÅ‚ po raz pierwszy wykorzystany w klasycznym Prince of Persia z 1989 roku.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Paint of Persia" src="/images/gdtools/pop.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://pyxeledit.com/"&gt;Pyxel Edit&lt;/a&gt; PÅ‚atny&lt;/p&gt;
&lt;p&gt;Bardzo ciekawy program do tworzenia grafiki pixelartowej. Posiada on wsparcie do tworzenia tilesetÃ³w do map oraz animacji poklatkowej. Fajnym dodatkiem jest sugestia barw do cieniowania, rozjaÅ›niania jest to szczegÃ³lnie przydatne, jeÅ¼eli jest siÄ™ takim antytalenciem graficznym jak ja.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Pyxel Edit" src="/images/gdtools/pyxeledit.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://krita.org/en/"&gt;Krita&lt;/a&gt; Darmowy&lt;/p&gt;
&lt;p&gt;Kolejny program graficzny tym razem nieco podobny z moÅ¼liwoÅ›ciami do popularnego Photoshopa. U mnie Å›wietnie siÄ™ sprawdza do konceptÃ³w postaci czy plansz oraz rozrysowywania logiki. Koniecznie uÅ¼ywajcie go z tabletem graficznym, poniewaÅ¼ wtedy pokazuje prawdziwy pazur.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Krita" src="/images/gdtools/krita.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.gimp.org/"&gt;Gimp&lt;/a&gt; Darmowy&lt;/p&gt;
&lt;p&gt;Z obowiÄ…zku naleÅ¼y wspomnieÄ‡ o tym programie graficznym. Wiem, Å¼e nadal jest popularny, ale mi obecnie zastÄ™pujÄ™ go w caÅ‚oÅ›ci Krita, ktÃ³ra dziaÅ‚a szybciej i ma wiÄ™cej fajnych moÅ¼liwoÅ›ci. Mimo to Gimp jest nadal niezÅ‚Ä… propozycjÄ… dla poczÄ…tkujÄ…cych, poniewaÅ¼ obsÅ‚uga programu jest bajecznie prosta a jeÅ¼eli nie wiemy jak coÅ› zrobiÄ‡, to w sieci znajdziemy masÄ™ tutoriali, ktÃ³re na pewno nam pomogÄ….&lt;/p&gt;
&lt;p&gt;&lt;a href="https://renderhjs.net/shoebox/"&gt;ShoeBox&lt;/a&gt; - Darmowy&lt;/p&gt;
&lt;p&gt;Shoebox moÅ¼e przy pierwszym podejÅ›ciu wyglÄ…daÄ‡ niepozornie, ale jest to tak na prawdÄ™ bardzo rozbudowane narzÄ™dzie do manipulacji teksturami. Przy jego pomocy moÅ¼emy: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pakowaÄ‡ tekstury w atlasy, &lt;/li&gt;
&lt;li&gt;ripowaÄ‡ tekstury,&lt;/li&gt;
&lt;li&gt;odczytywaÄ‡ sprite'y np. SpriteFonty,&lt;/li&gt;
&lt;li&gt;generowaÄ‡ BitmapFonty,&lt;/li&gt;
&lt;li&gt;pakowaÄ‡ animacje ,&lt;/li&gt;
&lt;li&gt;dodawaÄ‡ pivot pointy(origin) do naszych sprite'Ã³w,&lt;/li&gt;
&lt;li&gt;tworzyÄ‡ nine slice sprite'y do UI,&lt;/li&gt;
&lt;li&gt;inne pomniejsze funkcjonalnoÅ›ci.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jak widaÄ‡ jest tego sporo. Program polecam rÃ³wnieÅ¼ dlatego, Å¼e jest darmowy a napisanie importera do wygenerowanych poprzez niego atlasÃ³w i spritesheet'Ã³w nie powinno byÄ‡ problemem.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Shoebox" src="/images/gdtools/shoebox.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.codeandweb.com/texturepacker"&gt;TexturePacker&lt;/a&gt; PÅ‚atny&lt;/p&gt;
&lt;p&gt;Ostanie narzÄ™dzie to typowy packer pozwalajÄ…cy na stworzenie spritesheet'Ã³w lub atlasÃ³w tekstur. Dodatkowo program pozwala na optymalizacje assetÃ³w poprzez kompresje, co daje nam lÅ¼ejsze assety np. na komÃ³rkach, gdzie ekran jest mniejszy, przez co nie widaÄ‡ rÃ³Å¼nicy. Z programem wspÃ³Å‚pracuje sporo silnikÃ³w dostÄ™pnych na rynku, ale nie ma teÅ¼ problemu w napisaniu wÅ‚asnego importera.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category><category term="Tools"></category></entry><entry><title>2DXngine: aktualizacja po pierwszym tygodniu</title><link href="https://harunx9.github.io/2dxngine-aktualizacja-po-pierwszym-tygodniu.html" rel="alternate"></link><published>2017-03-10T19:40:00+01:00</published><updated>2017-03-10T19:40:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-10:/2dxngine-aktualizacja-po-pierwszym-tygodniu.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, jako, Å¼e mija pierwszy tydzieÅ„ developmentu naleÅ¼aÅ‚o by wrzuciÄ‡ jakiÅ› status update dotyczÄ…cy projektu konkursowego. Jak wiadomo poczÄ…tki sÄ… trudne. Instalacja bibliotek ciÄ…gÅ‚a siÄ™ w nieskoÅ„czonoÅ›Ä‡, ale w koÅ„cu siÄ™ udaÅ‚o. OgÃ³lna struktura projektu w Visual Studio wyglÄ…da nastÄ™pujÄ…co:
&lt;img alt="2DXngine struktura projektu" src="/images/engine_project.png"&gt; 
Tak jak napisaÅ‚em nie mam jakiÅ› alternatywnych build systemÃ³w, a â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, jako, Å¼e mija pierwszy tydzieÅ„ developmentu naleÅ¼aÅ‚o by wrzuciÄ‡ jakiÅ› status update dotyczÄ…cy projektu konkursowego. Jak wiadomo poczÄ…tki sÄ… trudne. Instalacja bibliotek ciÄ…gÅ‚a siÄ™ w nieskoÅ„czonoÅ›Ä‡, ale w koÅ„cu siÄ™ udaÅ‚o. OgÃ³lna struktura projektu w Visual Studio wyglÄ…da nastÄ™pujÄ…co:
&lt;img alt="2DXngine struktura projektu" src="/images/engine_project.png"&gt; 
Tak jak napisaÅ‚em nie mam jakiÅ› alternatywnych build systemÃ³w, a chciaÅ‚em mieÄ‡ testy, stÄ…d taka a nie inna struktura, poniewaÅ¼ w C++ testy odpalajÄ… siÄ™ normalnie z exe, a to co chcÄ™ testowaÄ‡ musi byÄ‡ bibliotekÄ…. JeÅ¼eli ma ktoÅ› inny pomysÅ‚ jak zrobiÄ‡ to lepiej to czekam, bo obecna konfiguracja idealna nie jest, ale pozwala pracowaÄ‡ w miarÄ™ stosujÄ…c TDD. Z tymi testami jeszcze zobaczymy jak bÄ™dzie, poniewaÅ¼ pewnie nie bÄ™dÄ™ w stanie przetestowaÄ‡ wszystkiego np. generowanie grafiki czy bardziej zÅ‚oÅ¼one interakcje. 
ZaimplementowaÅ‚em podstawowÄ… klasÄ™ aplikacji dla Windowsa. WyÅ›wietla ona okienko, inicjalizuje podstawowe zmienne, odpala pÄ™tle gÅ‚Ã³wnÄ… i bÄ™dzie podstawÄ… reszty silnika. Dodatkowo udaÅ‚o mi siÄ™ dodaÄ‡ service locator i timer.
W trakcie implementacji jest system GameObjectÃ³w i scen, poniewaÅ¼ te komponenty sÄ… od siebie zaleÅ¼ne muszÄ™ je na razie implementowaÄ‡ rÃ³wnolegle. Obecnie mocno dziaÅ‚am, aby skoÅ„czyÄ‡ implementacje systemu komponentÃ³w. Niestety blokuje mnie na razie to jak zrobiÄ‡ w C++ system rozpoznawania typÃ³w obiektÃ³w. Nie chcÄ™ uÅ¼ywaÄ‡ standardowego RTTI dlatego, Å¼e mÄ…drzejsi ode mnie twierdzÄ…, Å¼e wolne to i nie powinno siÄ™ w grach tego stosowaÄ‡. Mocno zagÅ‚Ä™biÅ‚em siÄ™ juÅ¼ w ten temat i znalazÅ‚em parÄ™ przykÅ‚adÃ³w implementacji, wiÄ™c myÅ›lÄ™, Å¼e na dniach uda mi siÄ™ to skoÅ„czyÄ‡ moÅ¼liwe, Å¼e nawet kiedy czytacie ten tekst system jest juÅ¼ w miarÄ™ ogarniÄ™ty. Poza tym kiedy uda mi siÄ™ to zrobiÄ‡ planujÄ™ artkuÅ‚Ã³w na ten temat, bo temat jest ciekawy i potrzebny.
Staram siÄ™ rÃ³wnieÅ¼ w miarÄ™ moÅ¼liwoÅ›ci aktualizowaÄ‡ &lt;a href="https://trello.com/b/wJGa7Jm5/2dxngine"&gt;tablice&lt;/a&gt; na trello. Na chwilÄ™ obecnÄ… pare taskÃ³w zyskaÅ‚o checklisty a parÄ™ nowych taskÃ³w dojdzie do implementacji.
Z rzeczy ktÃ³rych nie udaÅ‚o siÄ™ zrobiÄ‡ to niestety nie udaÅ‚o mi siÄ™ mierzyÄ‡ czasu na toggl jak poczÄ…tkowo planowaÅ‚em, wiÄ™c bÄ™dÄ™ musiaÅ‚ to zrobiÄ‡ od tej soboty, poniewaÅ¼ planuje, Å¼e tydzieÅ„ prac bÄ™dÄ™ liczyÅ‚ od soboty do piÄ…tku. &lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>OgÃ³lna architektura silnika - system scen</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-system-scen.html" rel="alternate"></link><published>2017-03-08T17:10:00+01:00</published><updated>2017-03-08T17:10:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-08:/ogolna-architektura-silnika-system-scen.html</id><summary type="html">&lt;p&gt;DziÅ›  trochÄ™ wiÄ™cej opowiem na temat wysokopoziomowych wzorcÃ³w stosowanych w grach komputerowych. Opisana poprzednio w artykule pÄ™tla gry jest bardzo nisko poziomowym elementem, mimo to jest niezbÄ™dna do implementacji dalszych podsystemÃ³w gry. System scen jest moim zdaniem drugim elementem, ktÃ³ry dobrze jest zaimplementowaÄ‡, aby grÄ™ moÅ¼na byÅ‚o w Å‚atwy sposÃ³b â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;DziÅ›  trochÄ™ wiÄ™cej opowiem na temat wysokopoziomowych wzorcÃ³w stosowanych w grach komputerowych. Opisana poprzednio w artykule pÄ™tla gry jest bardzo nisko poziomowym elementem, mimo to jest niezbÄ™dna do implementacji dalszych podsystemÃ³w gry. System scen jest moim zdaniem drugim elementem, ktÃ³ry dobrze jest zaimplementowaÄ‡, aby grÄ™ moÅ¼na byÅ‚o w Å‚atwy sposÃ³b rozwijaÄ‡.
Generalnie w implementacji chodzi o funkcjonalne podzielenie stanÃ³w aplikacji, co obrazuje poniÅ¼szy rysunek:&lt;/p&gt;
&lt;p&gt;&lt;img alt="stany gry" src="/images/scene_graph.png"&gt;&lt;/p&gt;
&lt;p&gt;Sama nazwa  "scena" wziÄ™Å‚a siÄ™ od tego, Å¼e grÄ™ komputerowÄ… moÅ¼na postrzegaÄ‡ jako pewno rodzaju przedstawienie, w ktÃ³rym obiekty na scenie sÄ… aktorami na planszy, ktÃ³ra jest dla nich swoistÄ… scenÄ…. Aby taki pomysÅ‚ w grze mÃ³gÅ‚ zaistnieÄ‡ potrzebujemy dwÃ³ch rzeczy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;manager scen - jest to trzon caÅ‚ego systemu (do niego dodajemy i usuwamy sceny); odatkowo powinien on zarzÄ…dzaÄ‡, ktÃ³rÄ… scenÄ™ naleÅ¼y uaktywniÄ‡,&lt;/li&gt;
&lt;li&gt;scena - bazowa abstrakcja z ktÃ³rej czerpiÄ… pozostaÅ‚e sceny; powinna ona posiadaÄ‡ moÅ¼liwoÅ›ci aktualizacji aktorÃ³w oraz ich rysowania.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MoÅ¼na takÅ¼e dodaÄ‡ do sceny Å‚adowanie specyficznej dla nich zawartoÅ›ci czy zapis ich stanu (choÄ‡ ta ostatnia opcja jest zbÄ™dna, jeÅ¼eli mamy sensowny system zapisu gry). Ja czÄ™sto robiÄ™ jeszcze parÄ™ dodatkowych abstrakcji np. UI Sceny czy Gameplay Sceny pozwalajÄ… one np. zaÅ‚adowaÄ‡ siÄ™ z pliku. Taka implementacja jest przydatna szczegÃ³lnie, jeÅ›li posiadamy w silniku edytor, ktÃ³ry wygeneruje dla nas odpowiednie zasoby.
CiekawÄ… opcja jest dodanie do sceny czegoÅ› na ksztaÅ‚ zachowaÅ„ odpalanych przed lub po aktualizacji stanu wszytkich obiektÃ³w na scenie. 
Takie podsystemy sceny moÅ¼na wykorzystaÄ‡ do np.:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wykrywania kolizji pomiÄ™dzy aktorami na scenie,&lt;/li&gt;
&lt;li&gt;naliczania czasowych bonusÃ³w/kar dla danych aktorÃ³w,&lt;/li&gt;
&lt;li&gt;interakcji pomiÄ™dzy aktorami,&lt;/li&gt;
&lt;li&gt;zbierania przedmiotÃ³w,&lt;/li&gt;
&lt;li&gt;cyklicznego zapisu stanu gry,&lt;/li&gt;
&lt;li&gt;Itdâ€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;System scen moÅ¼na jeszcze rozbudowaÄ‡ o manager aktorÃ³w, ktÃ³ry pozwoli na komfortowe ich wyszukiwanie w momencie kiedy bÄ™dÄ… nam do czegoÅ› potrzebni.  To tyle jeÅ›li chodzi o sceny i zarzÄ…dzanie nimi, w nastÄ™pnym poÅ›cie przejdÄ™ do game objectÃ³w. Na pewno temat bÄ™dÄ™ jeszcze rozbudowywaÅ‚ przy innych elementach silnika, ale na razie tyle powinno wystarczyÄ‡.  &lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>OgÃ³lna architektura silnika - pÄ™tla gry</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-petla-gry.html" rel="alternate"></link><published>2017-03-04T18:00:00+01:00</published><updated>2017-03-04T18:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-04:/ogolna-architektura-silnika-petla-gry.html</id><summary type="html">&lt;p&gt;Elementem, ktÃ³ry posiada kaÅ¼dy silnik do gier jest pÄ™tla gry. W skrÃ³cie jest to element, ktÃ³ry cyklicznie wykonuje caÅ‚Ä… logikÄ™ naszej gry. Wszystkie gry posiadajÄ… pewne staÅ‚e elementy, ktÃ³re muszÄ… byÄ‡ wykonane, aby caÅ‚oÅ›Ä‡ systemu dziaÅ‚aÅ‚a.&lt;/p&gt;
&lt;p&gt;W najwiÄ™kszym uproszczeniu gra co klatkÄ™ powinna:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sprawdziÄ‡ sygnaÅ‚y z urzÄ…dzeÅ„ wejÅ›cia,&lt;/li&gt;
&lt;li&gt;na podstawie â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Elementem, ktÃ³ry posiada kaÅ¼dy silnik do gier jest pÄ™tla gry. W skrÃ³cie jest to element, ktÃ³ry cyklicznie wykonuje caÅ‚Ä… logikÄ™ naszej gry. Wszystkie gry posiadajÄ… pewne staÅ‚e elementy, ktÃ³re muszÄ… byÄ‡ wykonane, aby caÅ‚oÅ›Ä‡ systemu dziaÅ‚aÅ‚a.&lt;/p&gt;
&lt;p&gt;W najwiÄ™kszym uproszczeniu gra co klatkÄ™ powinna:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sprawdziÄ‡ sygnaÅ‚y z urzÄ…dzeÅ„ wejÅ›cia,&lt;/li&gt;
&lt;li&gt;na podstawie tych sygnaÅ‚Ã³w wykonaÄ‡ logikÄ™ wszystkich obiektÃ³w uczestniczÄ…cych w grze,&lt;/li&gt;
&lt;li&gt;po wykonaniu logiki narysowaÄ‡ wszystko oraz wyÅ›wietliÄ‡ to uÅ¼ytkownikowi.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;W najprostszym ujÄ™ciu pseudokodu (wiem miaÅ‚o byÄ‡ bez kodu, ale siÄ™ nie da) powinno to wyglÄ…d tak:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;HandleInput&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;Update&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;Draw&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;If&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exitCondition&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="n"&gt;Exit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W takim ujÄ™ciu pÄ™tla wykona siÄ™ tyle razy ile pozwoli na to procesor. Takiej sytuacji chcemy uniknÄ…Ä‡, poniewaÅ¼ w grze wiele rzeczy opiera siÄ™ o upÅ‚yw czasu musimy, wiÄ™c obliczyÄ‡ ile czasu upÅ‚ynÄ™Å‚o nam pomiÄ™dzy kolejnymi klatkami. Gry najczÄ™Å›ciej dziaÅ‚ajÄ… w 60 fps lub w 30 fps, czyli na klatkÄ™ mamy 16 ms lub 30 ms. Aby zmierzyÄ‡ czas powinniÅ›my zaimplementowaÄ‡ timer, ktÃ³ry zmierzy nam czas pomiÄ™dzy kolejnymi klatkami. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;timeStep&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;/&lt;/span&gt; &lt;span class="m"&gt;30f&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;30f&lt;/span&gt;&lt;span class="n"&gt;ps&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;or&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt; &lt;span class="m"&gt;60&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;60f&lt;/span&gt;&lt;span class="n"&gt;ps&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;accumulator&lt;/span&gt;  &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;deltaTime&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ElapsedTime&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;accumulator&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;accumulator&lt;/span&gt; &lt;span class="p"&gt;+&lt;/span&gt; &lt;span class="n"&gt;deltaTime&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;HandleInput&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;accumulator&lt;/span&gt; &lt;span class="p"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;_timeStep&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;deltaTime&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;accumulator&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;accumulator&lt;/span&gt; &lt;span class="p"&gt;-&lt;/span&gt; &lt;span class="n"&gt;deltaTime&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;Draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;deltaTime&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;If&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exitCondition&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="n"&gt;Exit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;DziÄ™ki zastosowaniu timera w powyÅ¼szym kodzie update wykona siÄ™ tylko przy zdefiniowanym kroku czasu. Aby mieÄ‡  pewnoÅ›Ä‡, Å¼e czas pÅ‚ynie bardzo dokÅ‚adnie stosuje siÄ™ inne sztuczki. Mnie jednak nie byÅ‚o to nigdy potrzebne, gdyby jednak kogoÅ› to mega interesowaÅ‚o to polecam artykuÅ‚ &lt;a href="http://gafferongames.com/game-physics/fix-your-timestep/"&gt;TU&lt;/a&gt; tam znajdziecie jeszcze wiÄ™cej sposobÃ³w odmierzania czasu w pentli gry. Dodam jeszcze, Å¼e czÄ™sto nie bÄ™dziecie musieli pisaÄ‡ kodu pÄ™tli gry, poniewaÅ¼ wiÄ™kszoÅ›Ä‡ frameworkÃ³w czy bibliotek (Monogame, LibGDX, Phaser.js, itp.) posiada juÅ¼ wÅ‚asnÄ… implementacje. Mimo to warto wiedzieÄ‡ co znajduje siÄ™ w bebechach, Å¼eby zrozumieÄ‡ wysokopoziomowÄ… logikÄ™. To tyle, kolejny wpis przejdzie na nieco wyÅ¼szy poziom abstrakcji w implementowaniu wÅ‚asnego silnika.&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>2DXngine: start projektu</title><link href="https://harunx9.github.io/2dxngine-start-projektu.html" rel="alternate"></link><published>2017-03-01T16:00:00+01:00</published><updated>2017-03-01T16:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-03-01:/2dxngine-start-projektu.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡,
Jako, Å¼e "Daj SiÄ™ PoznaÄ‡ 2017" dziÅ› wystartowaÅ‚o, to ja rÃ³wnieÅ¼ chciaÅ‚bym wystartowaÄ‡ z projektem konkursowmym.
Po dÅ‚ugim namyÅ›le zdecydowaÅ‚em siÄ™ na napisanie silnika w C++. Zanim przejdÄ™ do pokazania co zrobiÅ‚em, chciaÅ‚em po krÃ³tce  okreÅ›liÄ‡ ramy projektu.  Napisanie kompletnego silnika z edytorem w czasie 3 miesiÄ™cy z moim â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡,
Jako, Å¼e "Daj SiÄ™ PoznaÄ‡ 2017" dziÅ› wystartowaÅ‚o, to ja rÃ³wnieÅ¼ chciaÅ‚bym wystartowaÄ‡ z projektem konkursowmym.
Po dÅ‚ugim namyÅ›le zdecydowaÅ‚em siÄ™ na napisanie silnika w C++. Zanim przejdÄ™ do pokazania co zrobiÅ‚em, chciaÅ‚em po krÃ³tce  okreÅ›liÄ‡ ramy projektu.  Napisanie kompletnego silnika z edytorem w czasie 3 miesiÄ™cy z moim obecnym stanem wiedzy o C++ jest nierealne, wiÄ™c  ograniczyÅ‚em zakres prac tak, aby udaÅ‚o siÄ™ zrobiÄ‡ coÅ› dziaÅ‚ajÄ…cego. 
Do implementacji tzw.  "must have" powinny wejÅ›Ä‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;game objecty z component modelem,&lt;/li&gt;
&lt;li&gt;bazowe komponenty,&lt;/li&gt;
&lt;li&gt;system scen,&lt;/li&gt;
&lt;li&gt;system sztucznej inteligencji oparty na drzewach zachowaÅ„,&lt;/li&gt;
&lt;li&gt;asset loader,&lt;/li&gt;
&lt;li&gt;obsÅ‚uga dÅºwiÄ™ku i muzyki,&lt;/li&gt;
&lt;li&gt;renderer 2D pozwalajÄ…cy na obsÅ‚ugÄ™ shaderÃ³w GLSL,&lt;/li&gt;
&lt;li&gt;wczytywanie animacji poklatkowych,&lt;/li&gt;
&lt;li&gt;prosty system fizyki i/lub integracja z Box2D,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PrzygotowaÅ‚em jeszcze takie rzeczy z kategorii "nice to have" (gdy uda mi siÄ™ zaimplementowaÄ‡ rzeczy z powyÅ¼szej listy):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wczytywanie mapy z plikÃ³w Tmx generowanych przez edytor Tiled,&lt;/li&gt;
&lt;li&gt;moÅ¼liwoÅ›Ä‡ pracowania z Tiled w trybie livereload,&lt;/li&gt;
&lt;li&gt;kompilator assetÃ³w pozwalajÄ…cy je pakowaÄ‡ w zdefiniowane paczki,&lt;/li&gt;
&lt;li&gt;streaming poziomÃ³w pozwalajÄ…cy doczytywaÄ‡ dynamiczne dane (pozwoli to na wyeliminowanie doczytywania pomiÄ™dzy lokacjami),&lt;/li&gt;
&lt;li&gt;integracja z jÄ™zykiem skryptowym Lua.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ze wszystkich "nice to have" najfajniej byÅ‚o by zrobiÄ‡ te z Tiledem oraz skryptowanie Lua, ale zobaczymy jak mi pÃ³jdzie.
KolejnÄ… fajnÄ… rzeczÄ… byÅ‚a by wielowÄ…tkowa pÄ™tla gry z render commandami, ale to juÅ¼ wyÅ¼sza szkoÅ‚a jazdy i na pewno teraz nie dam rady tego zaimplementowaÄ‡. 
Jako, Å¼e projekt startuje nie bÄ™dzie w tym poÅ›cie za duÅ¼o kodu raczej opowiem o tym co i jak bÄ™dÄ™ robiÅ‚. 
Po pierwsze link do repo na github jest -&amp;gt; &lt;a href="https://github.com/Harunx9/2DXngine"&gt;TU&lt;/a&gt;. 
Druga sprawa to taka krÃ³tka prezentacja bibliotek z ktÃ³rych bÄ™dÄ™ korzystaÅ‚:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SDL2 - jest to bibliotek uÅ‚atwiajÄ…ca wiele spraw mutliplatformowych takich jak korzystanie z systemu plikÃ³w, wyÅ›wietlanie okienka, proste rysowanie 2D, przechwytywanie inputu z urzÄ…dzeÅ„ wskazujÄ…cych itd. Generalnie jest to taki toolbox pomagajÄ…cy pisaÄ‡ mniej kodu. Po wiÄ™cej odsyÅ‚am do dokumentacji -&amp;gt; &lt;a href="https://wiki.libsdl.org/FrontPage"&gt;TU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Glm - biblioteka matematyczna udostÄ™pniona przez G-Truc Creations  -&amp;gt; &lt;a href="https://www.opengl.org/sdk/libs/GLM/"&gt;TU&lt;/a&gt;. Jest to lib typu single header wiÄ™c wystarcza jeden plik nagÅ‚Ã³wkowy aby jej uÅ¼ywaÄ‡. Dodatkowo zawiera ona wszystkie typy matematyczne takie jak macierze czy wektory ktÃ³re potrzebne sÄ… w pracy z opengl.&lt;/li&gt;
&lt;li&gt;GLEW - bibliotek pozwalajÄ…ca pisaÄ‡ multiplatformowy kod OpenGl. Teoretycznie do renderowania grafiki mÃ³gÅ‚bym uÅ¼yÄ‡ tego co daje mi SDL2, ale musiaÅ‚bym zrezygnowaÄ‡ z shaderÃ³w. Ze wzgleu na to, Å¼e shadery dajÄ… fajne moÅ¼liwoÅ›ci do robienia efektÃ³w specjalnych renderer 2D zaimplementujÄ™ sam co pozwoli na skorzystanie z caÅ‚oÅ›ci API OpenGL 4+.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Z ciekawych rzeczy myÅ›laÅ‚em aby uÅ¼yÄ‡ jakiegoÅ› multiplatformowego build systemu np. Cmake czy Scons. Po namyÅ›le stwierdziÅ‚em jednak, Å¼e na razie bÄ™dÄ™ uÅ¼ywaÅ‚ tego co oferuje w temacie Visual Studio 2015, czyli MSBuild. JeÅ›li w przyszÅ‚oÅ›ci zajdzie taka potrzeba sprÃ³buje coÅ› zmieniÄ‡ w tym temacie.
KolejnÄ… sprawÄ… jest jakoÅ›Ä‡ kodu. Postaram siÄ™ z mojej strony wykorzystywaÄ‡ nowoÅ›ci jÄ™zyka C++ a, Å¼e jest ich sporo to pewnie nieraz bÄ™dÄ™ siÄ™ zastanawiaÅ‚ co wybraÄ‡. 
DrugÄ… sprawÄ… w temacie jakoÅ›ci jest pisanie kodu zgodnie z zasadami Data-Oriented Design. JeÅ¼eli ktoÅ› nie wie o czym mÃ³wiÄ™ polecam obejrzeÄ‡ tÄ… prezentacje -&amp;gt; &lt;a href="https://www.youtube.com/watch?v=rX0ItVEVjHc"&gt;TU&lt;/a&gt;. 
W telegraficznym skrÃ³cie chodzi o to, aby tworzyÄ‡ kod przyjazny dla cache naszego procesora a nie koniecznie z zasadami SOLID. Pozwala to bardzo mocno zoptymalizowaÄ‡ czas wykonania algorytmÃ³w. Jak sam siÄ™ poduczÄ™ tego to napiszÄ™ o tym jakiÅ› osobny wpis. 
OstatniÄ… sprawÄ… jest moja potrzeba porzÄ…dkowania i mierzenia swojej pracy. Zobaczymy jak to pÃ³jdzie ale engine bÄ™dzie miaÅ‚ taki quasi kanbanowy board na Trello bÄ™dÄ™ siÄ™ staraÅ‚ tam wypisywaÄ‡ taski jakie realizuje -&amp;gt; &lt;a href="https://trello.com/b/wJGa7Jm5/2dxngine"&gt;TU&lt;/a&gt;. Poza tym po pierwszym miesiÄ…cu postaram siÄ™ zdaÄ‡ raport ile godzin udaÅ‚o mi siÄ™ zainwestowaÄ‡ w rozwÃ³j silnika.
To chyba na tyle w tym tygodniu postaram siÄ™ pospinaÄ‡ biblioteki uporzÄ…dkowaÄ‡ repo i zrobiÄ‡ jakieÅ› takie podstawy na ktÃ³rych potem bÄ™dziemy budowaÄ‡ resztÄ™ silnika.&lt;/p&gt;
&lt;p&gt;PS. Taski na Trello sÄ… na razie bardzo ogÃ³le podejrzewam, Å¼e jak bÄ™dÄ™ implementowaÅ‚ konkretny feature to to jakoÅ› podzielÄ™.&lt;/p&gt;</content><category term="DSP2017"></category><category term="2DXngine"></category></entry><entry><title>OgÃ³lna architektura silnika - start</title><link href="https://harunx9.github.io/ogolna-architektura-silnika-start.html" rel="alternate"></link><published>2017-02-27T01:00:00+01:00</published><updated>2017-02-27T01:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-02-27:/ogolna-architektura-silnika-start.html</id><summary type="html">&lt;p&gt;Jak juÅ¼ pisaÅ‚em wczeÅ›niej chciaÅ‚bym tego bloga poprowadziÄ‡ bardziej w stronÄ™ tematÃ³w zwiÄ…zanych z tworzeniem gier komputerowych. ZacznÄ™ od ogÃ³lnej architektury, czyli tego jak ja bym wydziaÅ‚ to jak zaimplementowaÄ‡ silnik. DoÅ›wiadczenia moÅ¼e nie mam duÅ¼ego, ale juÅ¼ parÄ™ mniejszych gierek napisaÅ‚em z lepszym lub gorszym skutkiem, wiÄ™c wyciÄ…gnoÅ‚em jakieÅ› â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Jak juÅ¼ pisaÅ‚em wczeÅ›niej chciaÅ‚bym tego bloga poprowadziÄ‡ bardziej w stronÄ™ tematÃ³w zwiÄ…zanych z tworzeniem gier komputerowych. ZacznÄ™ od ogÃ³lnej architektury, czyli tego jak ja bym wydziaÅ‚ to jak zaimplementowaÄ‡ silnik. DoÅ›wiadczenia moÅ¼e nie mam duÅ¼ego, ale juÅ¼ parÄ™ mniejszych gierek napisaÅ‚em z lepszym lub gorszym skutkiem, wiÄ™c wyciÄ…gnoÅ‚em jakieÅ› wnioski i postaram siÄ™ je zaprezentowaÄ‡. JeÅ¼eli ktoÅ› z was ma jakieÅ› ciekawe przemyÅ›lenia to liczÄ™ na dyskusjÄ™. CaÅ‚oÅ›Ä‡ podzielÄ™ na kilka artykuÅ‚Ã³w, aby Å‚atwiej siÄ™ byÅ‚o odnaleÅºÄ‡, dodatkowo przykÅ‚ady postaram oprzeÄ‡ nie o kod a o rysunki, poniewaÅ¼ to o czym bÄ™dÄ™ pisaÅ‚ jest niezaleÅ¼ne od jÄ™zyka czy paradygmatu programowania.
Lista tematÃ³w:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://harunx9.github.io/ogolna-architektura-silnika-petla-gry.html"&gt;pÄ™tla gry&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://harunx9.github.io/ogolna-architektura-silnika-system-scen.html"&gt;system scen&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;system encji/GameObject'Ã³w,&lt;/li&gt;
&lt;li&gt;system zawartoÅ›ci,&lt;/li&gt;
&lt;li&gt;sztuczna inteligencja,&lt;/li&gt;
&lt;li&gt;dÅºwiÄ™ki i muzyka.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ps. Posty z tej serii zacznÄ… ukazywaÄ‡ siÄ™ juÅ¼ w tym tygodniu&lt;/p&gt;</content><category term="DSP2017"></category><category term="Gamedev"></category></entry><entry><title>Co dalej</title><link href="https://harunx9.github.io/co-dalej.html" rel="alternate"></link><published>2017-02-18T00:00:00+01:00</published><updated>2017-02-18T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2017-02-18:/co-dalej.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, 
Wiem, Å¼e dawno nie byÅ‚o Å¼adnych postÃ³w. MusiaÅ‚em nieco przemyÅ›leÄ‡ to czym chce siÄ™ dalej na blogu zajmowaÄ‡.
Z moich przemyÅ›leÅ„ wynikajÄ… nastÄ™pujÄ…ce decyzje. 
Po pierwsze chciaÅ‚bym tworzyÄ‡ wpisy w znacznej czÄ™Å›ci poÅ›wiÄ™cone tworzeniu gier komputerowych.
Co do Akka.NET i C++ to postaram siÄ™ jÄ… w miarÄ™ moÅ¼liwoÅ›ci â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, 
Wiem, Å¼e dawno nie byÅ‚o Å¼adnych postÃ³w. MusiaÅ‚em nieco przemyÅ›leÄ‡ to czym chce siÄ™ dalej na blogu zajmowaÄ‡.
Z moich przemyÅ›leÅ„ wynikajÄ… nastÄ™pujÄ…ce decyzje. 
Po pierwsze chciaÅ‚bym tworzyÄ‡ wpisy w znacznej czÄ™Å›ci poÅ›wiÄ™cone tworzeniu gier komputerowych.
Co do Akka.NET i C++ to postaram siÄ™ jÄ… w miarÄ™ moÅ¼liwoÅ›ci dokoÅ„czyÄ‡, ale zmiana kierunku bÄ™dzie bardziej widoczna. MusiaÅ‚em podjÄ…Ä‡ takie kroki,
poniewaÅ¼ nie byÅ‚em zadowolony z tego co do tej pory publikowaÅ‚em. Co jakiÅ› czas postaram siÄ™ napisaÄ‡ to czy tamto na temat web developmentu, ale tylko i
wyÅ‚Ä…cznie jak bÄ™dÄ™ miaÅ‚ temat, ktÃ³ry mnie personalnie zainteresowaÅ‚.
DrugÄ… sprawÄ… jest  tegoroczna edycja konkursu  "Daj siÄ™ poznaÄ‡" organizowana przez Macieja Aniserowicza. Zostawiam link dla zainteresowanych -&amp;gt; &lt;a href="http://devstyle.pl/daj-sie-poznac/"&gt;TU&lt;/a&gt;. W
duÅ¼ym skrÃ³cie myÅ›laÅ‚em, aby podjÄ…Ä‡ rÄ™kawice i sprÃ³bowaÄ‡ zawalczyÄ‡ (przy okazji "zmusiÄ‡ siÄ™" do odÅ›wieÅ¼enia C++). Co do projektu,
ktÃ³ry miaÅ‚bym realizowaÄ‡ to mam kilka pomysÅ‚Ã³w:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Silnik 2D do tworzenia gier komputerowych C/C++ lub Rust&lt;/li&gt;
&lt;li&gt;Tool do pakowania SpriteSheet'Ã³w C#&lt;/li&gt;
&lt;li&gt;Tool do edycji plansz 2D C#&lt;/li&gt;
&lt;li&gt;Tool do animacji szkieletowej C#&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wyboru dokonam koÅ„cem miesiÄ…ca o czym napisze z dokÅ‚adnym opisem zakresu funkcjonalnego. Nie bÄ™dÄ™ ukrywaÅ‚, Å¼e najbardziej interesuje mnie pierwszy temat, ale musze
przemyÅ›leÄ‡ czy zakres mnie nie przeroÅ›nie. To tyle do koÅ„ca tego miesiÄ…ca powinny pojawiÄ‡ siÄ™ jeszcze jakieÅ› posty, ale jeszcze nie wiem z jakÄ… czÄ™stotliwoÅ›ciÄ…. &lt;/p&gt;</content><category term="blog"></category><category term="inne"></category></entry><entry><title>Akka.NET: Instalacja i obowiÄ…zkowy â€œHello worldâ€</title><link href="https://harunx9.github.io/akkanet-instalacja-i-obowiazkowy-hello-world.html" rel="alternate"></link><published>2016-12-06T00:00:00+01:00</published><updated>2016-12-06T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-12-06:/akkanet-instalacja-i-obowiazkowy-hello-world.html</id><summary type="html">&lt;p&gt;JakiÅ› czas temu pisaÅ‚em na temat aktor model z perspektywy pracy z nim. Osoby, ktÃ³re spotykajÄ… siÄ™ z tym tematem po raz pierwszy odsyÅ‚am do poprzedniego posta.
W tej serii mam zamiar przedstawiÄ‡ Wam Akka.NET, czy port aktor modelu prosto z JVM. ZabawÄ™ zaczniemy od prostego â€œHello worldâ€. W â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;JakiÅ› czas temu pisaÅ‚em na temat aktor model z perspektywy pracy z nim. Osoby, ktÃ³re spotykajÄ… siÄ™ z tym tematem po raz pierwszy odsyÅ‚am do poprzedniego posta.
W tej serii mam zamiar przedstawiÄ‡ Wam Akka.NET, czy port aktor modelu prosto z JVM. ZabawÄ™ zaczniemy od prostego â€œHello worldâ€. W  pÃ³Åºniejszym czasie stworzymy w Akka nowy projekt konsolowy.
Instalacja Akka w konsoli Package Manager wyglÄ…da nastÄ™pujÄ…co:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Install-Package&lt;/span&gt; &lt;span class="n"&gt;akka&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak wszystko zrobiliÅ›my poprawnie to powinniÅ›my mieÄ‡ zainstalowanÄ… w projekcie bibliotekÄ™ Akka i jej zaleÅ¼noÅ›ci. Zaczniemy nieco od tyÅ‚u, poniewaÅ¼ zdefiniujemy wiadomoÅ›Ä‡, ktÃ³rÄ… nasz pierwszy aktor otrzyma:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloWorldMsg&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;HelloWorldMsg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tak skonstruowany komunikat powinien speÅ‚niaÄ‡ zaÅ‚oÅ¼enie o niezmiennoÅ›ci wiadomoÅ›ci. Istnieje jeszcze jeden sposÃ³b napisania obiektu readonly, ale na razie taka forma powinna nam wystarczyÄ‡. PrzejdÅºmy teraz do setupu aktora, ktÃ³ry bÄ™dzie odbieraÅ‚ nasze wiadomoÅ›ci. 
Akka posiada 3 typy podstawowe dla aktorÃ³w: ReceiveActor, TypedActor, UntypedActor. Do naszego â€œHello worldâ€ uÅ¼yjemy ReceiveActor :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloWorldActor&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ReceiveActor&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;HelloWorldActor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Receive&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;HelloWorldMsg&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;KaÅ¼dy aktor w systemie musi dziedziczyÄ‡ po jednym z dwÃ³ch wymienionych wyÅ¼ej typÃ³w. Receive dziaÅ‚a w taki sposÃ³b, iÅ¼ rejestrujemy za pomocÄ… generycznej funkcji Receive&lt;T&gt;(Action&lt;T&gt; handler) typ wiadomoÅ›ci i reakcjÄ™ na to kiedy dany typ przyjdzie do aktora. W naszym przypadku jest to wypisanie na ekran konsoli tego co przyszÅ‚o w property Message w naszej powitalnej wiadomoÅ›ci. Aby skorzystaÄ‡ z naszego przygotowanego aktora naleÅ¼y skonstruowaÄ‡ funkcjÄ™ main w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;system&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ActorSystem&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;TutorialSystem&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;actor&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ActorOf&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;HelloWorldAcxtor&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HelloActor&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;actor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Tell&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;HelloWorldMsg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello actor system world&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

        &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ReadKey&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JeÅ¼eli wszytko poszÅ‚o zgodnie z planem to powinniÅ›my otrzymaÄ‡ w naszej konsoli wypisane "Hello actor system world". W tym pierwszym wprowadzajÄ…cym poÅ›cie to na tyle. W kolejnym zajmiemy siÄ™ moÅ¼liwoÅ›ciami komunikacji z aktorami oraz tworzeniem nieco wiÄ™kszej ich liczby. &lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term="actror model"></category><category term="Akka.NET"></category><category term="Akka"></category></entry><entry><title>C/C++: Instrukcje warunkowe if i switch</title><link href="https://harunx9.github.io/cc-instrukcje-warunkowe-if-i-switch.html" rel="alternate"></link><published>2016-11-29T01:00:00+01:00</published><updated>2016-11-29T01:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-11-29:/cc-instrukcje-warunkowe-if-i-switch.html</id><summary type="html">&lt;p&gt;ZdajÄ™ sobie sprawÄ™ z tego,Å¼e ostatni post byÅ‚ nieco przydÅ‚ugi i zostaÅ‚o w nim przekazane wiÄ™cej elementÃ³w, dlatego zdecydowaÅ‚em siÄ™ na nieco mniejsze objÄ™toÅ›ciowo posty (jeÅ¼eli jakiÅ› temat bÄ™dzie nieco dÅ‚uÅ¼szy to podzielÄ™ go na kilka postÃ³w, zamiast staraÄ‡ siÄ™ upchaÄ‡ wszystko razem). 
W trzeciej juÅ¼ czÄ™Å›ci artykuÅ‚Ã³w  o â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ZdajÄ™ sobie sprawÄ™ z tego,Å¼e ostatni post byÅ‚ nieco przydÅ‚ugi i zostaÅ‚o w nim przekazane wiÄ™cej elementÃ³w, dlatego zdecydowaÅ‚em siÄ™ na nieco mniejsze objÄ™toÅ›ciowo posty (jeÅ¼eli jakiÅ› temat bÄ™dzie nieco dÅ‚uÅ¼szy to podzielÄ™ go na kilka postÃ³w, zamiast staraÄ‡ siÄ™ upchaÄ‡ wszystko razem). 
W trzeciej juÅ¼ czÄ™Å›ci artykuÅ‚Ã³w  o C++ omÃ³wimy dwie konstrukcje tego jÄ™zyka. Jako pierwszÄ… na tapetÄ™ weÅºmiemy konstrukcje warunkowÄ… if..else. Instrukcja sÅ‚uÅ¼y do rozgaÅ‚Ä™ziania naszego kodu w zaleÅ¼noÅ›ci od speÅ‚nionego warunku. Podstawowa konstrukcja ma nastÄ™pujÄ…cÄ… budowÄ™:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;warunek&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//kod wykona siÄ™, jeÅ¼eli warunek jest prawdziwy&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="c1"&gt;//kod wykona siÄ™, jeÅ¼eli warunek nie jest prawdziwy&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Przyjrzyjmy siÄ™ na poniÅ¼szy przykÅ‚ad: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;masz mniej niz 20 lat&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;masz 20 lub wiecej lat&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;PowyÅ¼szy kod wypisze â€œmasz mniej niÅ¼ 20 latâ€, poniewaÅ¼ zmienna age ma przypisanÄ… wartoÅ›Ä‡ 18. W ramach instrukcji warunkowej if moÅ¼emy kolejne wywoÅ‚ania if deklarowaÄ‡ bezpoÅ›rednio po else:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;masz mniej niz 20 lat&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;masz 20 lat&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;masz 20 lub wiecej lat&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W tym przypadku prawdziwy jest Å›rodkowy warunek, czyli â€œage == 20â€, wiÄ™c do konsoli zostanie wpisany tekst â€œmasz 20 latâ€. W C/C++ uÅ¼ywana jest jeszcze jedna konstrukcja warunkowa a mianowicie switch. Podstawowa jej budowa wyglÄ…da w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;elem1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;// kod wykona siÄ™ , jeÅ¼eli element input jest rÃ³wny elem1&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;elem&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;// kod wykona siÄ™, jeÅ¼eli element input jest rÃ³wny elem2&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;// kod wykona siÄ™, jeÅ¼eli element input nie &lt;/span&gt;
        &lt;span class="c1"&gt;//zostaÅ‚ dopasowany z Å¼adnym elementem powyÅ¼ej&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Popatrzmy na kolejny przykÅ‚ad:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;item_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Nie masz zadnych przedmiotow&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Masz 1 przedmiot&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Masz 2 przedmioty&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Masz wiÄ™cej niÅ¼ 2 przedmioty&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;W tym przypadku na konsole zostanie wypisany tekst â€œMasz 2 przedmiotyâ€, poniewaÅ¼ zmienna item_count ma wpisanÄ… wartoÅ›Ä‡ 2. SprÃ³buj sam zmieniÄ‡ wartoÅ›Ä‡ zmiennej item_count, aby zobaczyÄ‡ rÃ³Å¼nice kiedy bÄ™dzie posiadaÅ‚a wartoÅ›Ä‡ 0, 1, oraz 3 i wiÄ™cej.
Konstrukcja switch jest jednak najczÄ™Å›ciej wykorzystywana z typem wyliczeniowym, czyli â€œenumâ€. Enum tak w najwiÄ™kszym uproszczeniu pozwala na nazwanie nam liczb, ktÃ³re majÄ… znaczenie w naszej logice. Typ enum konstruujemy w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;NazwaTypu&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Opcja1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;Opcja2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;Opcja3&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;PrzykÅ‚adem niech bÄ™dzie wypisanie typu broni w grze:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="n"&gt;WeaponType&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;MELLE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;RANGE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;THROW&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;WeaponType&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;WeaponType&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;RANGE&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;WeaponType&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;MELLE&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Bron do walki w zwarciu&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;WeaponType&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;RANGE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Bron do walki zasiegowej&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;WeaponType&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;THROW&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Bron rzucana&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;W duÅ¼ej grze taki kod oczywiÅ›cie nie miaÅ‚by racji bytu, ale dla unaocznienia jak dziaÅ‚a typ wyliczeniowy nadaje siÄ™ jak najbardziej. W tym poÅ›cie to byÅ‚oby na tyle do zobaczenia w kolejnej czÄ™Å›ci kursu C/C++&lt;/p&gt;</content><category term="blog"></category><category term="tutorial"></category><category term="programming"></category></entry><entry><title>O actor model z perspektywy paru miesiÄ™cy pracy</title><link href="https://harunx9.github.io/o-actor-model-z-perspektywy-paru-miesiecy-pracy.html" rel="alternate"></link><published>2016-11-13T00:00:00+01:00</published><updated>2016-11-13T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-11-13:/o-actor-model-z-perspektywy-paru-miesiecy-pracy.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡. Jako, Å¼e od pewnego czasu actor model staje siÄ™ coraz bardziej popularny w technologii .NET chciaÅ‚em nieco wiÄ™cej opowiedzieÄ‡ o pracy z takim rozwiÄ…zaniem. 
W pierwszym poÅ›cie chciaÅ‚em wprowadziÄ‡ nieco moich przemyÅ›leÅ„ i teorii bez kodu. 
Gdyby zdarzyÅ‚o siÄ™ tak, iÅ¼, jeszcze nie wiesz co to jest actor model â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡. Jako, Å¼e od pewnego czasu actor model staje siÄ™ coraz bardziej popularny w technologii .NET chciaÅ‚em nieco wiÄ™cej opowiedzieÄ‡ o pracy z takim rozwiÄ…zaniem. 
W pierwszym poÅ›cie chciaÅ‚em wprowadziÄ‡ nieco moich przemyÅ›leÅ„ i teorii bez kodu. 
Gdyby zdarzyÅ‚o siÄ™ tak, iÅ¼, jeszcze nie wiesz co to jest actor model to na poczÄ…tek moÅ¼e nieco przedstawiÄ™ skÄ…d to siÄ™ wziÄ™Å‚o. CaÅ‚a architektura actor model opiera siÄ™ (na co wskazuje sama nazwa) na aktorach. W wielkim skrÃ³cie kaÅ¼dy, aktor jest jakby osobnym wÄ…tkiem, natomiast sam w sobie jest jednowÄ…tkowy. PoszczegÃ³lni aktorzy komunikujÄ… siÄ™ ze sobÄ… za pomocÄ… komunikatÃ³w, jeÅ¼eli dany komunikat dotrze do aktora jest odkÅ‚adany do skrzynki odbiorczej adresata, po czym jeÅ¼eli aktor nie ma co robiÄ‡, a w skrzynce znajdujÄ… siÄ™ komunikaty to bierze kolejny i przetwarza. 
Sam pomysÅ‚ na takie podejÅ›cie nie jest czymÅ› nowym, bo pojawiÅ‚ siÄ™ juÅ¼ dawno jako czÄ™Å›Ä‡ funkcyjnego jÄ™zyka Erlang i nie zdobyÅ‚ on specjalnego uznania. Obecnie ta koncepcja powraca z paru powodÃ³w: po pierwsze, tworzymy coraz wiÄ™kszy software, ktÃ³ry musi byÄ‡ skalowany, zarÃ³wno w kontekÅ›cie chmury jak i procesorÃ³w multicore; po drugie, coraz wiÄ™ksza popularyzacja DDD oraz CQRS/ES do implementacji, ktÃ³rych actor model wydaje siÄ™ wprost stworzony; po trzecie modne ostatnio podejÅ›cie Rx. Co do technologii, ktÃ³re oferujÄ… takie podejÅ›cie actor model, to jest ich kilka i istniejÄ… implementacje nawet do jÄ™zyka C/C++. Ze wzglÄ™du na zawodowe doÅ›wiadczenie w dalszych artykuÅ‚ach bÄ™dÄ™ pokazywaÅ‚ bibliotekÄ™ Akka.NET, ktÃ³ra jest w linii prostej portem identycznego rozwiÄ…zania ze Å›wiata Scali(JVM). W samym .NET istnieje jeszcze implementacja MS czyli Orleans, ale nie bÄ™dÄ™ o niej siÄ™ wypowiadaÅ‚ ze wzglÄ™du na brak wiedzy. Do czego wiÄ™c caÅ‚y taki actor model siÄ™ nadaje. WedÅ‚ug mnie oraz moich doÅ›wiadczeÅ„ to actor model nadaje siÄ™ do :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DDD &lt;/li&gt;
&lt;li&gt;CQRS/ES&lt;/li&gt;
&lt;li&gt;Analiza/Wyszukiwanie  duÅ¼ych zbiorÃ³w danych&lt;/li&gt;
&lt;li&gt;Elementy serwerowe dla gier komputerowych&lt;/li&gt;
&lt;li&gt;Systemy obliczeniowe oparte na wielowÄ…tkowoÅ›ci&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pewnie znalazÅ‚oby siÄ™ jeszcze coÅ›, poniewaÅ¼ im bardziej zapoznaje siÄ™ z tym rozwiÄ…zaniem tym wiÄ™cej widzÄ™ jego zastosowaÅ„. Jedyne do czego nie polecam actor modelu to aplikacje CRUDâ€™owe. W przypadku gdy twÃ³j system jest tylko nakÅ‚adkÄ… na bazÄ™ danych i nie ma w nim Å¼adnych procesÃ³w biznesowych to ubranie go w actor system moÅ¼e go tylko niepotrzebnie skomplikowaÄ‡, bez dodatkowych benefitÃ³w.
ZaÅ‚Ã³Å¼my jednak, Å¼e  twÃ³j system obsÅ‚uguje jakieÅ› procesy biznesowe, a do tej pory jest CRUDâ€™em lub co gorsza spaghetti systemem, to jak najbardziej warto zainteresowaÄ‡ siÄ™ actor modelem. Aby praca z takim rozwiÄ…zaniem nie byÅ‚a drogÄ… przez mÄ™kÄ™ na samym poczÄ…tku naleÅ¼y zapoznaÄ‡ siÄ™ z pewnymi koncepcjami, ktÃ³re nieco usprawniÄ… pracÄ™, a mianowicie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;niezmiennoÅ›Ä‡ (immutability) - bardzo czÄ™sto w naszych aplikacjach posiadamy tzw. stan wspÃ³Å‚dzielony. Jest on realizowany na wiele sposobÃ³w np. singleton czy zmienne globalne. ZakÅ‚adajÄ…c, iÅ¼ actor model jest wielowÄ…tkowy to co do niego wysyÅ‚amy musi byÄ‡ niezmienne, poniewaÅ¼ wspÃ³Å‚dzielony zmienny stan jest wrogiem jakiejkolwiek wielowÄ…tkowoÅ›ci.&lt;/li&gt;
&lt;li&gt;grafy - jest to nieco zbyt uogÃ³lnione, ale aktor model moÅ¼na przedstawiÄ‡ w postaci drzewa, gdzie mamy gÅ‚Ã³wne miejsce dostÄ™powe, natomiast poszczegÃ³lne elementy przetwarzania sÄ… w nim rozmieszone coraz gÅ‚Ä™biej i nie sÄ… dostÄ™pne z zewnÄ…trz.&lt;/li&gt;
&lt;li&gt;asynchronicznoÅ›Ä‡ odpowiedzi - w normalnych systemach flow moÅ¼na opisaÄ‡ w nastÄ™pujÄ…cy sposÃ³b: mamy jakiÅ› widok, gdzie klikajÄ…c wywoÅ‚ujemy jakieÅ› akcje, jest ona obsÅ‚uÅ¼ona przez jakiÅ› serwis â€œdomenowyâ€ a jej rezultat jest widoczny wÅ‚aÅ›ciwie od razu. W przypadku actor modelu i podejÅ›cia wielowÄ…tkowego musimy reagowaÄ‡ na odpowiedÅº, kiedy ona przyjdzie i nie oczekiwaÄ‡, iÅ¼ zostanie ona zwrÃ³cona od razu. RozwaÅ¼my nastÄ™pujÄ…cÄ… sytuacjÄ™ mamy aktora A, ktÃ³ry przekazuje wiadomoÅ›ci do aktora B. B z kolei tworzy n dzieci te wykonujÄ… wÅ‚aÅ›ciwe zadanie a kiedy ostatni z nich zakoÅ„czy wykonywanie to zwraca jest dopiero ostateczna odpowiedÅº. Takie przetwarzanie moÅ¼e zajÄ…Ä‡ sporo czasu, wiÄ™c nie blokujmy UI tylko pozwÃ³lmy uÅ¼ytkownikowi dziaÅ‚aÄ‡ dalej, a gdy przyjdzie odpowiedÅº poinformujemy go o tym.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pewnie elementÃ³w mÃ³gÅ‚bym wymieniÄ‡ wiÄ™cej, ale wydaje mi siÄ™, Å¼e powyÅ¼sze sprawy sÄ… kluczowe. Co do moich odczuÄ‡ po paru miesiÄ…cach pracy z rozwiÄ…zaniem opartym o actor model to mam parÄ™ przemyÅ›leÅ„. Po pierwsze czasem implementujÄ…c funkcjonalnoÅ›Ä‡ ciÄ™Å¼ko jest oddzieliÄ‡ framework actor modelu od implementowanej funkcjonalnoÅ›ci. Nie chodzi mi tu o to, Å¼e sama biblioteka jest niemoÅ¼liwa do oddzielenia, ale podczas implementacji miaÅ‚em sporo momentÃ³w, kiedy jakÄ…Å› logikÄ™ zaimplementowaÅ‚em w samych aktorach. Po drugie kaÅ¼dy komunikat to osobna klasa. I tak ma to sens, ale w momencie kiedy mamy komunikatÃ³w sporo musimy mieÄ‡ sporo plikÃ³w, poniewaÅ¼ nie wrzucimy 100 klas do jednego pliku. Z czasem kiedy projekt zaczyna rosnÄ…Ä‡, nawigacja i ogarniÄ™cie co gdzie jest zaczyna byÄ‡ problematyczne. Mimo tych problemÃ³w polecam zainteresowanie siÄ™ tematem actor modelu, poniewaÅ¼ moÅ¼e on pomÃ³c Wam w budowaniu duÅ¼ych i skalowalnych systemÃ³w. &lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category><category term="actror model"></category><category term="Akka.NET"></category><category term="Akka"></category></entry><entry><title>Pimp your commandline</title><link href="https://harunx9.github.io/pimp-your-commandline.html" rel="alternate"></link><published>2016-11-06T00:00:00+01:00</published><updated>2016-11-06T00:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-11-06:/pimp-your-commandline.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, dziÅ› chciaÅ‚em nieco odejÅ›Ä‡ od tematu programowania na rzecz pokazania moÅ¼liwoÅ›ci modyfikacji narzÄ™dzi pracy programisty. OprÃ³cz ulubionego IDE na podorÄ™dziu kaÅ¼dego developera powinna znajdowaÄ‡ siÄ™ konsola czy teÅ¼ tzw. commandline. Systemy Uniksopodobne (Linux, OSX, FreeBSD, itp) mogÄ… poszczyciÄ‡ siÄ™ masÄ… dodatkÃ³w do swoich terminali tak Windowsy od zawsze miaÅ‚y â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, dziÅ› chciaÅ‚em nieco odejÅ›Ä‡ od tematu programowania na rzecz pokazania moÅ¼liwoÅ›ci modyfikacji narzÄ™dzi pracy programisty. OprÃ³cz ulubionego IDE na podorÄ™dziu kaÅ¼dego developera powinna znajdowaÄ‡ siÄ™ konsola czy teÅ¼ tzw. commandline. Systemy Uniksopodobne (Linux, OSX, FreeBSD, itp) mogÄ… poszczyciÄ‡ siÄ™ masÄ… dodatkÃ³w do swoich terminali tak Windowsy od zawsze miaÅ‚y w na tym polu nieco gorzej. Od pewnego czasu sytuacja ta zaczÄ™Å‚a siÄ™ zmieniaÄ‡ za pomocÄ… ciekawych alternatyw dla cmd.exe czy niebieskiego powershella. &lt;/p&gt;
&lt;p&gt;Pierwsza i chyba najstarszÄ… alternatywÄ… jest emulator basha z gita. Ja sam trochÄ™ z tego korzystaÅ‚em, ale jakoÅ› nie do koÅ„ca mi ta alternatywa odpowiadaÅ‚a, mimo wszystko naleÅ¼y o niej z obowiÄ…zku wspomnieÄ‡. Po wielu bojach i prÃ³bach ucywilizowania windowsowego cmd poddaÅ‚em siÄ™ i obecnie korzystam z cmderâ€™a (zbudowany na emulatorze ConEmu w tandemie z powershellem). Teminal moÅ¼na znaleÅºÄ‡ pod adresem: http://cmder.net/.
Efekt po przerÃ³bkach powinien prezentowaÄ‡ siÄ™ w taki oto sposÃ³b:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt posh" src="/images/posh.gif"&gt;&lt;/p&gt;
&lt;p&gt;Dodatkowo aby poprawiÄ‡ wyglÄ…d tak jak jest to pokazane powyÅ¼ej korzystaÄ‡ z nastÄ™pujÄ…cych dodatkÃ³w powershella: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;posh-git - czyli dodatek do gita w powershell dostÄ™pny pod: &lt;a href="https://github.com/dahlbyk/posh-git"&gt;https://github.com/dahlbyk/posh-git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;oh-my-posh - czyli powerline dla powershella plus parÄ™ innych udogodnieÅ„: &lt;a href="https://github.com/JanJoris/oh-my-posh"&gt;https://github.com/JanJoris/oh-my-posh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;font - fira code: &lt;a href="https://github.com/tonsky/FiraCode"&gt;https://github.com/tonsky/FiraCode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Po instalacji wszystkiego naleÅ¼y ustawiÄ‡ oh my posh jako skrypt startowy cmderâ€™a. Aby tego dokonaÄ‡ naleÅ¼y wejÅ›Ä‡ do {instalacja cmder}\config i do pliku user-profile.ps1 oddaÄ‡ linie:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;Import-Module&lt;/span&gt; &lt;span class="n"&gt;oh-my-posh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;JeÅ¼eli wszystko poszÅ‚o ok to pozostaje tylko dostosowaÄ‡ kolory i tyle.&lt;/p&gt;</content><category term="inne"></category><category term="tools"></category></entry><entry><title>C/C++: Typy danych, zmienne i operatory</title><link href="https://harunx9.github.io/cc-typy-danych-zmienne-i-operatory.html" rel="alternate"></link><published>2016-10-31T01:00:00+01:00</published><updated>2016-10-31T01:00:00+01:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-10-31:/cc-typy-danych-zmienne-i-operatory.html</id><summary type="html">&lt;p&gt;Witam ponownie, jeÅ¼eli to czytasz to znaczy, Å¼e wrÃ³ciÅ‚eÅ› po wiÄ™cej C++. W tym wpisie postaram siÄ™ przedstawiÄ‡ typy danych, operatory i koncepcjÄ™ zmiennej. Zaczniemy od tego jakie moÅ¼emy mieÄ‡ zmienne w C++. 
TypÃ³w podstawowych jest sporo, wiÄ™c postaram siÄ™ omÃ³wiÄ‡ najpopularniejsze i najczÄ™Å›ciej uÅ¼ywane:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;int min: -2147483648 max: 2147483647 â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Witam ponownie, jeÅ¼eli to czytasz to znaczy, Å¼e wrÃ³ciÅ‚eÅ› po wiÄ™cej C++. W tym wpisie postaram siÄ™ przedstawiÄ‡ typy danych, operatory i koncepcjÄ™ zmiennej. Zaczniemy od tego jakie moÅ¼emy mieÄ‡ zmienne w C++. 
TypÃ³w podstawowych jest sporo, wiÄ™c postaram siÄ™ omÃ³wiÄ‡ najpopularniejsze i najczÄ™Å›ciej uÅ¼ywane:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;int min: -2147483648 max: 2147483647 (liczby caÅ‚kowite),&lt;/li&gt;
&lt;li&gt;float min: 1.17549e-38 max: 3.40282e+38 (liczby zmiennoprzecinkowe pojedynczej precyzji),&lt;/li&gt;
&lt;li&gt;double min: 2.22507e-308 max: 1.79769e+308 (liczby zmiennoprzecinkowe pojedynczej precyzji),&lt;/li&gt;
&lt;li&gt;short min: -32768 max: 32767 (maÅ‚e liczby caÅ‚kowite),&lt;/li&gt;
&lt;li&gt;long min: -2147483648 max: 2147483647 (duÅ¼e liczby caÅ‚kowite),&lt;/li&gt;
&lt;li&gt;char min: -127 max: 127 (typ do zapisu znakÃ³w),&lt;/li&gt;
&lt;li&gt;bool (typ logiczny posiadajÄ…cy dwie wartoÅ›ci: true (prawda) oraz false (faÅ‚sz)).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Do typÃ³w liczbowych moÅ¼emy dodatkowo dodaÄ‡ przedrostek unsigned, co spowoduje, iÅ¼ typ bÄ™dzie mÃ³gÅ‚ reprezentowaÄ‡ tylko liczby dodatnie. Nie sÄ… to wszystkie moÅ¼liwe typy danych, ale na poczÄ…tek powinno wystarczyÄ‡. &lt;/p&gt;
&lt;p&gt;KolejnÄ… sprawÄ…, ktÃ³rÄ… chciaÅ‚em omÃ³wiÄ‡ sÄ… zmienne i operatory. Zmienne mÃ³wiÄ…c najproÅ›ciej sÄ… to pojemniki w ktÃ³rych przechowuje siÄ™ rÃ³Å¼ne wartoÅ›ci. PoniewaÅ¼ C++ jest jÄ™zykiem silnie typowanym kaÅ¼da zmienna musi mieÄ‡ jasno okreÅ›lony typ. W kodzie moÅ¼emy zapisaÄ‡ to w nastÄ™pujÄ…cy sposÃ³b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;myVariable&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// deklaracja zmiennej&lt;/span&gt;
    &lt;span class="n"&gt;myVariable&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// przypisanie wartoÅ›ci do zmiennej&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;myVariable&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// wypisanie wartoÅ›ci zmiennej na konsole&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Co waÅ¼ne, jeÅ›li nie przypiszemy wartoÅ›ci do zmiennej podczas uruchomienia programu otrzymamy bÅ‚Ä…d. CaÅ‚y zapis da siÄ™ nieco uproÅ›ciÄ‡ do niniejszej postaci:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;myVariable&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// definicja zmiennej zmiennej&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;myVariable&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// wypisanie wartoÅ›ci zmiennej na konsole&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak moÅ¼na zauwaÅ¼yÄ‡ deklaracja zmiennej z przypisaniem do niej wartoÅ›ci to tzw. definicja zmiennej. Spoko juÅ¼ wiemy czym sÄ… zmienne, moÅ¼emy przejÅ›Ä‡ do operatorÃ³w. DzielÄ… siÄ™ one na kilka typÃ³w. Jako pierwsze na tapetÄ™ weÅºmiemy operatory matematyczne:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;//dodawanie&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;//odejmowanie&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;//mnoÅ¼enie&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mf"&gt;3.0&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;//dzielenie&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;//modulo&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;pre: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot; post: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;// pre i post inkrementacja&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;pre: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot; post: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;// pre i post dekrementacja&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// operator Å‚Ä…czony w tym przypadku oznacza a = a + b&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Poza operatorami matematycznymi C++ posiada rÃ³wnieÅ¼ operatory logiczne:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// lub&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;// i&lt;/span&gt;


    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// negacja&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;KolejnÄ… grupÄ… sÄ… operatory sÅ‚uÅ¼Ä…ce do porÃ³wnywania wartoÅ›ci:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// czy a jest rÃ³wne b&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;// czy a mniejsze od b&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;dd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="c1"&gt;// czy a mniejsze lub rÃ³wne b&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;// czy a wiÄ™ksze od b&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;ff&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="c1"&gt;// czy a wiÄ™ksze lub rÃ³wne b&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;// czy a rÃ³Å¼ne od b&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pozostaje jeszcze kwestia operatorÃ³w bitowych, ale ze wzglÄ™du na zÅ‚oÅ¼onoÅ›Ä‡ tematu zostanÄ… one omÃ³wione w pÃ³Åºniejszych wpisach. W obecnym momencie nie bÄ™dÄ… one potrzebne do omawiania kolejnych elementÃ³w jÄ™zyka C++.&lt;/p&gt;</content><category term="blog"></category><category term="tutorial"></category><category term="programming"></category></entry><entry><title>Czy wiesz co robi za Ciebie kompilator?: Funkcje lambda</title><link href="https://harunx9.github.io/czy-wiesz-co-robi-za-ciebie-kompilator-funkcje-lambda.html" rel="alternate"></link><published>2016-10-24T00:00:00+02:00</published><updated>2016-10-24T00:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-10-24:/czy-wiesz-co-robi-za-ciebie-kompilator-funkcje-lambda.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, kiedyÅ› ludzie mÃ³wili mi, Å¼e nie naleÅ¼y wkÅ‚adaÄ‡ palcÃ³w miÄ™dzy drzwi, bo moÅ¼e zaboleÄ‡. Niestety jakoÅ› tak wychodzi, Å¼e jestem ciekawy jak
dziaÅ‚a to z czym pracujÄ™, wiÄ™c zaczÄ…Å‚em siÄ™ nieco przyglÄ…daÄ‡ jak wyglÄ…da .NET pod maskÄ… i nawet mi siÄ™ spodobaÅ‚o.
Na pierwszy ogieÅ„ pÃ³jdÄ… dziÅ› funkcje lambda â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, kiedyÅ› ludzie mÃ³wili mi, Å¼e nie naleÅ¼y wkÅ‚adaÄ‡ palcÃ³w miÄ™dzy drzwi, bo moÅ¼e zaboleÄ‡. Niestety jakoÅ› tak wychodzi, Å¼e jestem ciekawy jak
dziaÅ‚a to z czym pracujÄ™, wiÄ™c zaczÄ…Å‚em siÄ™ nieco przyglÄ…daÄ‡ jak wyglÄ…da .NET pod maskÄ… i nawet mi siÄ™ spodobaÅ‚o.
Na pierwszy ogieÅ„ pÃ³jdÄ… dziÅ› funkcje lambda w C# i to co kompilator sprytnie dodaje za programistÄ™. Rozpatrzmy zatem oto taki prosty kodzik: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Person&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
        &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Person&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;John&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Doe&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;

        &lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Doe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Po skompilowaniu w konfiguracji Debug zdekompilowaniu ILSpy otrzymamy coÅ› takiego:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="na"&gt;    [CompilerGenerated]&lt;/span&gt;
&lt;span class="na"&gt;    [Serializable]&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;sealed&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;Program&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Program&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

        &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;Func&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="n"&gt;__0_0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;internal&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;b__0_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Doe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;IEnumerable&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;arg_4B_0&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Person&lt;/span&gt;
            &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;John&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;Surname&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Doe&amp;quot;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;};&lt;/span&gt;
        &lt;span class="n"&gt;Func&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;arg_4B_1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;arg_4B_1&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Program&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="n"&gt;__0_0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;arg_4B_1&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Program&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;&lt;span class="n"&gt;__0_0&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Func&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;Program&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;9.&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;b__0_0&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="n"&gt;IEnumerable&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arg_4B_0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_4B_1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jak moÅ¼na zauwaÅ¼yÄ‡ funktory w C# generujÄ… dodatkowe klasy, ktÃ³re implementujÄ… funkcjÄ™ lambda zapisanÄ… przez nas w listingu pierwszym. Do tego odkrycia doszedÅ‚em w sumie przez przypadek. Pewnie taka
implementacja jest jak najbardziej ok, nie mniej jednak warto wiedzieÄ‡ jak kod wyglÄ…da po kompilacji. W powyÅ¼szym przypadku kod skompilowany w konfiguracji Release niewiele siÄ™ rÃ³Å¼ni, wiÄ™c nie ma sensu
pokazywanie go. PowyÅ¼szy przykÅ‚ad zmotywowaÅ‚ mnie do poszukania wiÄ™kszej iloÅ›ci przykÅ‚adÃ³w, wiÄ™c jeÅ›li coÅ› znajdÄ™ to niezwÅ‚ocznie opublikujÄ™. A tym czasem Å¼yczÄ™ miÅ‚ej lektury i do nastÄ™pnego razu. &lt;/p&gt;</content><category term="blog"></category><category term=".net"></category><category term="programming"></category><category term="c#"></category></entry><entry><title>C/C++: Konfiguracja Å›rodowiska</title><link href="https://harunx9.github.io/cc-konfiguracja-srodowiska.html" rel="alternate"></link><published>2016-10-16T01:00:00+02:00</published><updated>2016-10-16T01:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-10-16:/cc-konfiguracja-srodowiska.html</id><summary type="html">&lt;p&gt;No i staÅ‚o siÄ™, pierwszy techniczny post na blogu. Na samym poczÄ…tku muszÄ™ siÄ™ Wam do czegoÅ› przyznaÄ‡, a mianowicie od mojego ostatniego razu z C/C++ minÄ™Å‚y okoÅ‚o 2 lata. Wracam do tego jÄ™zyka piszÄ…c niewielkich rozmiarÃ³w silnik do gier. DoszedÅ‚em do wniosku, Å¼e fajnym pomysÅ‚em bÄ™dzie szybkie przejÅ›cie â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;No i staÅ‚o siÄ™, pierwszy techniczny post na blogu. Na samym poczÄ…tku muszÄ™ siÄ™ Wam do czegoÅ› przyznaÄ‡, a mianowicie od mojego ostatniego razu z C/C++ minÄ™Å‚y okoÅ‚o 2 lata. Wracam do tego jÄ™zyka piszÄ…c niewielkich rozmiarÃ³w silnik do gier. DoszedÅ‚em do wniosku, Å¼e fajnym pomysÅ‚em bÄ™dzie szybkie przejÅ›cie przez podstawowe elementy tego jÄ™zyka. A nuÅ¼ jeszcze ktoÅ› na tym skorzysta. &lt;/p&gt;
&lt;p&gt;CaÅ‚oÅ›Ä‡ kursu bÄ™dzie oparta o Visual Studio 2015 Community i system operacyjny Windows 10. Osoby, ktÃ³re uÅ¼ywajÄ… Linuksa, rÃ³wnieÅ¼ powinny z tego materiaÅ‚u skorzystaÄ‡ (niestety konfiguracjÄ™ Å›rodowiska musicie zrobiÄ‡ w wÅ‚asnym zakresie). Ze swojej strony proponujÄ™ zapoznaÄ‡ siÄ™ ze Å›rodowiskiem Code Blocks na Linuksa (z tego co pamiÄ™tam to nie jest ono zÅ‚e).  &lt;/p&gt;
&lt;p&gt;Na ten moment wydaje siÄ™ byÄ‡ wszystko jasne, wiÄ™c startujemy z konfiguracjÄ…    Å›rodowiska Visual Studio 2015 Community. KonfiguracjÄ™ naleÅ¼y pobraÄ‡ z oficjalnej strony Microsoftu: https://www.visualstudio.com/vs/ . 
Co waÅ¼ne Visual Studio 2015 Community nie instaluje kompilatora C++ automatycznie, wiÄ™c naleÅ¼y zaznaczyÄ‡ to w instalatorze, tak jak na poniÅ¼szym screenie:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt install" src="/images/cpp1/vsIntall.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Po instalacji, ktÃ³ra zajmie trochÄ™ czasu, naleÅ¼y uruchomiÄ‡ Visual Studio 2015 Community i zalogowaÄ‡ siÄ™ na konto Microsoft. Gdy juÅ¼ wszystko mamy skoÅ„czone, klikamy File &amp;gt; New &amp;gt; Project. Naszym oczom powinno ukazaÄ‡ siÄ™ nastÄ™pujÄ…ce okienko, z ktÃ³rego wybieramy Win32 Console Application:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt install" src="/images/cpp1/Createcppproj.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Gdy wszystko poszÅ‚o zgodnie z planem, powinno wyÅ›wietliÄ‡ siÄ™ nam nastÄ™pujÄ…ce okienko dialogowe, w ktÃ³rym klikamy Next:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt install" src="/images/cpp1/cppproj1.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Na nastÄ™pnym dialogu wybieramy opcje, tak jak na poniÅ¼szym screenie, aby utworzyÄ‡ pusty projekt C++:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt install" src="/images/cpp1/cppproj2.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Po wczeÅ›niejszych operacjach powinieneÅ› otrzymaÄ‡ pusty projekt, do ktÃ³rego trzeba dodaÄ‡ nasz pierwszy plik z kodem ÅºrÃ³dÅ‚owym programu. Zrobimy to naciskajÄ…c prawym klawiszem myszy na ikonie projektu:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alt install" src="/images/cpp1/fileadd.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Powinno siÄ™ nam rozwinÄ…Ä‡ Menu kontekstowe, z ktÃ³rego wybieramy Add &amp;gt; New Item. 
Z dialogu wybieramy .cpp file i nazywamy plik main.cpp., klikamy ok i w ten oto sposÃ³b mamy pierwszy plik.
KaÅ¼dy program w C/C++ zaczyna siÄ™ od funkcji main, ktÃ³ra musi mieÄ‡ pewnÄ… zdefiniowanÄ… strukturÄ™:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Po naciÅ›niÄ™ciu Ctrl + F5 rozpocznie siÄ™ kompilacja, ktÃ³ra jeÅ›li siÄ™ powiedzie pojawi siÄ™ puste okienko wiersza poleceÅ„. Nasz program uruchomiÅ‚ siÄ™ i wykonaÅ‚, oczywiÅ›cie nic nie widzimy poza pustym ekranem, poniewaÅ¼ nasz program nic jeszcze nie robi. By zmieniÄ‡ ten stan rzeczy wypiszemy standardowe â€œHello Worldâ€. W zwiÄ…zku z tym musimy do istniejÄ…cej funkcji main odrobinÄ™ dopisaÄ‡:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Widzimy, Å¼e pojawiÅ‚o siÄ™ trochÄ™ nowych rzeczy, ktÃ³re po kolei omÃ³wiÄ™. Dyrektywa #include &lt;iosteram&gt; mÃ³wi, Å¼e do naszego programu importujemy moduÅ‚ wejÅ›cia wyjÅ›cia w naszym przypadku bÄ™dzie to wyjÅ›cie na konsole systemowÄ…. Kolejna linijka, czyli using namespace std; to powiedzenie kompilatorowi, Å¼e ma nam pozwoliÄ‡ uÅ¼ywaÄ‡ ad hoc funkcji ze standardowej przestrzeni nazw. O przestrzeniach nazw powiem jeszcze w dalszej czÄ™Å›ci kursu. Linijka cout &amp;lt;&amp;lt; "Hello World" &amp;lt;&amp;lt; endl; jest opowiedzialna za wypisanie na wyÅ›cie konsoli systemowej napisu â€œHello Worldâ€ i przejÅ›cie kursora do nowej lini. 
To tyle w tej czÄ™Å›ci za niedÅ‚ugo kolejne zmagania z C++.&lt;/p&gt;</content><category term="blog"></category><category term="tutorial"></category><category term="programming"></category></entry><entry><title>3.2.1 start</title><link href="https://harunx9.github.io/321-start.html" rel="alternate"></link><published>2016-10-16T00:00:00+02:00</published><updated>2016-10-16T00:00:00+02:00</updated><author><name>Szymon Wanot</name></author><id>tag:harunx9.github.io,2016-10-16:/321-start.html</id><summary type="html">&lt;p&gt;CzeÅ›Ä‡, &lt;/p&gt;
&lt;p&gt;Po doÅ›Ä‡ dÅ‚ugim czasie zastanawiania siÄ™ czy inicjatywa w postaci kolejnego bloga technologicznego ma sens, postanowiÅ‚em jednak wystartowaÄ‡. &lt;/p&gt;
&lt;p&gt;W miarÄ™ moich moÅ¼liwoÅ›ci czasowych, postaram siÄ™ jak najczÄ™Å›ciej dodawaÄ‡ posty.
Tematy, ktÃ³re bÄ™dÄ™ poruszaÅ‚ w niniejszym blogu w duÅ¼ej mierze bÄ™dÄ… dotyczyÄ‡ technologii .NET/C# oraz C/C++ w kontekÅ›cie â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;CzeÅ›Ä‡, &lt;/p&gt;
&lt;p&gt;Po doÅ›Ä‡ dÅ‚ugim czasie zastanawiania siÄ™ czy inicjatywa w postaci kolejnego bloga technologicznego ma sens, postanowiÅ‚em jednak wystartowaÄ‡. &lt;/p&gt;
&lt;p&gt;W miarÄ™ moich moÅ¼liwoÅ›ci czasowych, postaram siÄ™ jak najczÄ™Å›ciej dodawaÄ‡ posty.
Tematy, ktÃ³re bÄ™dÄ™ poruszaÅ‚ w niniejszym blogu w duÅ¼ej mierze bÄ™dÄ… dotyczyÄ‡ technologii .NET/C# oraz C/C++ w kontekÅ›cie tworzenia gier komputerowych.&lt;/p&gt;
&lt;p&gt;MoÅ¼liwe, Å¼e w pÃ³Åºniejszym czasie pojawi siÄ™ seria wpisÃ³w na temat Unreal Engine 4. 
ChciaÅ‚bym rÃ³wnieÅ¼ zamieÅ›ciÄ‡ artykuÅ‚ na temat aplikacji webowych, ale gÅ‚Ã³wnie od strony architektury oraz dobrych praktyk.&lt;/p&gt;
&lt;p&gt;Pozdrawiam oraz Å¼yczÄ™ przyjemnej lektury.&lt;/p&gt;</content><category term="blog"></category><category term="inne"></category></entry></feed>